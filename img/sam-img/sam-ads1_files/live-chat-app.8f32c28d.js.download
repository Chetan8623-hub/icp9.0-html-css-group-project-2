((self||this)["webpackJsonp@sprinklrjs/chat-web-client"]=(self||this)["webpackJsonp@sprinklrjs/chat-web-client"]||[]).push([[95],{1077:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(191),o=n.n(a),i=n(31),r=n.n(i),c=n(49),s=n.n(c),l=n(334),d=n.n(l),u=n(216),b=n.n(u),f=n(197),p=n(280),y=n(252);var O=()=>e=>{const t={eventId:e.label,eventType:e.action.id,additional:{...e.additional,conversationId:e.conversationId,page:e.page,appId:e.appId}};Object(p.a)({topic:y.e,payload:{data:t}})},v=n(262),g=n(265),h=n(199);const j=new Set([g.a.AGENT_ASSIGNED.id,g.a.VIDEO_CALL_OUTGOING_STARTING.id,g.a.AUDIO_CALL_OUTGOING_STARTING.id,g.a.CALL_ENDED.id,g.a.CALL_MISSED.id,g.a.CALL_DECLINED.id,g.a.CALL_FAILED.id,g.a.CALL_PAGE_MAXIMISED.id,g.a.CALL_PAGE_MINIMISED.id,g.a.ATTACHMENT_BUTTON_CLICKED.id,g.a.SEND_BUTTON_CLICKED.id,g.a.SESSION_ACTIVE.id]);var m=()=>async e=>{if(j.has(e.action.id))return;const t={page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT",sourceSubType:e.sourceSubType,...e.additional};try{await v.a.post("/livechat/prompt/browse/event",t)}catch(n){Object(h.b)(n)}},I=n(295),C=n(240),T=n(208),E=n(281),x=n(207),S=n(306),_=n(1),A=n(0),w=n(577),R=n(430),M=n(192);const P=o.a.createContext(b.a);let N=[];const D=e=>Object(S.c)(Object(x.e)(e)),L=e=>{const t=Object(I.a)(),o=Object(C.a)(),i=Object(a.useRef)(N),[c,l]=Object(a.useState)(!r()(i.current)),u=Object(T.a)(E.c),b=Object(T.a)(E.b),p=Object(f.d)(D),y=Object(A.S)(),v=null===o||void 0===o?void 0:o.sendSessionActiveEvent;return Object(a.useEffect)((()=>{if(c&&p.length){const e={...p[0],category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone,appId:Object(_.a)().appId};((e,t)=>{Object(w.c)((()=>{s()(e,(e=>{e(t)}))}))})(i.current,e),b()}}),[p,c]),Object(a.useEffect)((()=>{y||c||(e=>{var t,a,o,i;const r=[],c=null===e||void 0===e||null===(t=e.analyticsSettings)||void 0===t||null===(a=t.googleAnalytics)||void 0===a?void 0:a.trackerId,s=null===e||void 0===e||null===(o=e.analyticsSettings)||void 0===o||null===(i=o.sprinklrAnalytics)||void 0===i?void 0:i.enabled;return null!==c&&void 0!==c&&c.startsWith("UA-")?r.push(n.e(143).then(n.bind(null,1562)).then((e=>e.default.createTracker({trackerId:c},{canAccessParent:Object(A.Q)()}))).catch((()=>{}))):null!==c&&void 0!==c&&c.startsWith("G-")&&r.push(n.e(80).then(n.bind(null,1563)).then((e=>e.default.createTracker({trackerId:c},{canAccessParent:Object(A.Q)()}))).catch((()=>{}))),s&&r.push(m()),r.push(O()),Promise.all(r)})(o).then((e=>{i.current=d()(e),N=i.current,l(!0)}))}),[]),Object(a.useEffect)((()=>{let e;return v&&(e=R.d.on((e=>{if(e.type===R.e)u({label:g.a.SESSION_ACTIVE.label,action:g.a.SESSION_ACTIVE})}))),()=>{var t;return null===(t=e)||void 0===t?void 0:t()}}),[v]),Object(M.jsx)(P.Provider,{value:u},e.children)};t.b=o.a.memo(L)},1088:function(e,t,n){"use strict";var a=n(191),o=n.n(a),i=n(286),r=n.n(i),c=n(369),s=n(218),l=n(192);var d=e=>{const t=Object(c.a)(e.window,e.onResize),n=Object(a.useMemo)((()=>[...r()(e.resizeRefs||[]),t]),[t,e.resizeRefs]),i=Object(s.a)(...n);return Object(l.jsx)(o.a.Fragment,null,e.children(i))};t.a=d},1089:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(216),o=n.n(a),i=n(886);const r=5;function c(e,t){return new Promise(((n,a)=>{setTimeout((()=>{e().then(n,a)}),t)}))}const s={},l=(e,t)=>{s[t]=e,e.catch(o.a).finally((()=>{delete s[t]}))};var d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{maxAttempts:n=r}=t;function a(e){return 1e3*(e?Math.pow(2,Math.min(e-1,n)):0)}function o(e,t){return c(e,a(t)).catch((a=>{if(t===n)throw a;return o(e,t+1)}))}const d=Object(i.a)(e.toString());if(d in s)return s[d];const u=o(e,0);return l(u,d),u};const u=()=>d((()=>n.e(48).then(n.bind(null,1529))),{maxAttempts:3})},1166:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},1167:function(e,t,n){var a=n(516);e.exports=function(e,t){for(var n=-1,o=e.length;++n<o&&a(t,e[n],0)>-1;);return n}},1225:function(e,t,n){var a={"./classic/pages":[1447,14,108],"./modern/pages":[1446,14,109]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id=1225,e.exports=o},1226:function(e,t,n){"use strict";var a=n(1227);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=a(n(1228));e.exports=t.default},1227:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1228:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1229:function(e,t,n){"use strict";function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))}},1230:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(242)),o=c(n(191)),i=c(n(288)),r=n(878);n(879);function c(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var l="exited";t.EXITED=l;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var b="exiting";t.EXITING=b;var f=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var o,i=n.transitionGroup,r=i&&!i.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?r?(o=l,a.appearStatus=d):o=u:o=t.unmountOnExit||t.mountOnEnter?s:l,a.state={status:o},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getChildContext=function(){return{transitionGroup:null}},a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:l}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==u&&(t=d):n!==d&&n!==u||(t=b)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},r.performEnter=function(e,t){var n=this,a=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),r=o?i.appear:i.enter;t||a?(this.props.onEnter(e,o),this.safeSetState({status:d},(function(){n.props.onEntering(e,o),n.onTransitionEnd(e,r,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,o)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},r.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:b},(function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var a=null==t&&!this.props.addEndListener;e&&!a?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,a=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"===typeof n)return n(e,a);var i=o.default.Children.only(n);return o.default.cloneElement(i,a)},a}(o.default.Component);function p(){}f.contextTypes={transitionGroup:a.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var y=(0,r.polyfill)(f);t.default=y},1231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(370),o=a.__importStar(n(191)),i=n(191),r=a.__importDefault(n(1232)),c=a.__importDefault(n(1233));t.default=function(e){return function(t){var n,s;s=o.isValidElement(t)?(n=t).props:t;var l=r.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),d=l[0],u=l[1],b=i.useRef(null),f=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},p=function(){return u({paused:!1})},y=function(){return u({paused:!0})},O=function(){var e=b.current;e&&u({muted:e.muted,volume:e.volume})},v=function(){var e=b.current;if(e){var t=e.duration,n=e.buffered;u({duration:t,buffered:c.default(n)})}},g=function(){var e=b.current;e&&u({time:e.currentTime})},h=function(){var e=b.current;e&&u({buffered:c.default(e.buffered)})};n=n?o.cloneElement(n,a.__assign(a.__assign({controls:!1},s),{ref:b,onPlay:f(s.onPlay,p),onPause:f(s.onPause,y),onVolumeChange:f(s.onVolumeChange,O),onDurationChange:f(s.onDurationChange,v),onTimeUpdate:f(s.onTimeUpdate,g),onProgress:f(s.onProgress,h)})):o.createElement(e,a.__assign(a.__assign({controls:!1},s),{ref:b,onPlay:f(s.onPlay,p),onPause:f(s.onPause,y),onVolumeChange:f(s.onVolumeChange,O),onDurationChange:f(s.onDurationChange,v),onTimeUpdate:f(s.onTimeUpdate,g),onProgress:f(s.onProgress,h)}));var j=!1,m={play:function(){var e=b.current;if(e&&!j){var t=e.play();if("object"===typeof t){j=!0;var n=function(){j=!1};t.then(n,n)}return t}},pause:function(){var e=b.current;if(e&&!j)return e.pause()},seek:function(e){var t=b.current;t&&void 0!==d.duration&&(e=Math.min(d.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=b.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,u({volume:e}))},mute:function(){var e=b.current;e&&(e.muted=!0)},unmute:function(){var e=b.current;e&&(e.muted=!1)}};return i.useEffect((function(){var e=b.current;e&&(u({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&m.play())}),[s.src]),[n,d,m,b]}}},1232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(191);t.default=function(e){void 0===e&&(e={});var t=a.useState(e),n=t[0],o=t[1];return[n,a.useCallback((function(e){o((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[o])]}},1233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1234:function(e,t,n){var a=n(516),o=n(80),i=Math.max;e.exports=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var c=null==n?0:o(n);return c<0&&(c=i(r+c,0)),a(e,t,c)}},1235:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1236:function(e,t,n){var a=n(1237),o=n(32),i=/[&<>"']/g,r=RegExp(i.source);e.exports=function(e){return(e=o(e))&&r.test(e)?e.replace(i,a):e}},1237:function(e,t,n){var a=n(527)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=a},1554:function(e,t,n){"use strict";var a=n(320),o=n(475),i=n(515),r=n(588),c=Number.isInteger||function(e){return e<<0===e},s=n(813),l=n(1194),d=Object(o.a)((function e(t,n,a){if(0===t.length)return n;var o=t[0];if(t.length>1){var d=!Object(l.a)(a)&&Object(i.a)(o,a)?a[o]:c(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,d)}if(c(o)&&Object(r.a)(a)){var u=[].concat(a);return u[o]=n,u}return Object(s.a)(o,n,a)})),u=n(1078),b=n(812),f=Object(a.a)((function(e){return Object(u.a)(Object(b.a)(e),d(e))}));t.a=f},1558:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return C}));var a=n(670),o=n.n(a),i=n(595),r=n.n(i),c=n(8),s=n.n(c),l=n(31),d=n.n(l),u=n(1),b=n(0),f=n(836),p=n(768),y=n(674),O=n(287),v=n(840),g=n(318),h=n(294),j=n(841);var m=n(876),I=n(577);const C=()=>{if(function(){async function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];Object(p.a)(f.a.getQueue(),e,...n)}const t=Object(u.e)();e.q=t?t.q:[],e.loaded=!0,Object(u.b)().sprChat=e}(),Object(b.P)()){const e=Object(b.z)();m.a.preload(e)}const e=Object(u.e)();f.a.addCmdToQueue(f.a.getQueue(),...e.q),async function(){const e=Object(u.a)();let t,a;try{if(d()(e))throw new Error;await Object(y.g)(e),await Object(y.h)({getSessionToken:()=>Object(h.a)(e.appId)});const[o,i]=await Object(y.a)(e);if("rejected"===o.status)throw new Error;if(t=o.value,"rejected"===i.status)throw i.reason;a=i.value,Object(j.a)(a,t),Object(y.c)(t),await Object(y.h)({applicationConfig:t,handshakeDetails:a}),t.hasPrompts&&n.e(55).then(n.bind(null,1525)).then((e=>{let{default:n}=e;n(t,a)})),(0,(await Promise.resolve().then(n.bind(null,766))).default)(null,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:y.f})}catch(o){const i=O.a.getUserSettings(e);Object(g.e)(o)&&i&&v.a.getOneTimeToken(i)?(0,(await Promise.resolve().then(n.bind(null,766))).default)(o,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:y.f}):await Object(y.e)()}}();const{meetingId:t,user:a,otp:i}=Object(u.a)(),c=s()(a,"oneTimeToken");d()(t)&&d()(c)&&d()(i)||e("open");const{autoTrigger:l}=Object(u.a)();let C;C=!0===l?0:o()(l)?1e3*Math.max(l,0):null,r()(C)||setTimeout((()=>{e("openNewConversation")}),C),Object(I.c)((()=>Promise.resolve().then(n.bind(null,766))))}},217:function(e,t,n){"use strict";var a=n(191),o=n(1077);t.a=function(){return Object(a.useContext)(o.a)}},218:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(191);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.useCallback)((e=>{t.forEach((t=>{t&&("function"===typeof t?t(e):t.current=e)}))}),[...t])}},224:function(e,t,n){"use strict";var a=n(194);t.a=Object(a.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"},messageDeleteDescription:{id:"messageDeleteDescription",defaultMessage:"This message was deleted"},confirmationDialog:{id:"confirmationDialog",defaultMessage:"Confirmation dialog"},close:{id:"close",defaultMessage:"Close"},openChat:{id:"openChat",defaultMessage:"Open chat"}})},252:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"n",(function(){return y})),n.d(t,"j",(function(){return O}));const a="unreadCountChanged",o="externalEventTriggered",i="externalCallback",r="loaded",c="loadCompleted",s="closed",l="availabilityChanged",d="promptActionTriggered",u="mediaShown",b="mediaClosed",f="eventTriggered",p="registerDeviceTriggered",y="unregisterDeviceTriggered",O="onPermissionSeeked"},260:function(e,t,n){"use strict";var a=n(191);const o={childList:!0,subtree:!0,attributes:!0};t.a=(e,t)=>{const[n,i]=Object(a.useState)();Object(a.useLayoutEffect)((()=>{const a=[];if(n){if(e.MutationObserver){const i=new e.MutationObserver(t);i.observe(n,o),a.push((()=>i.disconnect()))}else e.document.addEventListener("DOMSubtreeModified",t),a.push((()=>e.document.removeEventListener("DOMSubtreeModified",t)));a.push((()=>e.removeEventListener("resize",t)),(()=>e.document.removeEventListener("transitionend",t)))}return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&i(e)}),[])}},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(191),o=n(881);const i=()=>Object(a.useContext)(o.a)},280:function(e,t,n){"use strict";var a=n(649);const o=new(n(586).a);o.on((e=>{const{topic:t,payload:n={},callback:o}=e;t&&Object(a.a)({topic:t,payload:{response:{data:n.data,error:n.error},request:n.request,shouldLogEvent:n.shouldLogEvent},callback:o})})),t.a=function(e){o.emit(e)}},289:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var a=n(1560),o=n(1538),i=n(1452);const r=Object(a.a)("conversationScreen"),c=Object(a.a)("callScreen"),s=Object(a.a)("videoCall"),l=Object(a.a)("audioCall"),d=Object(a.a)("settings"),u=Object(a.a)("trigger"),b=Object(a.a)("proactivePrompt"),f=Object(a.a)("minimizeChatBoxOnCloseInPhone"),p=Object(a.a)("header"),y=Object(a.a)("label"),O=Object(a.a)("openInFullScreen"),v=Object(a.a)("label"),g=Object(a.a)("defaultHidden"),h=Object(a.a)("initiallyHidden"),j=Object(a.a)("hideWhenOpen"),m=Object(a.a)("canManuallyRemove"),I=Object(a.a)("invisibilityCriteria"),C=Object(a.a)("animation"),T=Object(a.a)("contactDetailsMessage"),E=Object(a.a)("maximumOpenConversations"),x=Object(a.a)("autoLoginSSOId"),S=Object(a.a)("hour12"),_=Object(a.a)("externalLocaleData"),A=Object(a.a)("homeScreen"),w=Object(a.a)("conversationCard"),R=Object(a.a)("hideWavingHandIcon"),M=Object(a.a)("shouldShow"),P=Object(a.a)("agents"),N=Object(a.a)("button"),D=Object(a.a)("enableIndividualMessageDismissal"),L=Object(a.a)("infoCard"),k=Object(a.a)("existingConversationCard"),U=Object(a.a)("showHeader");class B{}B.getDefaultMessages=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.lastMessage},B.getWaitTimeConfig=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.waitTimeConfig},B.getSurveyActionsToShowByVariant=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.surveyScreen)||void 0===t?void 0:t.actionsToShowByVariant},B.getActionsToShowByVariant=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionsToShowByVariant},B.getConversationActionOnPageCloseByScope=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionOnPageCloseByScope},B.shouldShowSenderNameInConversationScreen=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.showSenderName},B.getFooterActionsToShow=e=>{var t,n;return null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.actionsToShow},B.getActionOnPageCloseByScope=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.actionOnPageCloseByScope},B.getAnalyticsSettings=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.analyticsSettings},B.hour12Enabled=Object(o.a)(Object(i.a)(S),Object(i.a)(d)),B.conversationTagsEnabled=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.conversationTagsEnabled},B.showCaseNumberEnabled=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.showCaseNumber},B.isSprinklrAnalyticsEnabled=e=>{var t,n,a;return null===(a=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.sprinklrAnalytics)||void 0===a?void 0:a.enabled},B.getGoogleTrackerId=e=>{var t,n,a;return null===(a=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.googleAnalytics)||void 0===a?void 0:a.trackerId},B.getMaximumOpenConversations=Object(o.a)(Object(i.a)(E),Object(i.a)(d)),B.getDisableManualNewConversation=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.disableManualNewConversation},B.getUserPreferences=Object(i.a)(d),B.getContactDetailsMessage=Object(o.a)(Object(i.a)(T),Object(i.a)(r)),B.getTriggerConfig=Object(i.a)(u),B.getInvisibilityCriteriaOfTrigger=Object(o.a)(Object(i.a)(I),B.getTriggerConfig),B.getAnimationInfoOfTrigger=Object(o.a)(Object(i.a)(C),B.getTriggerConfig),B.getTriggerLabel=Object(o.a)(Object(i.a)(v),B.getTriggerConfig),B.isChatTriggerHidden=Object(o.a)(Object(i.a)(g),Object(i.a)(u)),B.isChatTriggerInitiallyHidden=Object(o.a)(Object(i.a)(h),Object(i.a)(u)),B.isTriggerHiddenWhenMaximised=Object(o.a)(Object(i.a)(j),Object(i.a)(u)),B.canTriggerBeManuallyRemoved=Object(o.a)(Object(i.a)(m),Object(i.a)(u)),B.getAutoLoginSSOId=Object(o.a)(Object(i.a)(x),Object(i.a)(d)),B.isDebugModeEnabled=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.enableDebugMode},B.getExternalLocaleData=Object(o.a)(Object(i.a)(_),Object(i.a)(d)),B.shouldHideWavingHandIcon=Object(o.a)(Object(i.a)(R),Object(i.a)(w),Object(i.a)(A)),B.shouldShowAgents=Object(o.a)(Object(i.a)(M),Object(i.a)(P),Object(i.a)(w),Object(i.a)(A)),B.getAgents=Object(o.a)(Object(i.a)(P),Object(i.a)(w),Object(i.a)(A)),B.shouldShowHeaderInExistingConversationCard=Object(o.a)(Object(i.a)(U),Object(i.a)(k),Object(i.a)(A)),B.isMinimizeOnCloseInPhoneForVideoCall=Object(o.a)(Object(i.a)(f),Object(i.a)(s)),B.getNewConversationButton=Object(o.a)(Object(i.a)(N),Object(i.a)(w),Object(i.a)(A)),B.isMinimizeOnCloseInPhoneForAudioCall=Object(o.a)(Object(i.a)(f),Object(i.a)(l)),B.shouldCallOpenInFullScreen=Object(o.a)(Object(i.a)(O),Object(i.a)(c)),B.getVideoCallHeaderLabel=Object(o.a)(Object(i.a)(y),Object(i.a)(p),Object(i.a)(s)),B.getAudioCallHeaderLabel=Object(o.a)(Object(i.a)(y),Object(i.a)(p),Object(i.a)(l)),B.getPromptEnableIndividualMessageDismissal=Object(o.a)(Object(i.a)(D),Object(i.a)(b)),B.getChatMessageComposerMaxCharacters=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.maxCharacters},B.getChatMessageComposerSendButton=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.sendButton},B.shouldHideOnDisableManualResponse=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.hideOnDisableManualResponse},B.getInfoCard=Object(o.a)(Object(i.a)(L),Object(i.a)(r))},292:function(e,t,n){"use strict";var a=n(243);n.d(t,"a",(function(){return a.f})),n.d(t,"b",(function(){return a.g})),n.d(t,"c",(function(){return a.h})),n.d(t,"d",(function(){return a.l})),n.d(t,"e",(function(){return a.n})),n.d(t,"f",(function(){return a.o})),n.d(t,"g",(function(){return a.q})),n.d(t,"h",(function(){return a.r})),n.d(t,"i",(function(){return a.t})),n.d(t,"j",(function(){return a.u})),n.d(t,"k",(function(){return a.v})),n.d(t,"l",(function(){return a.w})),n.d(t,"m",(function(){return a.x})),n.d(t,"n",(function(){return a.y})),n.d(t,"o",(function(){return a.z})),n.d(t,"p",(function(){return a.A})),n.d(t,"q",(function(){return a.C})),n.d(t,"r",(function(){return a.D})),n.d(t,"s",(function(){return a.E})),n.d(t,"t",(function(){return a.F}));n(705)},305:function(e,t,n){"use strict";n.d(t,"r",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"k",(function(){return r})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"s",(function(){return l})),n.d(t,"p",(function(){return d})),n.d(t,"t",(function(){return u})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"n",(function(){return y})),n.d(t,"u",(function(){return O})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return I})),n.d(t,"g",(function(){return C}));const a="NEW_MESSAGE",o="MESSAGE_UPDATED",i="EXTERNAL_EVENT",r="CHAT_USER_UPDATED",c="CHAT_USER_START_TYPING",s="CHAT_USER_STOP_TYPING",l="UI_CONTROL",d="LOCK_CONVERSATIONS",u="UNLOCK_CONVERSATIONS",b="CONVERSATION_UPDATED",f="CO_BROWSE_STATUS",p="ADD_TO_CART",y="EXECUTE_ENDPOINT",O="USER_SESSION_EXPIRED",v="VIDEO_CALL_STARTING",g="VIDEO_CALL_ENDED",h="VIDEO_CALL_TOGGLE",j="VIDEO_CALL_OFFER_ACCEPTED",m="VIDEO_CALL_DECLINED",I="VIDEO_CALL_MISSED",C="VIDEO_PARTICIPANT_UPDATED"},309:function(e,t,n){"use strict";var a=n(874),o=n(191);t.a=function(){return Object(o.useContext)(a.a)}},325:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"x",(function(){return d})),n.d(t,"q",(function(){return u})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"u",(function(){return h})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return m})),n.d(t,"w",(function(){return I})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return T})),n.d(t,"p",(function(){return E})),n.d(t,"f",(function(){return x})),n.d(t,"k",(function(){return S}));var a=n(482);function o(e){return{type:a.g,payload:e}}function i(e){return{type:a.h,payload:e}}function r(e){return{type:a.m,payload:e}}function c(e){return{type:a.t,payload:e}}function s(e){return{type:a.i,payload:e}}function l(e){return{type:a.p,payload:e}}function d(e){return{type:a.y,payload:e}}function u(e){return{type:a.w,payload:e}}function b(e){return{type:a.c,payload:e}}function f(e){return{type:a.d,payload:e}}function p(e){return{type:a.f,payload:e}}function y(e){return{type:a.e,payload:e}}function O(e){return{type:a.n,payload:e}}function v(e){return{type:a.b,payload:e}}function g(e){return{type:a.o,payload:e}}function h(e){return{type:a.l,payload:e}}function j(e){return{type:a.s,payload:e}}function m(e){return{type:a.u,payload:e}}function I(e){return{type:a.a,payload:e}}function C(e){return{type:a.j,payload:e}}function T(e){return{type:a.q,payload:e}}function E(e){return{type:a.v,payload:e}}function x(e){return{type:a.k,payload:e}}function S(e){return{type:a.r,payload:e}}},326:function(e,t,n){"use strict";n.d(t,"f",(function(){return T})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return _})),n.d(t,"g",(function(){return A})),n.d(t,"d",(function(){return w}));n(31);var a=n(8),o=n.n(a),i=n(231),r=n.n(i),c=n(270),s=n.n(c),l=n(1234),d=n.n(l),u=n(49),b=n.n(u),f=n(490),p=n(306),y=n(207),O=n(213),v=n(349),g=n(307),h=n(52),j=n(0);const m=/^CASE_(\w+)/,I=/^CONVERSATION_(\w+)/,C=e=>e&&!!e.match(I),T=e=>e&&!!e.match(m),E=e=>T(e)?e.match(m)[0].split("_")[1]:void 0;function x(e){let{chatState:t,chatConversationsState:n,customizationSettings:a,getLocaleMessage:i}=e;const r=Object(O.q)(n),c=Object(p.a)(t),l=Object(p.d)(t),d=null===a||void 0===a?void 0:a.maximumOpenConversations,u=o()(d,"limit"),b=Object(O.v)(r),f=!!u&&!s()(b)&&u<=b,y=!!o()(d,"replaceNewConversationButton");let v;return c?v=l:f&&(v=y?void 0:i(d,"label")),{isLocked:c||f,lockReason:v}}const S=(e,t)=>{const n=r()(g.a.getReadStatusList(e),(e=>e.userId===t));return o()(n,"unreadCount",0)},_=e=>{const t=Object(y.c)(e),n=Object(O.q)(t),a=Object(v.b)().location.pathname,o=Object(f.a)(a,{path:"/conversation/:conversationId/:transientId?"});if(!o)return{isConversationPath:!1,conversationId:void 0};const i=null===o||void 0===o?void 0:o.params.conversationId,r=null===o||void 0===o?void 0:o.params.transientId;if("survey"===r)return{isConversationPath:!0,conversationId:i};if("all"===i)return{isConversationPath:!1,conversationId:void 0};if("new"===i)return{isConversationPath:!0,conversationId:r||h.e};if("last"===i){return{isConversationPath:!0,conversationId:Object(O.b)(n)?Object(O.e)(Object(O.w)(t))||h.e:void 0}}if(C(i))return{isConversationPath:!0,conversationId:i};const c=E(i);return T(i)&&c?{isConversationPath:!0,conversationId:Object(O.j)(n,c)}:{isConversationPath:!0,conversationId:i}},A=(e,t)=>-1===d()(Object(O.r)(e),t),w=e=>{const t=e.chatConversations.conversations.byId;let n=e.chatConversations.conversations.ids;if(Object(j.E)()){const{conversationId:t}=_(e);if(!t)return!1;n=[t]}let a=!1;return b()(n,(e=>{if(t[e]&&!t[e].closed&&!t[e].deleted&&t[e].agentAssigned)return a=!0,!1})),a}},333:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(8),o=n.n(a),i=n(1560),r=n(1452),c=n(1538);const s=Object(i.a)("otherConfigs"),l=Object(i.a)("workQueueId"),d=Object(i.a)("cards"),u=Object(i.a)("partnerId"),b=Object(i.a)("name"),f=Object(i.a)("id"),p=Object(i.a)("accountUserId"),y=Object(i.a)("filter"),O=Object(i.a)("visibilityConfig"),v=Object(i.a)("noDisplayConfig"),g=Object(i.a)("triggerAnimationConfig"),h=Object(i.a)("defaultLocale"),j=Object(i.a)("supportedLocales"),m=Object(i.a)("callConfiguration"),I=Object(i.a)("autoExpireUserSessionTimeInMinutes");class C{}C.getCustomizationConfig=Object(r.a)(s),C.getWorkQueueId=Object(r.a)(l),C.getCards=Object(r.a)(d),C.getParnterId=Object(r.a)(u),C.getAppId=Object(r.a)(f),C.getAccountUserId=Object(r.a)(p),C.getVisibilityConfigFilter=Object(c.a)(Object(r.a)(y),Object(r.a)(O)),C.getNoDisplayConfigFilter=Object(c.a)(Object(r.a)(y),Object(r.a)(v)),C.getTriggerAnimationConfigFilter=Object(c.a)(Object(r.a)(y),Object(r.a)(g)),C.getDefaultLocale=Object(r.a)(h),C.getSupportedLocales=Object(r.a)(j),C.getAccountDisplayName=Object(r.a)(b),C.getCallConfiguration=Object(r.a)(m),C.getAutoExpireUserSessionTimeInMinutes=Object(r.a)(I),C.getAudioCallConfiguration=e=>{const t=C.getCallConfiguration(e);return o()(t,"audioConfig")||e.audioChatConfiguration},C.getVideoCallConfiguration=e=>{const t=C.getCallConfiguration(e);return o()(t,"videoConfig")||e.videoChatConfiguration},C.getCallAccountId=e=>{const t=C.getCallConfiguration(e);return o()(t,"accountId")||e.videoChatProviderAccountId}},337:function(e,t,n){"use strict";var a=n(792);n.d(t,"a",(function(){return a.a}))},355:function(e,t,n){"use strict";t.a={CONVERSATION:"CONVERSATION",BANNER:"BANNER",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",INFO_CARD:"INFO_CARD",STATUS_CARD:"STATUS_CARD",CONVERSATION_HISTORY:"CONVERSATION_HISTORY"}},369:function(e,t,n){"use strict";var a=n(191),o=n(260);t.a=(e,t)=>{const[n,i]=Object(a.useState)(),r=Object(o.a)(e,t);Object(a.useLayoutEffect)((()=>{const a=[];if(n)if(e.ResizeObserver){const o=new e.ResizeObserver(t);o.observe(n),a.push((()=>o.disconnect()))}else r(n);return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&i(e)}),[])}},376:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(200),o=(n(191),n(15)),i=n.n(o),r=n(1067),c=n(209),s=n(193);const l=Object(s.a)("div",{target:"ex7k1ut0"})({name:"1txt44t",styles:"top:0;left:0;margin:0;padding:0;overflow:hidden;position:absolute;width:100%;height:100%;background-color:var(--spr-lc-bgc-9);"}),d=Object(s.a)("div",{target:"ex7k1ut1"})({name:"3f9jy3",styles:"top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);"});var u=n(192);var b=()=>Object(u.jsx)(l,null,Object(u.jsx)(d,null,Object(u.jsx)(c.c,null))),f=n(201),p=n(240);var y=e=>{const{direction:t,localeDataLoading:n}=Object(f.a)(),o=Object(p.a)(),c=(e=>i()(e,((e,t,n)=>(e[n]=i()(t,((e,t)=>{let{type:n,src:a}=t;return"SCRIPT"===n?`${e} <script defer src="${a}"><\/script>`:"CSS"===n?`${e} <link rel="stylesheet" href="${a}">`:e}),""),e)),{}))(null===o||void 0===o?void 0:o.externalResources),{shouldHideLocaleLoader:s,...l}=e;return Object(u.jsx)(r.a,Object(a.a)({},l,{direction:t,externalResources:c}),e.children,!s&&n&&Object(u.jsx)(b,null))}},380:function(e,t,n){"use strict";var a=n(191),o=n(867),i=n.n(o),r=n(866);var c=function(){return Object(a.useContext)(r.a)};t.a=e=>{const[t,n]=c(),o=i()(),r=Object(a.useCallback)((t=>{o()&&n({stateKey:e,state:t})}),[e,n,o]);return Object(a.useEffect)((()=>()=>{n({stateKey:e,state:null})}),[]),[t&&t.stateKey===e?t.state:null,r]}},387:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={CONVERSATION:"CONVERSATION",CONVERSATION_LIST:"CONVERSATION_LIST",HOME:"HOME",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",KNOWLEDGE_BASE_LIST:"KNOWLEDGE_BASE_LIST",SURVEY:"SURVEY",GUIDED_WORKFLOW:"GUIDED_WORKFLOW",401:"401",LOGOUT:"LOGOUT"}},410:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var a=n(193),o=n(195);const i=Object(a.a)("div",{target:"e6slia10"})("min-height:",(e=>Object(o.e)("header.minHeight")(e)),";padding:",(e=>Object(o.h)("header.padding")(e)),";display:flex;justify-content:flex-end;align-items:center;"),r=Object(a.a)("div",{target:"e6slia11"})("width:100%;",(e=>!e.isContained&&{backgroundColor:`${Object(o.e)("header.backgroundColor")(e)}`,backgroundImage:`${Object(o.e)("header.gradients")(e)}`,borderBottom:`${Object(o.e)("header.borderBottom")(e)}`,padding:"var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) 0 var(--spr-lc-safe-area-left)"}),""),c=e=>Object(o.e)("header.lg.paddingTop",0)(e)+Object(o.e)("header.lg.paddingBottom",0)(e)+Object(o.e)("header.lg.logo.height",0)(e)+Object(o.e)("header.lg.logo.marginTop",0)(e)+Object(o.e)("header.lg.logo.marginBottom",0)(e)+Object(o.e)("header.lg.description.marginTop",0)(e)+Object(o.e)("header.lg.description.marginBottom",0)(e)+52},411:function(e,t,n){"use strict";n.d(t,"s",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"p",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"m",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"n",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"l",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return m})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return C}));var a=n(484),o=n(600);function i(){return{type:o.n,payload:{}}}function r(e){return{type:o.j,payload:e}}function c(){return{type:o.o,payload:{}}}function s(){return{type:o.r,payload:{}}}function l(e){return{type:o.h,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function d(e){return{type:o.i,payload:e}}function u(e){return{type:o.d,payload:e}}function b(e){return{type:o.g,payload:e}}function f(e){return{type:o.a,payload:e}}function p(e){return{type:o.b,payload:e}}function y(e){return{type:o.e,payload:e}}function O(e){return{type:o.c,payload:e}}function v(e){return{type:o.f,payload:e}}function g(e){return{type:o.p,payload:e}}function h(e){return{type:o.q,payload:e}}function j(e){return{type:o.l,payload:e}}function m(e){return{type:o.m,payload:e}}const I=e=>({type:o.k,payload:e}),C=e=>{let{conversationId:t,messageId:n,buttonId:i,attachment:r}=e;return e=>{const c=Object(a.a)(i,r);return{type:o.s,payload:{conversationId:t,messageId:n,url:c.url},promise:e}}}},412:function(e,t,n){"use strict";var a=n(191),o=n.n(a),i=n(483),r=n.n(i),c=n(270),s=n.n(c),l=n(612),d=n(192);const u=e=>{let{shouldPlay:t,unreadCount:n,children:i}=e;const{play:c}=Object(l.b)(),u=r()(n);return Object(a.useEffect)((()=>{!s()(u)&&n&&t&&n>u&&c(l.a.MESSAGE)}),[n,c,u,t]),Object(d.jsx)(o.a.Fragment,null,i)};t.a=o.a.memo(u)},433:function(e,t,n){"use strict";n.d(t,"K",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"R",(function(){return s})),n.d(t,"M",(function(){return l})),n.d(t,"X",(function(){return d})),n.d(t,"W",(function(){return u})),n.d(t,"ab",(function(){return b})),n.d(t,"bb",(function(){return f})),n.d(t,"Z",(function(){return p})),n.d(t,"g",(function(){return y})),n.d(t,"L",(function(){return O})),n.d(t,"cb",(function(){return v})),n.d(t,"Y",(function(){return g})),n.d(t,"V",(function(){return h})),n.d(t,"Q",(function(){return j})),n.d(t,"N",(function(){return m})),n.d(t,"b",(function(){return I})),n.d(t,"y",(function(){return C})),n.d(t,"l",(function(){return T})),n.d(t,"J",(function(){return E})),n.d(t,"v",(function(){return x})),n.d(t,"D",(function(){return S})),n.d(t,"q",(function(){return _})),n.d(t,"G",(function(){return A})),n.d(t,"s",(function(){return w})),n.d(t,"C",(function(){return R})),n.d(t,"p",(function(){return M})),n.d(t,"x",(function(){return P})),n.d(t,"k",(function(){return N})),n.d(t,"I",(function(){return D})),n.d(t,"u",(function(){return L})),n.d(t,"z",(function(){return k})),n.d(t,"m",(function(){return U})),n.d(t,"a",(function(){return B})),n.d(t,"P",(function(){return G})),n.d(t,"h",(function(){return $})),n.d(t,"O",(function(){return F})),n.d(t,"T",(function(){return H})),n.d(t,"F",(function(){return z})),n.d(t,"i",(function(){return V})),n.d(t,"w",(function(){return W})),n.d(t,"j",(function(){return q})),n.d(t,"E",(function(){return X})),n.d(t,"r",(function(){return K})),n.d(t,"A",(function(){return Y})),n.d(t,"n",(function(){return Z})),n.d(t,"B",(function(){return Q})),n.d(t,"o",(function(){return J})),n.d(t,"H",(function(){return ee})),n.d(t,"t",(function(){return te})),n.d(t,"S",(function(){return ne})),n.d(t,"U",(function(){return ae}));const a="open",o="close",i="enable",r="disable",c="clearSession",s="sendExternalEvent",l="openNewConversation",d="updateConversationContext",u="updateClientContext",b="updateUserContext",f="updateUserSettings",p="updateThemeMode",y="getAvailableAgents",O="openExistingConversation",v="updateWidget",g="updateLocale",h="updateCart",j="removeFromCart",m="openNewPrompt",I="clearPrompt",C="onClose",T="offClose",E="onUnreadCountChange",x="offUnreadCountChange",S="onExternalEvent",_="offExternalEvent",A="onPromptAction",w="offPromptAction",R="onEvent",M="offEvent",P="onAvailabilityChange",N="offAvailabilityChange",D="onShowMedia",L="offShowMedia",k="onCloseMedia",U="offCloseMedia",B="addFilterToEvaluate",G="removeFilterToEvaluate",$="goBack",F="registerDevice",H="unregisterDevice",z="onNotification",V="grantPermission",W="onLoad",q="offLoad",X="onLoadComplete",K="offLoadComplete",Y="onDeviceRegister",Z="offDeviceRegister",Q="onUnregisterDevice",J="offUnregisterDevice",ee="onSeekPermission",te="offSeekPermission",ne="subscribeToUpdate",ae="unsubscribeToUpdate"},442:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(191),o=n(697);const i=()=>Object(a.useContext)(o.a)},444:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(242));var a=c(n(1226)),o=c(n(1229)),i=c(n(191)),r=c(n(1230));n(879);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},u=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).onEnter=function(e,n){var a=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,a),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,a),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,i=n?a+" "+o:o;t.removeClasses(e,n?"appear":"enter"),l(e,i),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,a="string"===typeof n,o=a?(a&&n?n+"-":"")+e:n[e];return{className:o,activeClassName:a?o+"-active":n[e+"Active"],doneClassName:a?o+"-done":n[e+"Done"]}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.removeClasses=function(e,t){var n=this.getClassNames(t),a=n.className,o=n.activeClassName,i=n.doneClassName;a&&d(e,a),o&&d(e,o),i&&d(e,i)},o.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},o.render=function(){var e=s({},this.props);return delete e.classNames,i.default.createElement(r.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(i.default.Component);u.defaultProps={classNames:""},u.propTypes={};var b=u;t.default=b,e.exports=t.default},445:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"v",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return j})),n.d(t,"x",(function(){return m})),n.d(t,"l",(function(){return I})),n.d(t,"u",(function(){return C})),n.d(t,"f",(function(){return T})),n.d(t,"t",(function(){return E})),n.d(t,"p",(function(){return x})),n.d(t,"k",(function(){return S})),n.d(t,"y",(function(){return _})),n.d(t,"w",(function(){return A})),n.d(t,"q",(function(){return w})),n.d(t,"s",(function(){return R})),n.d(t,"m",(function(){return M})),n.d(t,"r",(function(){return P})),n.d(t,"o",(function(){return N}));var a=n(245),o=n(382),i=n(656),r=n(673),c=n(318);const s=new i.a,l="/livechat/conversation";function d(e){let{shouldFetchNumberOfOpenConversation:t,size:n,cursor:i}=e;return Object(a.__awaiter)(this,void 0,void 0,(function*(){let e=`${l}/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;n&&(e=`${e}&size=${n}`),i&&i.after&&(e=`${e}&after=${i.after}`),i&&i.before&&(e=`${e}&before=${i.before}`);return(yield o.a.post(e)).data}))}function u(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const t=`${l}/spy-conversations`,{userIds:n=[],roleIds:a=[],pageNum:i,size:r=10}=e;return(yield o.a.post(t,{userIds:n,roleIds:a,page:{page:i,size:r}})).data}))}function b(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{httpHeaders:n,multiSubmitResponseUrl:a}=e;return(yield s.post(a,t,{headers:Object.assign(Object.assign({},n),{"Content-Type":"application/json"}),baseURL:""})).data}))}function f(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/fetch/${e}`)).data}))}function p(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/fetch/case/${e}`)).data}))}function y(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/fetch/externalCase/${e}`)).data}))}function O(e,t){let{size:n,cursor:i}=t;return Object(a.__awaiter)(this,void 0,void 0,(function*(){const t=[{key:"conversationId",value:e}];n&&t.push({key:"size",value:n}),i&&t.push({key:"cursor",value:i}),t.push({key:"includeMaskedDeletedMessages",value:!0});const a=t.map((e=>`${e.key}=${e.value}`)).join("&");return(yield o.a.post(`${l}/fetchMessages?${a}`)).data}))}function v(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const n=yield o.a.post(`${l}/closeConversation?conversationId=${e}`);return null===t||void 0===t||t.resolve(),n.data}catch(n){if(Object(c.d)(n))return null===t||void 0===t?void 0:t.resolve();throw null===t||void 0===t||t.reject(n),n}}))}function g(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield o.a.post(`${l}/closeAll`);return null===e||void 0===e||e.resolve(),t.data}catch(t){if(Object(c.d)(t))return null===e||void 0===e?void 0:e.resolve();throw null===e||void 0===e||e.reject(t),t}}))}function h(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const n=yield o.a.post(`${l}/delete?conversationId=${e}`);return null===t||void 0===t||t.resolve(),n.data}catch(n){if(Object(c.d)(n))return null===t||void 0===t?void 0:t.resolve();throw null===t||void 0===t||t.reject(n),n}}))}function j(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield o.a.post(`${l}/deleteAll`);return null===e||void 0===e||e.resolve(),t.data}catch(t){if(Object(c.d)(t))return null===e||void 0===e?void 0:e.resolve();throw null===e||void 0===e||e.reject(t),t}}))}function m(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/updateDisclaimer/${e}?disclaimerStatus=${t}`)).data}))}function I(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const n={conversationId:e,messageId:t};return(yield o.a.post(`${l}/fetchMessage`,void 0,{params:n,backoff:!0})).data}))}function C(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/send`,e)).data}))}function T(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function E(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function x(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/new`,e)).data}))}function S(e,t,n,i){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/suggestions`,Object.assign({conversationId:e,query:t,locale:i},n))).data}))}function _(e){let{context:t,updateLatest:n,payload:a}=e;return r.a.info({chatConversationId:null===a||void 0===a?void 0:a.conversationId,message:`${null===a||void 0===a?void 0:a.conversationId}: Update latest conversation context service called`,additionalDetails:{actionPayload:a}}),o.a.post(`${l}/updateConversationDetails?updateLatest=${n}`,t)}function A(e){let{conversationId:t,context:n,payload:a}=e;return r.a.info({chatConversationId:t,message:`${t}: Update conversation context service called`,additionalDetails:{actionPayload:a}}),o.a.post(`${l}/updateConversationDetails?conversationId=${t}`,n)}function w(e){return o.a.post(`${l}/cancelAsset/${e}`)}function R(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return o.a.post(`${l}/markSurveyOpened/${e}`)}))}function M(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/fetchNumberOfOpenConversations`)).data}))}function P(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return o.a.post(`${l}/markTimeOfDelivery?messageIds=${e.join(",")}`)}))}function N(e){let{messageId:t,conversationId:n,text:i,language:r,additional:c}=e;return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield o.a.post(`${l}/generateVoiceNote`,{messageId:t,tempConversationId:n,text:i,language:r,additional:c})).data}))}},479:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));const a="@commerce/ADD_TO_CART",o="@commerce/UPDATE_CART",i="@commerce/REMOVE_FROM_CART"},490:function(e,t,n){"use strict";var a=n(890),o=n.n(a),i={},r=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,a=i[n]||(i[n]={});if(a[e])return a[e];var c=[],s={re:o()(e,c,t),keys:c};return r<1e4&&(a[e]=s,r++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var a=t,o=a.path,i=a.exact,r=void 0!==i&&i,s=a.strict,l=void 0!==s&&s,d=a.sensitive,u=void 0!==d&&d;if(null==o)return n;var b=c(o,{end:r,strict:l,sensitive:u}),f=b.re,p=b.keys,y=f.exec(e);if(!y)return null;var O=y[0],v=y.slice(1),g=e===O;return r&&!g?null:{path:o,url:"/"===o&&""===O?"/":O,isExact:g,params:p.reduce((function(e,t,n){return e[t.name]=v[n],e}),{})}}},507:function(e,t,n){"use strict";n.d(t,"f",(function(){return N})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return T})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return P}));var a=n(220),o=n(282),i=n(229),r=n(466),c=n(1560),s=n(1452);const l=Object(c.a)("height"),d=Object(c.a)("width"),u=Object(c.a)("url"),b=Object(c.a)("fileToken");class f extends r.a{setHeight(e){return this.set(l,e)}setWidth(e){return this.set(d,e)}setUrl(e){return this.set(u,e)}setFileToken(e){return e?this.set(b,e):this}}f.getUrl=Object(s.a)(u);var p=n(336),y=n.n(p);const O=Object(c.a)("title");class v extends f{constructor(e){super(e),this.setType(a.c.IMAGE)}setTitle(e){return this.set(O,e)}}function g(e){return(new v).setHeight(e.height).setWidth(e.width).setUrl(e.url).setTitle(e.title).build()}const h=Object(c.a)("previewImageUrl"),j=Object(c.a)("title"),m=Object(c.a)("previewFileToken");class I extends f{constructor(e){super(e),this.setType(a.c.VIDEO)}setPreviewImageUrl(e){return this.set(h,e)}setTitle(e){return this.set(j,e)}setPreviewImageToken(e){return e?this.set(m,e):this}}function C(e){return(new I).setUrl(e.url).setHeight(e.height).setWidth(e.width).setPreviewImageUrl(e.previewImageUrl).setTitle(e.title).build()}function T(e){let{chatMessage:t,url:n,token:a}=e;const r=o.a.getAttachment(i.a.getMessagePayload(t));let c;c=a?new I(r).setPreviewImageToken(a).build():new I(r).setPreviewImageUrl(n).build();const s=new o.a(i.a.getMessagePayload(t)).setAttachment(c).build();return new i.a(t).setMessagePayload(s).build()}function E(e){return(new v).setHeight(e.height).setWidth(e.width).setUrl(e.previewImageUrl).build()}I.getPreviewImageUrl=Object(s.a)(h);const x=Object(c.a)("title"),S=Object(c.a)("documentType");class _ extends f{constructor(e){super(e),this.setType(a.c.DOCUMENT)}setTitle(e){return this.set(x,e)}setDocumentType(e){return this.set(S,e)}}function A(e){return(new _).setUrl(e.url).setTitle(e.title).setDocumentType(e.documentType).build()}const w=Object(c.a)("title"),R=Object(c.a)("mimeType");class M extends f{constructor(e){super(e),this.setType(a.c.AUDIO)}setTitle(e){return this.set(w,e)}setMimeType(e){return this.set(R,e)}}function P(e){return(new M).setUrl(e.url).setTitle(e.title).setMimeType(e.mimeType).build()}function N(e){let{chatMessage:t,url:n,token:c}=e;const s=o.a.getAttachment(i.a.getMessagePayload(t));if(!s||!function(e){return y()(a.b,r.a.getType(e))}(s))return t;const l=new f(s);c&&l.setFileToken(c),l.setUrl(c?void 0:n);const d=new o.a(i.a.getMessagePayload(t)).setAttachment(l.build()).build();return new i.a(t).setMessagePayload(d).build()}},511:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return x}));var a=n(191),o=n.n(a),i=n(701),r=n.n(i),c=n(197),s=n(216),l=n.n(s),d=n(691),u=n(526),b=n(240);const f=()=>{const e=Object(b.a)();return!(null===e||void 0===e||!e.enableSoundNotification)};var p=n(205),y=n(250);const O=e=>Object(y.e)(Object(p.b)(e));var v=n(682),g=n(215),h=n(207),j=n(234),m=n(192);const I={MESSAGE:"message",AGENT_ASSIGNMENT:"agentAssignment",CALL:"call"},C=o.a.createContext({play:l.a,pause:l.a}),T={[I.MESSAGE]:"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3",[I.AGENT_ASSIGNMENT]:"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.mp3",[I.CALL]:"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"},E=(e,t)=>{var n,a,o;return null!==(n=null===e||void 0===e||null===(a=e.allScreens)||void 0===a||null===(o=a.notifications)||void 0===o?void 0:o[t])&&void 0!==n?n:T[t]},x=e=>{let{children:t}=e;const{otherConfigs:n}=Object(g.a)(),o=Object(c.d)(h.h),i=Object(j.d)(o),s=Object(v.a)({category:"LIVE_CHAT",userId:i}),[l,,b,p]=r()({src:"","data-testid":"messageAudio",preload:"none"}),[y,,T,x]=r()({src:"","data-testid":"callPickedByAgentNotifAudio",preload:"none"}),[S,,_,A]=r()({src:"",loop:!0,"data-testid":"callAudio",preload:"none"}),w=Object(u.a)(),R=(()=>{const e=Object(c.d)(O).enableSoundNotification.enabled,t=f();return e&&t})(),M=f(),P=Object(a.useCallback)((()=>{p.current&&(p.current.src=E(n,I.MESSAGE)),x.current&&(x.current.src=E(n,I.AGENT_ASSIGNMENT)),A.current&&(A.current.src=E(n,I.CALL))}),[]),N=Object(a.useCallback)((e=>{switch(e){case I.MESSAGE:return R?b.play():Promise.resolve();case I.AGENT_ASSIGNMENT:return T.play();case I.CALL:return _.play()}return Promise.resolve()}),[b,T,_,R]),D=Object(a.useCallback)((e=>{const t=N(e);"object"===typeof t&&t.catch((t=>s.warning(`Sound Notification Failed for ${e}:  ${t}`)))}),[N]),L=Object(a.useCallback)((e=>{switch(e){case I.MESSAGE:return b.pause();case I.AGENT_ASSIGNMENT:return T.pause();case I.CALL:return _.pause()}}),[b,T,_]),k=Object(a.useMemo)((()=>({play:D,pause:L})),[D,L]);return Object(m.jsx)(C.Provider,{value:k},Object(m.jsx)(d.b,{onClick:P},M&&l,w&&y,w&&S,t))};t.c=C},518:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(598);const o=e=>{let{file:t,conversationId:n,sender:o,inReplyToChatMessageId:i}=e;return{type:a.b,payload:{file:t,conversationId:n,chatUserId:o,inReplyToChatMessageId:i}}},i=e=>{let{initialMessages:t,createCase:n,conversationContext:o,silent:i,assignToUser:r,additional:c}=e;return e=>({type:a.c,payload:{initialMessages:t,createCase:n,assignToUser:r,silent:i,conversationContext:o,additional:c},promise:e})},r=(e,t)=>{let{conversationId:n,externalCaseId:o}=e;return{type:a.a,payload:{conversationId:n,externalCaseId:o},promise:t}}},519:function(e,t,n){var a=n(36),o=n(128),i=n(83),r=n(842),c=n(1167),s=n(84),l=n(32);e.exports=function(e,t,n){if((e=l(e))&&(n||void 0===t))return o(e);if(!e||!(t=a(t)))return e;var d=s(e),u=s(t),b=c(d,u),f=r(d,u)+1;return i(d,b,f).join("")}},525:function(e,t,n){"use strict";var a=n(206);t.a=()=>{var e;return!(null===(e=Object(a.a)().trigger)||void 0===e||!e.useCustomTrigger)}},526:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(215),o=n(333);const i=()=>{const e=Object(a.a)();return!!e&&!!o.a.getCallAccountId(e)}},527:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},528:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c}));const a=["video/mp4","video/quicktime"],o=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],i=[...o,"audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"],r=["image/jpeg","image/png","image/gif"],c=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},595:function(e,t){e.exports=function(e){return null===e}},598:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const a="@conversation/NEW_CONVERSATION_OPEN",o="@conversation/EXISTING_CONVERSATION_OPEN",i="@conversation/MEDIA_SEND"},604:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var a=n(191),o=n.n(a),i=n(197),r=n(380),c=n(430),s=n(246),l=n(0),d=n(192);const u="sessionExpiryModal",b=o.a.createContext(null),f=Object(a.memo)((e=>{const[t,n]=Object(a.useState)(null),[o,f]=Object(r.a)(u),p=Object(i.c)(),y=Object(l.Q)();return Object(a.useEffect)((()=>{const e=c.d.on((e=>{switch(e.type){case c.c:n(e.payload.targetDate);break;case c.b:n(null)}}));return()=>e()}),[y]),Object(a.useEffect)((()=>{if(t)return y&&p({type:s.d}),void f(!0);o&&f(!1)}),[t]),Object(d.jsx)(b.Provider,{value:t},e.children)}));t.c=b},608:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(193),o=n(195);const i=Object(a.a)("div",{target:"e13xym9v0"})((e=>({backgroundColor:Object(o.e)("header.lg.backgroundColor",Object(o.e)("header.backgroundColor")(e))(e),backgroundImage:Object(o.e)("header.lg.gradients")(e)})),";padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"),r=Object(a.a)("div",{target:"e13xym9v1"})("border-radius:",Object(o.e)("card.borderRadius"),";background-color:var(--spr-lc-bgc-16);")},609:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(193),o=n(195),i=n(410);const r=32,c=Object(a.a)("div",{target:"e1b8encq0"})("background-color:",(e=>Object(o.e)("header.lg.backgroundColor",Object(o.e)("header.backgroundColor")(e))(e)),";background-image:",Object(o.e)("header.lg.gradients"),";padding:",Object(o.h)("header.lg.padding"),";padding-bottom:",(e=>r+Object(o.e)("header.lg.paddingBottom")(e)),"px;height:",(e=>e.height||(e=>Object(i.c)(e)+r)(e)),"px;transition:",(e=>e.showTransition&&"height 0.2s ease-out"),";"),s=Object(a.a)("div",{target:"e1b8encq1"})({name:"anqr8i",styles:"width:100%;height:100%;padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"})},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(191);var a=n(192);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function i(e){return Object(a.jsx)("svg",o({viewBox:"0 0 14 14","data-icon-name":"Chevron",focusable:"false"},e),Object(a.jsx)("path",{d:"M13.728 4.935a.931.931 0 00-1.316 0L7 10.346l-5.41-5.41a.932.932 0 00-1.318 0 .929.929 0 000 1.315l6.07 6.07a.931.931 0 001.316 0l6.07-6.07a.931.931 0 000-1.315z"}))}},611:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(286),o=n.n(a);let i;function r(e,t){const n=o()(e);return function(e,t,n){return[...Array(n)].map(((n,a)=>(a+t)%e.length)).map((t=>e[t]))}(n,function(e){return i||(i=Math.floor(Math.random()*e.length)),i}(n),t)}},612:function(e,t,n){"use strict";var a=n(191),o=n(511);n.d(t,"a",(function(){return o.b})),t.b=function(){return Object(a.useContext)(o.c)}},613:function(e,t,n){"use strict";var a=n(191),o=n(215),i=n(206),r=n(0),c=n(355);const s=new Set([c.a.CONVERSATION,c.a.KNOWLEDGE_BASE,c.a.CONVERSATION_HISTORY]);t.a=()=>{var e,t,n;const l=Object(o.a)(),d=Object(i.a)(),u=Object(r.j)(),b=null===(e=l.cardConfigs)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.cards,f=(null===d||void 0===d||null===(n=d.homeScreen)||void 0===n?void 0:n.conversationCard)||{},p=(null===l||void 0===l?void 0:l.cards)||[],y=Object(a.useMemo)((()=>[{type:c.a.CONVERSATION,id:c.a.CONVERSATION,...f},...p]),[f,p]);return Object(a.useMemo)((()=>u?(null!==b&&void 0!==b?b:y).filter((e=>s.has(e.type))):null!==b&&void 0!==b?b:y),[u,b,y])}},614:function(e,t,n){"use strict";t.a={INIT:0,STARTED:1,COMPLETED:2,ABORTED:3,ERROR:4,PAUSE:5}},615:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(782),o=n(365),i=n(271),r=n(333);const c=(e,t)=>`${r.a.getParnterId(t)}_${r.a.getAppId(t)}_${i.a.getId(o.a.getChatUser(e))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let s;const l=(e,t)=>{const n=o.a.getChatSessionToken(e),i=c(e,t),r=o.a.getInboxServerUrl(e),l=o.a.getUserInbox(e),d=null===e||void 0===e?void 0:e.fanPublishTopic;return s=new a.a({userName:n,clientId:i,inboxServerUrl:r,userInbox:l,fanPublishTopic:d}),s},d=()=>s},648:function(e,t,n){"use strict";var a=n(200),o=n(193),i=(n(191),n(194)),r=n(224),c=n(192);var s=e=>Object(c.jsx)("div",{className:"sr-only"},Object(c.jsx)(i.b,Object(a.a)({},e.message,{values:{count:`${e.unreadCount}`}})));const l=Object(o.a)("div",{target:"eobaybk0"})({name:"3zfe4h",styles:"background:var(--spr-lc-bgc-15);color:var(--spr-lc-c-15);font-size:var(--spr-lc-fs-xs);font-weight:600;border-radius:50%;"}),d=Object(i.g)({moreThanTenNotifications:{id:"moreThanTenNotifications",defaultMessage:"{value}+"}});t.a=function(e){return Object(c.jsx)(l,{"aria-live":"polite",className:`center-x-y ${e.className}`},Object(c.jsx)(s,{message:1===e.count?r.a.newNotification:r.a.newNotifications,unreadCount:e.count}),(t=e.count)>=10?Object(c.jsx)(i.b,Object(a.a)({},d.moreThanTenNotifications,{values:{value:Object(c.jsx)(i.c,{value:9})}})):Object(c.jsx)(i.c,{value:t}));var t}},649:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return m}));var a=n(364),o=n.n(a),i=n(49),r=n.n(i),c=n(33),s=n.n(c),l=n(238),d=n.n(l),u=n(257),b=n(673),f=n(252),p=n(838),y=n.n(p);const O=[f.c,f.m,f.b],v=(()=>{const e={};return{shouldStoreInCache:e=>O.includes(e),shouldCallSubscriberOnSubscribe:t=>O.includes(t)&&(t=>y()(e,t))(t),setCache:(t,n)=>{e[t]=n},getCache:t=>e[t]}})(),g={};function h(e,t){const{topic:n,subscriber:a}=t;if(d()(n)&&s()(a)){const e=g[n];g[n]=e?[...e,a]:[a]}v.shouldCallSubscriberOnSubscribe(n)&&a(v.getCache(n))}function j(e,t){const{topic:n,subscriber:a}=t;if(d()(n)&&s()(a)){const e=g[n],t=o()(e,(e=>e===a));-1!==t&&(e.splice(t,1),g[n]=e)}}function m(e){let{topic:t,payload:n,callback:a}=e;const o=g[t];if(n.shouldLogEvent){var i,c,s,l;const e=null===n||void 0===n||null===(i=n.request)||void 0===i?void 0:i.conversationId;b.a.info({chatConversationId:e,message:`${e?`${e} : `:""}${null!==n&&void 0!==n&&null!==(c=n.response)&&void 0!==c&&c.error?"Error":"Success"} event published - ${t}`,additionalDetails:{params:null===n||void 0===n?void 0:n.request,result:(null===n||void 0===n||null===(s=n.response)||void 0===s?void 0:s.error)||(null===n||void 0===n||null===(l=n.response)||void 0===l?void 0:l.data),subscriberCount:(null===o||void 0===o?void 0:o.length)||0}})}v.shouldStoreInCache(t)&&v.setCache(t,n),r()(o,((e,t)=>{try{e(n,a)}catch(o){Object(u.a)(o)}}))}},670:function(e,t,n){var a=n(3).isFinite;e.exports=function(e){return"number"==typeof e&&a(e)}},671:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));const a="AVAILABLE",o="UN_AVAILABLE",i="PENDING";let r=i;const c=e=>{r=e?a:o},s=()=>r===o,l=()=>r===i},672:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));const a={PENDING:"PENDING",SUCCESS:"SUCCESS",FAIL:"FAIL",EXPIRED:"EXPIRED"};let o=a.PENDING;const i=e=>{o=e},r=()=>o===a.PENDING,c=()=>o===a.FAIL,s=()=>o===a.EXPIRED},673:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(245),o=n(597),i=n(382);const r=new o.a((e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return(yield i.a.post("/livechat/logging/log/event",e)).data}))),{batch:!0,adapter:e=>{const{message:t,chatConversationId:n,additionalDetails:a}=e;return{logMessage:t,logTime:Date.now(),additionalDetails:a,chatConversationId:n}}})},674:function(e,t,n){"use strict";n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return R})),n.d(t,"g",(function(){return M})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return L})),n.d(t,"f",(function(){return k})),n.d(t,"e",(function(){return U})),n.d(t,"d",(function(){return B}));var a=n(31),o=n.n(a),i=n(222),r=n.n(i),c=n(8),s=n.n(c),l=n(838),d=n.n(l),u=n(465),b=n(262),f=n(333),p=n(289),y=n(294),O=n(643),v=n(0),g=n(50),h=n(783),j=n(248),m=n(199),I=n(672),C=n(671),T=n(280),E=n(768),x=n(596),S=n(9),_=n(227),A=n(252);const w=async e=>{let{handshakeDetails:t,applicationConfig:n,getSessionToken:a}=e;if(a&&Object(b.b)({getSessionToken:a}),t&&(Object(b.b)({userId:t.chatUser.userId}),await Object(b.c)({wafScriptUrl:t.wafScriptUrl})),n){const e=f.a.getAutoExpireUserSessionTimeInMinutes(n),t=s()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(b.b)({sessionExpiryTimeInMinutes:e,sessionExpiryAlertTime:t})}},R=e=>{const t=!!p.a.isDebugModeEnabled(e.otherConfigs);window.sprDebugLog=function(){t&&console.debug(...arguments)}},M=async e=>{const t=e.appId,n=e.user,a=null===n||void 0===n?void 0:n.authToken;if(d()(n,"isSSOAuthorized")){const e=(e=>{if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return _.a})(await Object(y.a)(t));Object(j.b)(e.chatUserId)&&await Object(y.h)(t)}a&&(await Object(y.h)(t),await Object(y.l)(t,a))};async function P(e){const{appId:t,user:n,userContext:a,sessionOrigin:i,customUser:c,otp:l,locale:d,meetingId:u,deflectionToken:b}=e,f=r()(n,["authToken","isSSOAuthorized","oneTimeToken"]);let p,v;if(!!i){const{primaryToken:e,secondaryToken:n}=await async function(e){let t,n,a;try{t=await Object(y.b)(e,O.d)}catch(r){console.warn(r)}try{n=await Object(y.b)(e,O.a)}catch(r){console.warn(r)}try{a=await Object(y.b)(e,O.b)}catch(r){console.warn(r)}const o=n||a||t;let i=a||t;return i=i===o?void 0:i,{primaryToken:o,secondaryToken:i}}(t);p=e,v=n}else p=await Object(y.e)(t);const h={appId:t,oneTimeToken:s()(n,"oneTimeToken"),chatSessionToken:p,secondaryChatToken:v,page:Object(g.b)(),pageTitle:Object(g.c)(),referralPage:Object(g.d)(),timezone:Object(g.g)(),userAgent:Object(g.f)(),enforcedLocale:d,fallbackLocales:Object(S.a)(),meetingId:u,otp:l,customUser:c,deflectionToken:b};if(!o()(f)){const{id:e,hash:t,...n}=f;Object.assign(h,{chatUser:{userId:e,...n},chatUserSignature:t})}return o()(a)||Object.assign(h,{customContext:a}),h}const N=async e=>Object(u.c)(e),D=async e=>{const t=await Object(u.a)(await P(e));if(!!e.sessionOrigin&&await(async e=>{try{await Object(y.i)(e,O.d)}catch(t){console.warn(t)}try{await Object(y.i)(e,O.b)}catch(t){console.warn(t)}})(e.appId),await Object(y.l)(e.appId,t.chatSessionToken),!t.userPreferences){const e=await Object(y.g)(t.chatUser.userId);return{...t,userPreferences:e}}return t},L=async e=>{const[t,n]=await Promise.allSettled([N(e),D(e)]);if("rejected"===t.status||"rejected"===n.status)return[t,n];const a=t.value;if(n.value.chatUser.locale=n.value.chatUser.locale||a.defaultLocale,Object(v.Q)()||!Object(h.a)(a))return[t,n];try{var o;const e=null===(o=a.otherConfigs.settings)||void 0===o?void 0:o.autoLoginSSOId;e&&await Object(h.b)({ssoId:e})}catch(r){Object(m.b)(r)}const i=await D(e);return i.chatUser.locale=i.chatUser.locale||a.defaultLocale,[t,{value:i,status:"fulfilled"}]},k=e=>{x.a.on(e),Object(I.e)(I.a.SUCCESS)},U=async()=>{Object(I.e)(I.a.FAIL),Object(C.c)(!1),await Object(E.b)(),Object(T.a)({topic:A.b,payload:{error:!0}})},B=()=>{Object(I.e)(I.a.EXPIRED)}},692:function(e,t,n){"use strict";var a=n(191),o=n(197),i=n(223),r=n(301),c=n(207),s=n(234),l=n(235),d=n(597);const u=(new i.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build(),b="AUDIO_CALL",f="VIDEO_CALL";t.a=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:i}=e;const[l]=Object(r.a)(u,{ignoreResults:!0}),p=Object(a.useCallback)((e=>{const t=Date.now();return e.forEach((e=>{e.offsetTime=t-e.logTime})),l(e)}),[l]),y=Object(o.d)(c.h),O=Object(s.d)(y),v=i?b:f,g=Object(a.useCallback)((e=>{const{message:a}=e;return{videoConversationId:t,logMessage:`USER: ${a}`,loggerSnUserId:O,category:v,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,O,v]),h=Object(a.useMemo)((()=>new d.a(p,{batch:!0,adapter:g,skip:!t})),[p,g,t]);return Object(a.useEffect)((()=>()=>{h.cleanup()}),[]),h}},693:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(210);const o=Object(a.a)((()=>Promise.all([n.e(6),n.e(18)]).then(n.bind(null,1449))))},694:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(191),o=n.n(a),i=n(216),r=n.n(i),c=n(875),s=n(192);const l={debug:r.a,info:r.a,error:r.a,warning:r.a},d=o.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,children:a}=e;const o=Object(c.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(d.Provider,{value:o},a)}},695:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(193),o=n(196);const i=Object(a.a)("div",{target:"e18hq32b0"})((e=>Object(o.b)(e)),";")},696:function(e,t,n){"use strict";var a=n(643),o=n(287),i=n(1);const r=e=>`spr-cobrowse-state_${e}`,c=!!o.a.getSessionOrigin(Object(i.a)());t.a={get:async e=>{try{const t=r(e);if(!c)return a.d.getItem(t);const n=await a.c.getItem(t);if(!n){const e=await a.d.getItem(t);if(e)return a.d.removeItem(t),await a.c.setItem(t,e),e}return n}catch(t){return void console.warn(t)}},set:(e,t)=>c?a.c.setItem(r(e),t):a.d.setItem(r(e),t),remove:e=>c?a.c.removeItem(r(e)):a.d.removeItem(r(e))}},697:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(191),o=n.n(a),i=n(216),r=n.n(i);const c=o.a.createContext({triggerPosition:null,onAction:r.a})},698:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(191);const o=Object(a.createContext)({setIsFrameMaximized:()=>null,isFrameMaximized:!1,isFrameManuallyResized:!1})},699:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));const a=e=>{let{value:t,viewportHeight:n,triggerSize:a}=e;return t<0?0:Math.min(t,n-a)},o=e=>{let{bottom:t,viewportHeight:n,triggerSize:a}=e;const o=Math.max(n-t-a,0);return t>o?o:void 0},i=e=>{let t=!0;return[Object.keys(e).reduce(((n,a)=>{const o=e[a].isOpen,i=e[a].canDragIfOpen;return t=t&&(!o||i),n+(o?e[a].height:0)}),0),t]}},700:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(191),o=n(880);const i=()=>"MOBILE"===Object(a.useContext)(o.a)},701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(370).__importDefault(n(1231)).default("audio");t.default=a},705:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(241);const o=(e,t)=>{const n={conversationId:t};return e?{type:a.db,payload:n}:{type:a.eb,payload:n}}},706:function(e,t,n){"use strict";n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return I}));var a=n(31),o=n.n(a),i=n(8),r=n.n(i),c=n(437),s=n(237),l=n(220),d=n(599),u=n(239),b=n(482),f=n(213);const p=e=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!e,[c.a.FULL_SCREEN]:e}),y=e=>e===s.f.WAITING,O=e=>e===s.h.WAITING?s.h.WAITING:s.h.SETUP,v=(e,t)=>((e,t)=>{switch(e.state){case d.a.CALL_INITIATED:case d.a.CALL_STARTING:return t.WAITING;case d.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}})(e,t?s.f:s.h),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?u.a.AUDIO_CALL_JOIN_CTA_CLICKED:u.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?u.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:u.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},h=e=>{let{callDetails:t}=e;return!o()(t)},j=e=>t=>(t.type===b.x||t.type===b.e)&&r()(t,"payload.videoConversationId")===e,m=e=>t=>(t.type===b.l||t.type===b.e)&&r()(t,"payload.videoConversationId")===e,I=(e,t,n)=>Object(f.m)(e,t).items.find((e=>{var t,a;return(null===(a=null===(t=e.messagePayload)||void 0===t?void 0:t.attachment)||void 0===a?void 0:a.type)===l.c.VIDEO_CHAT&&e.messagePayload.attachment.videoChatConversationId===n}))},707:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(15),o=n.n(a),i=n(708),r=n.n(i);const c=/%%\[(\w+)\]/g,s=(e,t)=>e?r()(e,c,((e,n)=>Object.prototype.hasOwnProperty.call(t,n)?t[n]:e)):"",l=(e,t)=>e&&"string"!==typeof e?o()(e,((e,n,a)=>(e[a]=s(n,t),e)),{}):s(e,t)},708:function(e,t,n){var a=n(32);e.exports=function(){var e=arguments,t=a(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},709:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(31),o=n.n(a),i=n(15),r=n.n(i);const c=(e,t)=>r()(t,((e,t)=>{if(!t)return e;const n="*".repeat(null===t||void 0===t?void 0:t.length);return e.replace(t,n)}),e),s=e=>{let{text:t,maskingConfigs:n}=e;if(!t)return{};const{maskedText:a,maskedValues:i}=r()(n,((e,t)=>{let n;try{n=new RegExp(t.jsRegex,"g")}catch(i){return e}const{updatedText:a,capturedGroups:o}=((e,t,n,a)=>{let o=e.exec(t),i=t;const r={};for(;o&&0!==o[0].length;)n&&o.groups&&Object.entries(o.groups).forEach((e=>{var t;let[n,i]=e;r[n]=null!==(t=r[n])&&void 0!==t?t:[];let c={};if(a){const e=o.index;c={startIndex:e,endIndex:e+i.length-1}}r[n].push({...c,value:i})})),i=c(i,o),o=e.exec(i);return{capturedGroups:r,updatedText:i}})(n,e.maskedText,t.saveMaskedData,t.showAgentUnmaskedData);return{maskedText:a,maskedValues:{...e.maskedValues,...o}}}),{maskedText:t,maskedValues:{}});return{maskedText:a,maskedValues:o()(i)?void 0:i}}},766:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return mg})),n.d(t,"reInitApp",(function(){return Ig}));var a=n(191),o=n.n(a),i=n(288),r=n.n(i),c=n(192),s=n(197);var l=function(e,t){var n=function(){var e=Object(a.useRef)(!0);return e.current?(e.current=!1,!0):e.current}();Object(a.useEffect)((function(){if(!n)return e()}),t)},d=n(322),u=n(281),b=n(234);var f=n(1077),p=n(1083),y=n(368),O=n.n(y),v=n(215),g=n(385),h=n(347),j=n(333),m=n(250),I=n(205),C=n(280),T=n(257),E=n(768),x=n(671),S=n(252),_=n(0);const A=e=>Object(m.c)(Object(I.b)(e)),w=e=>{const t=Object(g.a)(),n=Object(v.a)(),o=Object(s.d)(A),i=Object(_.P)(),r=j.a.getVisibilityConfigFilter(n),{hasPassed:c}=Object(h.a)(i?void 0:r,{logOnSuccess:!0,defaultValue:!1}),l=!c&&o;return Object(a.useEffect)((()=>{c&&Object(T.a)("Sprinklr Chat hidden by visibility criteria"),o||Object(T.a)("Sprinklr Chat disabled by sdk"),Object(x.c)(l),Object(C.a)({topic:S.c,payload:{data:{isChatVisible:l}}})}),[c,o,l]),Object(a.useEffect)((()=>((async()=>{await Object(E.b)(),Object(C.a)({topic:S.a,payload:{}}),Object(C.a)({topic:S.b,payload:{error:!1}})})(),()=>{Object(C.a)({topic:S.c,payload:{data:{isChatVisible:!1}}})})),[]),O()((()=>{Object(E.b)()}),[t]),l?e.children:null};var R=o.a.memo(w),M=n(604),P=n(683);const N=e=>Object(c.jsx)(P.a,{history:e.history},Object(c.jsx)(M.b,null,e.children));var D=n(601),L=n(579),k=n(200),U=n(194),B=n(259),G=n(203),$=n(869),F=n(267),H=n(193),z=n(409),V=n(376),W=n(872),q=n(607),X=n(195),K=n(196);const Y=e=>Object(c.css)("fill:",Object(X.a)("white")({theme:e}),";height:100%;width:100%;"),Z=Object(H.a)("div",{target:"e12trxni0"})("position:fixed;top:0;left:0;z-index:",(e=>Object(X.e)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(X.e)("frame.translateZ")(e)),"px) !important;height:100%;width:100%;"),Q=Object(H.a)(V.a,{target:"e12trxni1"})({name:"774i4t",styles:"height:100%;width:100%;border-width:0px;"}),J=e=>Object(c.css)(".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:",Object(z.l)(.2,Object(X.a)("charcoal")({theme:e})),";}"),ee=Object(H.a)(q.c,{target:"e12trxni2"})({name:"hgqvtn",styles:"width:48px;height:48px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"}),te=Object(H.a)(q.c,{target:"e12trxni3"})({name:"uwwqev",styles:"width:100%;height:100%;"}),ne=Object(H.a)(W.a,{target:"e12trxni4"})("margin-top:var(--spr-lc-safe-area-top);",(e=>{let{isPhone:t,direction:n}=e;return t?`${Object(K.d)("right: calc(20px + var(--spr-lc-safe-area-right))","left: calc(20px + var(--spr-lc-safe-area-left))")({direction:n})};`:`${Object(K.d)("right: calc(40px + var(--spr-lc-safe-area-right))","left: calc(40px + var(--spr-lc-safe-area-left))")({direction:n})};`}),"");var ae=n(202),oe=n(201),ie=n(198),re=n(442);const ce=Object(U.g)({preview:{id:"preview",defaultMessage:"Preview"}});var se=Object(U.h)((e=>{let{previewItem:t,intl:n}=e;const o=Object(G.b)(),i=Object(ae.a)(),r=Object(B.a)(),s=!!t&&t.type!==re.a.DIALOGUE,{direction:l}=Object(oe.a)(),d=Object(a.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),r.goBack()}),[r]);return Object(c.jsx)(Z,{className:"spr-chat__modal-box spr-live-chat-frame"},Object(c.jsx)(Q,{name:"spr-chat__modal-frame","aria-label":n.formatMessage(ce.preview),title:n.formatMessage(ce.preview)},Object(c.jsx)(c.Global,{styles:J(o)}),Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)(ee,null,Object(c.jsx)(te,{className:"center-x center-y"}))},Object(c.jsx)($.a,{previewItem:t})),s&&Object(c.jsx)(ne,{Icon:F.a,iconCss:Y(o),iconName:ie.a.CLOSE,"aria-label":ie.a.CLOSE,direction:l,isPhone:i,onClick:d})))})),le=n(8),de=n.n(le);var ue=e=>{if(!e.search.includes("preview=1"))return null;const t=de()(e.state,"sprPreview.type");switch(t){case re.a.DIALOGUE:return{type:t,message:de()(e.state,"sprPreview.message"),title:de()(e.state,"sprPreview.title"),cancelLabel:de()(e.state,"sprPreview.cancelLabel"),confirmationLabel:de()(e.state,"sprPreview.confirmationLabel"),onConfirm:de()(e.state,"sprPreview.onConfirm"),onCancel:de()(e.state,"sprPreview.onCancel")};case re.a.IMAGE:case re.a.VIDEO:return{type:t,url:de()(e.state,"sprPreview.url"),downloadParams:de()(e.state,"sprPreview.downloadParams")};default:return null}};var be=()=>{const e=Object(B.a)().location,t=Object(a.useMemo)((()=>ue(e)),[e.search,e.state]);return t?Object(c.jsx)(se,{previewItem:t}):null},fe=n(31),pe=n.n(fe),ye=n(208),Oe=n(483),ve=n.n(Oe),ge=n(309),he=n(693),je=n(874),me=n(694),Ie=n(207),Ce=n(379),Te=n(237),Ee=n(226);const xe=e=>Object(Ce.d)(Object(Ie.b)(e)),Se=e=>Object(Ce.f)(Object(Ie.b)(e)),_e=e=>Object(m.g)(Object(I.b)(e)),Ae=e=>Object(Ce.r)(Object(Ie.b)(e)),we=e=>Object(Ce.i)(Object(Ie.b)(e)),Re=e=>{const t=Object(ae.a)(),n=Object(s.d)(Se),o=Object(s.d)(xe),i=Object(s.d)(Ae),r=Object(s.d)(_e),l=Object(ye.a)(Ee.g),d=Object(s.d)(we),u=Object(ge.a)(),b=n.state,f=o.state,p=ve()(b),y=ve()(f);return Object(a.useEffect)((()=>{r&&(t&&b&&b!==p||f===Te.f.WAITING)&&l(!1)}),[r,b,p,l,f,y]),Object(a.useEffect)((()=>{const e=()=>{u.info({message:`Currently on live chat tab: ${!document.hidden}`})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[u]),pe()(n)&&(i||pe()(o))||t&&r&&!d?null:Object(c.jsx)(a.Suspense,{fallback:null},Object(c.jsx)(he.a,Object(k.a)({},e,{outgoingCallDetails:n,incomingCallDetails:o})))},Me=e=>Object(Ce.c)(Object(Ie.b)(e)),Pe=e=>Object(Ce.n)(Object(Ie.b)(e)),Ne=e=>{const t=Object(s.d)(Me),n=Object(s.d)(Pe);return Object(c.jsx)(me.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(c.jsx)(je.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(c.jsx)(Re,e)))};var De=o.a.memo(Ne),Le=n(876),ke=n(608),Ue=n(877),Be=n(209);var Ge=()=>Object(c.jsx)(ke.b,{className:"flex-column-container full-height"},Object(c.jsx)(Ue.a,null),Object(c.jsx)("div",{className:"flex-item-1 p-x-4 p-y-4 p-t-6"},Object(c.jsx)(ke.a,{className:"full-height"},Object(c.jsx)(Be.c,{className:"flex-row-container center-x-y full-height"})))),$e=n(609);var Fe=()=>Object(c.jsx)("div",{className:"flex-column-container full-height"},Object(c.jsx)($e.c,null,Object(c.jsx)($e.b,null)),Object(c.jsx)("div",{className:"flex-item-1 spr"},Object(c.jsx)(Be.c,{className:"flex-row-container center-x-y full-height"}))),He=n(695),ze=n(410),Ve=n(295);var We=()=>{const e=Object(Ve.a)().isDarkMode;return Object(c.jsx)("div",{className:"flex-column-container full-height"},Object(c.jsx)(ze.b,null,Object(c.jsx)(ze.a,null)),Object(c.jsx)(He.a,{isDarkMode:e,className:"flex-item-1 spr"},Object(c.jsx)(Be.c,{className:"flex-row-container center-x-y full-height"})))},qe=n(16);var Xe=()=>{const e=Object(_.z)()===qe.b,t=Object(B.a)(),{location:{pathname:n}}=t;return"/home"===n&&!Object(_.F)()?e?Object(c.jsx)(Fe,null):Object(c.jsx)(Ge,null):Object(c.jsx)(We,null)},Ke=n(440);var Ye=()=>{const e=Object(Ke.a)(),[t,n]=Object(a.useState)();return Object(a.useLayoutEffect)((()=>{Le.a.preload(e).then((e=>{let[t]=e;n(t)}))}),[]),Object(c.jsx)("div",{className:"flex-column-container full-height full-width spr ovf-hidden"},t?Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)(Xe,null)},Object(c.jsx)(Le.a,{pages:t})):Object(c.jsx)(Xe,null))};const Ze={"%":1,vw:1,vh:1,vmin:1,vmax:1},Qe=Object(H.a)(V.a,{target:"ewsnucf0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Je=Object(H.a)("div",{target:"ewsnucf1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(X.e)("page.gradients"),";background-color:",Object(X.e)("page.backgroundColor"),";"),et=Object(H.a)("div",{target:"ewsnucf2"})((e=>{const{absoluteValue:t,unit:n}=Object(X.b)("page.minPadding",{defaultUnit:"px"})(e),a=2*t+n;return Object(c.css)("height:calc(100% - ",a,");width:calc(100% - ",a,");border-radius:",t?Object(X.e)("frame.borderRadius")(e):"0px",";")})," box-shadow:",(e=>Object(X.e)("frame.boxShadow")(e)),";overflow:hidden;background-color:var(--spr-lc-bgc-1);",(e=>!e.isContained&&`max-width: ${Object(X.e)("page.maxWidth")(e)};\n     max-height: ${Object(X.e)("page.maxHeight")(e)};\n     ${(e=>{const{absoluteValue:t,styleValue:n,unit:a}=Object(X.b)("page.maxWidth",{defaultUnit:"px"})(e),{absoluteValue:o,styleValue:i,unit:r}=Object(X.b)("page.maxHeight",{defaultUnit:"px"})(e),c=Object(X.e)("frame.borderRadius")(e);return Ze[r]&&Ze[a]?100===o||100===t?"":`border-radius: ${c};`:Ze[r]?100===o?"":`\n        @media screen and (min-width: calc(${n} + 1px)) {\n          border-radius: ${c};\n        };\n      `:Ze[a]?100===t?"":`\n        @media screen and (min-height: calc(${i} + 1px)) {\n          border-radius: ${c};\n        };\n      `:`\n      @media screen and (min-width: calc(${n} + 1px)) and (min-height: calc(${i} + 1px)) {\n        border-radius: ${c};\n      };\n    `})(e)}\n  `),""),tt={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var nt=n(217),at=n(387);const ot=["/conversation/"],it={survey:at.a.SURVEY,401:at.a[401],home:at.a.HOME,"guided-workflow":at.a.GUIDED_WORKFLOW,logout:at.a.LOGOUT},rt=e=>{let t;const n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?at.a.KNOWLEDGE_BASE:at.a.KNOWLEDGE_BASE_LIST);break;case"conversation":n.length>3&&"survey"===n[3]?t=at.a.SURVEY:n.length>2&&(t="all"===n[2]?at.a.CONVERSATION_LIST:at.a.CONVERSATION);break;default:t=it[n[1]]}return t};var ct=n(239);const st=()=>{var e;const t=Object(nt.a)(),n=Object(B.a)(),o=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,i=null===n||void 0===n?void 0:n.action,r=Object(a.useMemo)((()=>rt(o)),[o]);Object(a.useEffect)((()=>{r&&((e,t)=>!("REPLACE"===t&&ot.filter((t=>null===e||void 0===e?void 0:e.match(t))).length))(o,i)&&t({action:ct.a.PAGE_OPENED,additional:{value:r}})}),[r,o])};var lt=n(520);var dt=o.a.memo(Object(U.h)((e=>{const t=Object(ae.a)(),n=Object(nt.a)();return st(),Object(a.useEffect)((()=>(n({action:ct.a.CONVERSATION_WINDOW_OPENED}),()=>{n({action:ct.a.CONVERSATION_WINDOW_CLOSED})})),[]),Object(c.jsx)(Je,null,Object(c.jsx)(et,{ref:e.pageBoxRef,className:"spr",isContained:t||Object(lt.a)()},Object(c.jsx)(Ye,null)))}))),ut=n(784),bt=n(210);const ft=Object(bt.a)((()=>Promise.all([n.e(0),n.e(1),n.e(128)]).then(n.bind(null,1548))));var pt=()=>{const e=Object(v.a)();return null!==e&&void 0!==e&&e.autoExpireUserSessionTimeInMinutes?Object(c.jsx)(a.Suspense,{fallback:null},Object(c.jsx)(ft,null)):null},yt=n(228),Ot=n.n(yt),vt=n(206),gt=n(525),ht=n(213);const jt=Object(bt.a)((()=>Promise.all([n.e(0),n.e(54)]).then(n.bind(null,1531)))),mt=e=>Object(m.f)(Object(I.b)(e)),It=e=>Object(ht.b)(Object(ht.q)(Object(Ie.c)(e)));var Ct=e=>{var t,n;const o=Object(s.d)(I.d),i=Object(s.d)(mt),r=Object(s.d)(It),l=Object(vt.a)(),d=Object(gt.a)(),u=!(null===l||void 0===l||null===(t=l.proactivePrompt)||void 0===t||!t.showWithBoxOpen),b=!(null===l||void 0===l||null===(n=l.trigger)||void 0===n||!n.hideWhenOpen),f=Object(a.useRef)();f.current=Object(a.useMemo)((()=>Ot()(o)),[o]);const p=i&&!d&&!u;return pe()(f.current)||p||!r?null:Object(c.jsx)(a.Suspense,{fallback:null},Object(c.jsx)(jt,Object(k.a)({},e,{visiblePrompt:f.current,showWithBoxOpen:u,isTriggerHiddenWhenMaximised:b})))},Tt=n(283),Et=n.n(Tt),xt=n(216),St=n.n(xt),_t=n(260),At=n(369),wt=n(384),Rt=n(297);const Mt=()=>{var e;const t=Object(vt.a)(),n=Object(gt.a)(),a=Object(G.b)(),o=Object(X.e)("trigger.orientation")({theme:a})===Rt.j.VERTICAL;return!(null===(e=t.trigger)||void 0===e||!e.draggable)&&!n&&!o};var Pt=n(1);const Nt=(e,t,n)=>{const a=Object(X.e)("trigger.align")({theme:e}),o=Object(X.e)("trigger.orientation")({theme:e})===Rt.j.VERTICAL,i=Object(X.e)("trigger.size")({theme:e});return a===Rt.h.CENTER_LEFT||a===Rt.h.CENTER_RIGHT?(t-(o?n:i))/2:Object(X.e)("trigger.yPadding",20)({theme:e})},Dt=(e,t)=>{if(!e)return null;const{width:n,height:a,left:o,top:i}=e.getBoundingClientRect();return{width:n,height:a,left:o,right:t.innerWidth-o-n,bottom:t.innerHeight-i-a}};var Lt=n(9),kt=n(408),Ut=n(697);const Bt=Object(bt.a)((()=>n.e(27).then(n.bind(null,1564)))),Gt=e=>{let{children:t}=e;const n=Object(Lt.b)(),o=Object(Pt.a)().triggerContainer,i=Object(a.useRef)(!0),r=Object(wt.a)(),s=Object(a.useMemo)((()=>o?n.document.querySelector(o):null),[o]),[l,d]=Object(a.useState)((()=>Dt(s,n))),u=Object(a.useCallback)(Et()((()=>{d((()=>Dt(s,n)))}),200),[]),b=Object(_t.a)(n,u),f=Object(At.a)(n,u);i.current&&(i.current=!1,s&&(b(s),f(s))),Object(a.useLayoutEffect)((()=>{s&&u()}),[r]);const p=Object(a.useMemo)((()=>({triggerPosition:l,onAction:St.a})),[l]);return s?Object(c.jsx)(Ut.a.Provider,{value:p},t):(Object(T.a)('Error in Sprinklr Live Chat. "triggerContainer" missing in window.sprChatSettings.'),null)},$t=e=>{let{children:t}=e;const{height:n}=Object(wt.a)(),i=Object(Lt.b)(),r=Object(G.b)(),s=Object(X.e)("trigger.size")({theme:r}),l=Object(X.e)("trigger.orientation")({theme:r})===Rt.j.VERTICAL,[d,u]=Object(a.useState)(s),b=Object(a.useMemo)((()=>(e=>Object(X.e)("trigger.xPadding",20)({theme:e}))(r)),[r]),[f,p]=Object(a.useState)(Nt(r,i.innerHeight,d));Object(a.useEffect)((()=>{l&&p(Nt(r,i.innerHeight,d))}),[l,r,n,d]);const y=Object(X.e)("trigger.align")({theme:r}),O=Object(kt.c)(y),v=Object(a.useCallback)((e=>{let{type:t,payload:n}=e;switch(t){case"UPDATE_WIDTH":u(n);break;case"UPDATE_BOTTOM":p(n)}}),[]),g=Object(a.useMemo)((()=>{const e=O?Rt.b.LEFT:Rt.b.RIGHT,t=O?Rt.b.RIGHT:Rt.b.LEFT;return{triggerPosition:{height:s,width:d,bottom:f,[e]:b,[t]:i.innerWidth-d-b,edge:e},onAction:v}}),[s,f,d,O,i.innerWidth,b]);return Mt()?Object(c.jsx)(o.a.Suspense,{fallback:null},Object(c.jsx)(Bt,{positionContextValue:g},t)):Object(c.jsx)(Ut.a.Provider,{value:g},t)},Ft=e=>{let{children:t}=e;const n=Object(gt.a)()?Gt:$t;return Object(c.jsx)(n,null,t)};var Ht=n(240),zt=n(224);var Vt=Object(U.h)((e=>{var t;const n=Object(vt.a)(),i=Object(Ht.a)(),r=Object(a.useRef)(),s=e.intl.formatMessage,l=Object(ye.a)(u.e),d=!(null===(t=n.trigger)||void 0===t||!t.useCustomTrigger),b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(c.css)("html,body{height:100%;}body{margin:0;}",e,"")}(null===i||void 0===i?void 0:i.pageGlobalStyles),f=null===i||void 0===i?void 0:i.delayInitializePoller,p=Object(a.useCallback)((()=>{f||l()}),[l,f]);return Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(c.Global,{styles:b}),Object(c.jsx)(Qe,{"aria-label":s(zt.a.liveChat),name:"spr-chat__page-frame",contentDidMount:p,title:s(zt.a.liveChat)},Object(c.jsx)(c.Global,{styles:tt}),Object(c.jsx)(pt,null),Object(c.jsx)(dt,Object(k.a)({},e,{pageBoxRef:r}))),d?Object(c.jsx)(Ft,null,Object(c.jsx)(Ct,null)):null,Object(c.jsx)(De,{parentFrameRef:r}),Object(c.jsx)(ut.c,{parentFrameRef:r}),Object(c.jsx)(be,null))})),Wt=n(444),qt=n.n(Wt),Xt=n(786),Kt=n(698),Yt=n(443),Zt=n(699);var Qt=n(265);const Jt=e=>Object(m.g)(Object(I.b)(e)),en=Object(U.h)((e=>{var t;const n=Object(s.d)(Jt),i=e.intl.formatMessage,r=Object(nt.a)(),l=Object(ae.a)(),d=Object(ye.a)(u.e),[b,f]=Object(a.useState)(!1),[p,y]=Object(a.useState)(!1);st();const v=Object(a.useCallback)(((e,t)=>{f(e),y(t)}),[]),{triggerPosition:g}=Object(Yt.a)(),h=Object(gt.a)()?Xt.b:Xt.c;O()((()=>{const e=n?Qt.a.CONVERSATION_WINDOW_CLOSED:Qt.a.CONVERSATION_WINDOW_OPENED;r({action:e})}),[n]);const j=Object(Ht.a)(),m=null===j||void 0===j?void 0:j.delayInitializePoller,I=Object(a.useCallback)((()=>{m||d()}),[m,d]),C=Object(a.useMemo)((()=>({setIsFrameMaximized:v,isFrameMaximized:b,isFrameManuallyResized:p})),[v,b]),T=Object(vt.a)(),E=!(null===T||void 0===T||null===(t=T.trigger)||void 0===t||!t.hideWhenOpen),{styles:x,triggerTopOffsetBeforeReposition:S}=(e=>{let{isMinimized:t,isPhone:n,isTriggerHiddenWhenMaximised:o}=e;const i=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(G.b)(),{triggerPosition:s,onAction:l,triggerPositionBeforeAutoReposition:d}=Object(Yt.a)(),{height:u}=Object(wt.a)(),b=Object(a.useMemo)((()=>{const e=null===d||void 0===d?void 0:d.bottom;if(e)return Object(Zt.b)({viewportHeight:u,triggerSize:s.height,bottom:e})}),[s.height,null===d||void 0===d?void 0:d.bottom,u]),f=Object(X.e)("frame.sYMargin")({theme:c}),p=Object(X.e)("frame.align")({theme:c}),y=p===Rt.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||p===Rt.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT,O=Object(X.b)("frame.height",{})({theme:c}).absoluteValue,v=Object(a.useMemo)((()=>O+(o||y?-s.height:f)),[O,f,o,y,s.height]);return Object(a.useLayoutEffect)((()=>{t===r.current||n||o||(r.current=t,l({type:"REPOSITION_TRIGGER",payload:{height:t?0:v,type:"box",isOpen:!t,reset:t,canDragIfOpen:!1}}))}),[t,n,l,o,v]),Object(a.useMemo)((()=>{i.current=Object(Xt.h)({theme:c,isPhone:n})}),[c,n]),{styles:i.current,triggerTopOffsetBeforeReposition:b}})({isMinimized:n,isPhone:l,isTriggerHiddenWhenMaximised:E});return Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(c.Global,{styles:x}),Object(c.jsx)(qt.a,{in:!n,classNames:Xt.f,timeout:Xt.a,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(c.jsx)(Kt.a.Provider,{value:C},Object(c.jsx)(h,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:l,triggerPosition:g,triggerTopOffsetBeforeReposition:S,isMaximized:b,isTriggerHiddenWhenMaximised:E},Object(c.jsx)(Xt.e,{isPhone:l},Object(c.jsx)(Xt.d,{"aria-label":i(zt.a.liveChat),name:"spr-chat__box-frame",isPhone:l,contentDidMount:I,title:i(zt.a.liveChat)},Object(c.jsx)(c.Global,{styles:Xt.g}),Object(c.jsx)("div",{className:"full-height full-width"},Object(c.jsx)(pt,null),Object(c.jsx)(Ye,null))))))))}));var tn=o.a.forwardRef(((e,t)=>Object(c.jsx)(en,{frameRef:t}))),nn=n(221),an=n(244),on=n(296);const rn={PULSE:e=>{const t=Object(X.e)("trigger.borderColor")({theme:e}),n=c.keyframes`0%{box-shadow:0 0 0 0 ${Object(z.k)(t,.6)}}100%{box-shadow:0 0 0 10px ${Object(z.k)(t,0)}}`;return Object(c.css)("animation:",n," 2s ease infinite;")}},cn=e=>{const{triggerAnimationInfo:t,theme:n}=e,a=de()(t,"effect"),o=rn[a];return o?o(n):""},sn=e=>{const t=Object(X.e)("trigger.size")(e);return Math.min(Math.max(...Object(an.b)(Object(X.e)("trigger.borderRadius",t/2)(e))),t/2)*(1-2**-.5)},ln=e=>.13*Object(X.e)("trigger.overlayIconButton.button.height")(e),dn=e=>Object(X.e)("trigger.size")(e)-.5*Object(X.e)("trigger.overlayIconButton.button.height")(e)-(sn(e)-ln(e)),un=e=>{let{direction:t,theme:n}=e;return`${t===on.b.LTR?"right":"left"}: ${-.5*Object(X.e)("trigger.overlayIconButton.button.height")({theme:n})+sn({theme:n})-ln({theme:n})}px`},bn=Object(H.a)("div",{target:"eg0frzz0"})("width:",(e=>Object(X.e)("trigger.overlayIconButton.button.width")(e)),"px;height:",(e=>Object(X.e)("trigger.overlayIconButton.button.height")(e)),"px;border-radius:",(e=>Object(X.e)("trigger.overlayIconButton.borderRadius",Object(X.e)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";background-color:",Object(X.e)("trigger.removeIcon.backgroundColor"),";position:absolute;bottom:",(e=>dn(e)),"px;",(e=>un(e)),";cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;transform:translatez(",Object(X.e)("frame.translateZ"),"px);z-index:",Object(X.e)("frame.zIndex"),";",K.o,"{visibility:visible;}"),fn=Object(H.a)("div",{target:"eg0frzz1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),pn=Object(H.a)(ie.b,{target:"eg0frzz2"})("width:",(e=>Object(X.e)("trigger.overlayIconButton.icon.width")(e)),"px;height:",(e=>Object(X.e)("trigger.overlayIconButton.icon.height")(e)),"px;fill:",Object(X.e)("trigger.removeIcon.fill"),";"),yn=`\n  ${bn} {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n`,On=Object(H.a)("div",{target:"eg0frzz3"})((e=>e.enableTriggerHideIcon&&`\n    &:hover {\n      ${e.applyRemoveIconStyles&&yn};\n    }\n  `),";"),vn=e=>{let{showTrigger:t,showLabel:n,labelWidth:a,theme:o}=e;return n&&t?a+Object(X.e)("trigger.icon.width")({theme:o})+8+48:Object(X.e)("trigger.size")({theme:o})},gn=Object(H.a)("div",{target:"eg0frzz4"})("background:transparent;overflow:hidden;box-shadow:",Object(X.e)("trigger.boxShadow"),";border-radius:",(e=>Object(X.e)("trigger.borderRadius",Object(X.e)("trigger.size")(e)/2+"px}")(e)),";height:",(e=>e.triggerPosition.height),"px;position:relative;transition:",(e=>{let{enableTriggerWidthTransition:t,animationDuration:n}=e;return t?`width ${n}s`:"none"}),";visibility:",(e=>{let{showTrigger:t}=e;return t?"visible":"hidden"}),";width:",(e=>e.triggerPosition.width),"px;",Object(K.e)(K.m,K.h),";"),hn=Object(H.a)(V.a,{target:"eg0frzz5"})("border-radius:",(e=>Object(X.e)("trigger.borderRadius",Object(X.e)("trigger.size")(e)/2+"px}")(e)),";border:0 none;height:100%;width:100%;"),jn=(e,t)=>{const n=!((Object(X.e)("trigger.backgroundUrls")({theme:e})||Object(X.e)("trigger.icon.url")({theme:e}))&&t.isMinimized);return Object(c.css)("body{background-color:",n?Object(X.e)("trigger.backgroundColor")({theme:e}):"transparent",";}")},mn=Object(H.a)("div",{target:"eg0frzz6"})({name:"17ehq8p",styles:"position:absolute;top:0;left:0;height:100%;width:100%;-webkit-touch-callout:none !important;-webkit-user-select:none !important;background:transparent;"});var In=n(1088);const Cn=Object(H.a)("div",{target:"e1t174p80"})("cursor:pointer;position:relative;overflow:hidden;border-radius:",(e=>Object(X.e)("trigger.borderRadius",Object(X.e)("trigger.size")(e)/2+"px")(e)),";height:",(e=>Object(X.e)("trigger.size")(e)),"px;background-color:transparent;"),Tn=Object(H.a)(Cn,{target:"e1t174p81"})("border:",(e=>`${Object(X.e)("trigger.borderWidth")(e)}px solid ${Object(X.e)("trigger.borderColor")(e)}`),";background-size:cover;"),En=Object(H.a)(Cn,{target:"e1t174p82"})("background-color:",Object(X.e)("trigger.backgroundColor"),";"),xn={name:"15vzngf",styles:"bottom:0;top:0;transform:translate3d(-50%,-50%,0);transition:transform 0.16s linear,opacity 0.08s linear,-webkit-transform 0.16s linear;width:100%;"},Sn={name:"w8476o",styles:"transform:rotate(90deg) scale(0);opacity:0;"},_n={name:"12ovxee",styles:"transform:scale(0);opacity:0;"},An={name:"k4n0ja",styles:"transform:rotate(0deg) scale(1);opacity:1;"},wn={name:"20dbs8",styles:"transform:scale(1);opacity:1;"},Rn=Object(H.a)(ie.b,{target:"e1t174p83"})("fill:",Object(X.e)("trigger.closeIcon.color"),";height:",Object(X.e)("trigger.closeIcon.height"),"px;width:",Object(X.e)("trigger.closeIcon.width"),"px;"),Mn=Object(H.a)("div",{target:"e1t174p84"})(xn,";"),Pn=Object(H.a)("div",{target:"e1t174p85"})(xn,";"),Nn=Object(H.a)("h2",{target:"e1t174p86"})("color:",Object(X.e)("trigger.icon.color"),";",(e=>Object(K.c)("font-size","var(--spr-lc-fs-lg)","var(--spr-lc-fs-xl)")(e))," font-weight:600;margin-bottom:0;margin-top:0;line-height:1.4;white-space:nowrap;",Object(K.d)("margin-left: 8px","margin-right: 8px;"),";"),Dn=Object(H.a)(ie.b,{target:"e1t174p87"})("height:",Object(X.e)("trigger.icon.height"),"px;width:",Object(X.e)("trigger.icon.width"),"px;fill:",Object(X.e)("trigger.icon.color"),";");var Ln=n(700),kn=n(269);function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Un.apply(this,arguments)}function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bn.apply(this,arguments)}function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gn.apply(this,arguments)}function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$n.apply(this,arguments)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fn.apply(this,arguments)}function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hn.apply(this,arguments)}function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zn.apply(this,arguments)}var Vn=n(610);function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wn.apply(this,arguments)}var qn=n(611);function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xn.apply(this,arguments)}let Kn;const Yn=e=>Object(X.e)("trigger.backgroundUrls")({theme:e})||Object(X.e)("trigger.icon.url")({theme:e});var Zn=o.a.memo((e=>{const{customTriggerIconUrls:t,onLoad:n,onError:o,...i}=e,r=Object(a.useRef)(null),s=Kn||(Kn=Object(qn.a)(t,1)[0]);return Object(a.useEffect)((()=>{if(r.current){const e=new Image,t=()=>{r.current.style.backgroundImage=`url("${s}")`,n(!0)};return e.addEventListener("load",t),e.addEventListener("error",o),e.src=s,()=>{e.removeEventListener("load",t),e.removeEventListener("error",o)}}}),[s,o,n]),Object(c.jsx)(Tn,Xn({},i,{ref:r}))})),Qn=n(606);const Jn={MINIMIZED:"MINIMIZED",MAXIMIZED:"MAXIMIZED"},ea={[Qn.a.BOX]:{Icon:function(e){return Object(c.jsx)("svg",Un({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBox",focusable:"false"},e),Object(c.jsx)("path",{d:"M12.7,0.3L12.7,0.3H1.3C-0.2,0.3,0,1.7,0,1.7v7.7c0,1.1,0.9,1.2,1.2,1.2c0.1,0,0.1,0,0.1,0h3.6c0.5,0,0.7,0.2,0.7,0.2 l4.5,2.9c0.1,0.1,0.2,0.1,0.3,0.1c0.6,0,0.7-0.8,0.7-0.8v-2.3h1.6c1.3,0,1.4-1.2,1.4-1.2V1.5C14.1,0.4,12.9,0.3,12.7,0.3z M8.2,7.4 H2.5C2.2,7.4,2,7.2,2,6.9c0-0.3,0.2-0.5,0.5-0.5h5.7c0.3,0,0.5,0.2,0.5,0.5S8.5,7.4,8.2,7.4z M11.2,4.4H2.5C2.2,4.4,2,4.2,2,3.9 c0-0.3,0.2-0.5,0.5-0.5h8.8c0.3,0,0.5,0.2,0.5,0.5C11.7,4.2,11.5,4.4,11.2,4.4z"}))},Component:Dn},[Qn.a.BUBBLE]:{Icon:function(e){return Object(c.jsx)("svg",Bn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBubble",focusable:"false"},e),Object(c.jsx)("path",{d:"M12.9,2.5c-0.9-1.1-2.5-2-3.8-2.3C3.5-0.9,0.7,3.3,0.3,4.9c-0.9,4.9,1.2,7.6,2.5,8.9C2.9,14,3.1,14,3.1,13.9 c-0.2-3,1.7-3.5,5.6-3.3c1.4,0.1,4.7-1.1,5-3.7C14,5.3,14.1,4.1,12.9,2.5z M3.1,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8 s0.8,0.4,0.8,0.8C3.9,6.1,3.5,6.5,3.1,6.5z M6.9,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8 C7.7,6.1,7.3,6.5,6.9,6.5z M10.7,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.6,6.1,11.2,6.5,10.7,6.5z"}))},Component:Dn},[Qn.a.COLLABORATORS]:{Icon:function(e){return Object(c.jsx)("svg",Gn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCollaborators",focusable:"false"},e),Object(c.jsx)("path",{d:"M12.103 7.498c.077 0 .145 0 .216.005l.11.013-.02-.157a5.233 5.233 0 00-2.392-3.729l-.247-.148A2.925 2.925 0 017.22 5.37l-.224.008A2.944 2.944 0 014.3 3.673l-.078-.192-.212.126a5.236 5.236 0 00-2.445 3.908 1.823 1.823 0 01.325-.018 2.893 2.893 0 012.945 2.836A2.797 2.797 0 014.11 12.2l-.155.16.114.072a5.598 5.598 0 002.625.822l.322.01.336-.01a5.591 5.591 0 002.724-.894 2.744 2.744 0 01-.88-2.026 2.86 2.86 0 012.907-2.836z"}),Object(c.jsx)("path",{d:"M1.893 8.51a1.934 1.934 0 00-1.087.332l-.015.011a1.801 1.801 0 00-.792 1.481 1.858 1.858 0 001.72 1.816l.174.008.17-.008a1.856 1.856 0 001.723-1.816A1.889 1.889 0 001.893 8.51zm10.214 0a1.864 1.864 0 00-1.893 1.824 1.837 1.837 0 001.248 1.715 1.936 1.936 0 00.477.102l.168.007.17-.008a1.822 1.822 0 00-.17-3.64zM6.998 4.366a1.864 1.864 0 001.894-1.824A1.848 1.848 0 006.998.737 1.864 1.864 0 005.105 2.56a1.849 1.849 0 001.893 1.805z"}))},Component:Dn},[Qn.a.CLOUD]:{Icon:function(e){return Object(c.jsx)("svg",$n({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCloud",focusable:"false"},e),Object(c.jsx)("path",{d:"M7.1,0C3.2,0,0.1,3.1,0.1,6.9c0,1.7,0.5,3,1.5,4.2l-1,2.5C0.5,13.8,0.6,14,0.8,14h0.1l3.7-0.6C5.4,13.7,6,13.8,7,13.8h0.1 c3.8,0,6.8-3.1,6.8-6.9C13.9,3.1,10.9,0,7.1,0z M3.2,7.8C2.8,7.8,2.4,7.4,2.4,7s0.4-0.8,0.8-0.8S4,6.6,4,7C4,7.5,3.7,7.8,3.2,7.8z M7.2,7.8C6.7,7.8,6.4,7.4,6.4,7s0.4-0.8,0.8-0.8S8,6.6,8,7C7.9,7.5,7.6,7.8,7.2,7.8z M11,7.8c-0.4,0-0.8-0.4-0.8-0.8 s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.8,7.5,11.5,7.8,11,7.8z"}))},Component:Dn},[Qn.a.MIC]:{Icon:function(e){return Object(c.jsx)("svg",zn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerMic",focusable:"false"},e),Object(c.jsx)("path",{id:"Shape-Copy-3",d:"M7.1,0C4.5,0,2.5,2,2.5,4.5V6H2.3c-1.1,0-2,0.9-2,2v1.2c0,1.1,0.9,2,2,2h1.5c0.3,0,0.5-0.2,0.5-0.5V6.4 C4.3,6.2,4.1,6,3.9,6H3.4V4.5c0-2,1.6-3.6,3.7-3.6s3.7,1.6,3.7,3.6V6h-0.5C9.9,6,9.8,6.2,9.8,6.4v4.2c0,0.3,0.2,0.5,0.5,0.5h0.4 c-0.1,0.3-0.3,0.5-0.6,0.7c-0.4,0.3-1,0.5-1.9,0.6c-0.2-0.4-0.6-0.7-1.1-0.7c-0.7,0-1.2,0.5-1.2,1.2C5.8,13.5,6.3,14,7,14 c0.5,0,0.9-0.3,1.1-0.8c1-0.1,1.9-0.3,2.4-0.8c0.5-0.4,0.8-0.9,0.9-1.4h0.2c1.1,0,2-0.9,2-2V7.9c0-1.1-0.9-2-2-2h-0.2V4.5 C11.6,2,9.6,0,7.1,0z"}))},Component:Dn},[Qn.a.ELLIPSIS]:{Icon:function(e){return Object(c.jsx)("svg",Fn({viewBox:"0 0 32 32","data-icon-name":"ChatTriggerEllipsis",focusable:"false"},e),Object(c.jsx)("path",{id:"Combined-Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M28.28387,3.51813C30.33623,3.51813,32,5.1819,32,7.23426 v14.45782c0,2.05236-1.66377,3.71613-3.71613,3.71613l-1.29445-0.00002l0.61046,3.88583 c0.02475,0.1576,0.00841,0.31823-0.04651,0.46661l-0.04838,0.10876c-0.21984,0.41951-0.71518,0.60119-1.14754,0.43933 l-0.10658-0.04768l-9.26093-4.85285L3.71613,25.40821C1.66377,25.40821,0,23.74444,0,21.69208V7.23426 C0,5.1819,1.66377,3.51813,3.71613,3.51813H28.28387z M16,11.3664c-1.7103,0-3.09677,1.38647-3.09677,3.09677 S14.2897,17.55995,16,17.55995s3.09678-1.38647,3.09678-3.09678S17.7103,11.3664,16,11.3664z M7.52941,12.639 c-1.03959,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417s1.88235-0.81671,1.88235-1.82417 S8.56901,12.639,7.52941,12.639z M24.47059,12.639c-1.0396,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417 c1.03959,0,1.88235-0.81671,1.88235-1.82417S25.51018,12.639,24.47059,12.639z"}))},Component:Dn},[Qn.a.ELLIPSIS_STROKE]:{Icon:function(e){return Object(c.jsx)("svg",Hn({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerEllipsisStroke",focusable:"false"},e),Object(c.jsx)("path",{d:"M2.4,13.8c-0.2-0.1-0.3-0.2-0.3-0.4v-2.6H1.7C0.7,10.8,0,10,0,9.1V1.9c0-1,0.8-1.7,1.7-1.7h10.5c1,0,1.7,0.8,1.7,1.7v7.2 c0,1-0.8,1.7-1.7,1.7H5.7l-2.8,2.8C2.7,13.8,2.5,13.9,2.4,13.8L2.4,13.8z M0.8,1.9v7.2c0,0.5,0.4,0.9,0.9,0.9h0.8 C2.8,10,3,10.2,3,10.5v2l2.2-2.3C5.3,10.1,5.4,10,5.5,10h6.8c0.5,0,0.9-0.4,0.9-0.9V1.9c0-0.5-0.4-0.9-0.9-0.9H1.7 C1.2,1,0.8,1.4,0.8,1.9z M6.2,5.5C6.2,5,6.6,4.7,7,4.7c0.5,0,0.8,0.4,0.8,0.8C7.8,6,7.5,6.3,7,6.3S6.2,6,6.2,5.5L6.2,5.5z M9.3,5.5 c0-0.5,0.4-0.8,0.8-0.8c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.3,0.8-0.8,0.8S9.3,6,9.3,5.5L9.3,5.5z M3,5.5C3,5,3.4,4.7,3.8,4.7 c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.4,0.8-0.8,0.8l0,0C3.4,6.3,3,6,3,5.5L3,5.5z"}))},Component:Dn},[Qn.a.CROSS]:{Icon:function(e){return Object(c.jsx)("svg",Wn({viewBox:"0 0 14 14","data-icon-name":"Close",focusable:"false"},e),Object(c.jsx)("path",{d:"M12.8 12.7c.3-.3.3-.8 0-1L8 7l4.6-4.7c.3-.3.3-.8 0-1.1-.3-.3-.8-.3-1.1 0L6.9 6 2.3 1.3C2 1 1.5 1 1.2 1.3s-.3.7 0 1L5.9 7l-4.7 4.7c-.3.3-.3.8 0 1.1.3.3.8.3 1 0l4.7-4.7 4.7 4.6c.3.3.8.3 1.2 0z"}))},Component:Rn},[Qn.a.CHEVRON]:{Icon:Vn.a,Component:Rn}};var ta=o.a.memo((e=>{const{className:t,minimizedIconClassName:n,maximizedIconClassName:i,triggerIconName:r=Qn.a.BUBBLE,label:s,innerLabelRef:l,mode:d=Jn.MINIMIZED,closeIconName:u=Qn.a.CROSS,onLoad:b=St.a}=e,{Icon:f,Component:p}=ea[r],{Icon:y,Component:O}=ea[u],v=Object(G.b)(),[g,h]=Object(a.useState)(!1),j=Object(a.useMemo)((()=>Yn(v)),[v]),m=Object(Ln.a)(),I=Object(kn.a)(),C=d===Jn.MINIMIZED,T=!pe()(j)&&C&&!g,E=!m,x=E||C;Object(a.useEffect)((()=>{T||b(!0)}),[b,T]);const S=Object(a.useCallback)((()=>{h(!0)}),[]);return T?Object(c.jsx)(Zn,{"data-testid":"custom-trigger",className:t,theme:v,customTriggerIconUrls:j,onLoad:b,onError:S}):Object(c.jsx)(En,{className:t,theme:v},Object(c.jsx)(o.a.Fragment,null,E&&Object(c.jsx)(Mn,{className:`center-x-y ${i}`,css:C?Sn:An},Object(c.jsx)(O,{alt:y})),x&&Object(c.jsx)(Pn,{className:`center-x-y ${n}`,css:C?wn:_n,"data-testid":"default-trigger"},Object(c.jsx)(p,{alt:f}),s?Object(c.jsx)(Nn,{ref:l,className:"m-b-0",direction:I,isPhone:m,theme:v},s):null)))})),na=n(219),aa=n(225);var oa=n(882),ia=n(289);const ra=e=>Object(m.g)(Object(I.b)(e)),ca=e=>Object(I.d)(e);var sa=o.a.memo(Object(U.h)((e=>{const{direction:t}=Object(oe.a)(),{showTrigger:n,handleShowTriggerStateChange:o,triggerHandlers:i,hideChatTrigger:r}=e,{onTouchStart:l,onTouchEnd:u,...b}=i,f=Object(d.a)(n),p=Object(vt.a)(),y=Object(G.b)(),O=Object(ae.a)(),{triggerPosition:g,onAction:j,isDragging:m}=Object(Yt.a)(),I="vertical"===y.styles.trigger.orientation,C=Object(a.useRef)(),T=Object(a.useRef)(null),E=Object(aa.a)()(ia.a.getTriggerConfig(p),"label"),[x,S]=Object(a.useState)(!0),[_,A]=Object(a.useState)(E),[w,R]=Object(a.useState)(!1),M=Object(s.d)(ra),P=Object(s.d)(ca),N=ia.a.getAnimationInfoOfTrigger(p),{showChatTriggerAnimation:D}=(()=>{var e,t;const[n,o]=Object(a.useState)(!1),i=Object(v.a)(),r=Object(vt.a)(),c=null===(e=i.triggerAnimationConfig)||void 0===e?void 0:e.filter,{hasPassed:s}=Object(h.a)(c,{defaultValue:!1,logOnSuccess:!0}),l=null===(t=r.trigger)||void 0===t?void 0:t.animation,d=de()(l,"effect");return Object(a.useEffect)((()=>{!pe()(c)&&d&&o(s)}),[c,d,s]),{showChatTriggerAnimation:n}})(),L=ve()(_);Object(a.useEffect)((()=>(n&&!O&&(C.current=window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{R(!0)}))}))),()=>{C.current&&window.cancelAnimationFrame(C.current)})),[n,O]),Object(a.useEffect)((()=>{const e=O&&!I?"":E;L!==e&&A(e)}),[O,E,L,I]);const U=e.intl.formatMessage,B=ia.a.canTriggerBeManuallyRemoved(p)&&M&&pe()(P),$=Object(a.useMemo)((()=>Object(X.e)("trigger.icon.type")({theme:y})),[y]),H=Object(a.useMemo)((()=>Object(X.e)("trigger.closeIcon.type")({theme:y})),[y]),z=Object(a.useCallback)((()=>{var e;j({type:"UPDATE_WIDTH",payload:vn({showLabel:M&&!!_,showTrigger:f.current,labelWidth:(e=T.current,e?Math.ceil(e.clientWidth):0),theme:y})})}),[M,_,y]),V=Object(a.useCallback)((()=>{f.current&&z()}),[z]),W=Object(a.useCallback)((e=>{o(e),z()}),[z]),q=Object(a.useCallback)((e=>{S(e)}),[]),K=U(M?zt.a.openChat:zt.a.closeChat),Y=Object(a.useRef)();return Object(c.jsx)(On,{enableTriggerHideIcon:B,applyRemoveIconStyles:x,"data-testid":"triggerContainer"},Object(c.jsx)(na.a,Object(k.a)({component:gn,showTrigger:n,css:D?cn({triggerAnimationInfo:N,theme:y}):"",triggerPosition:g,enableTriggerWidthTransition:!I&&w,animationDuration:_!==L?"0.25":"0.08",theme:y,className:"spr-chat__trigger-box spr-live-chat-frame",id:"spr-chat__trigger-button",ariaLabel:K,onTouchStart:()=>{q(!1),l(),Y.current=window.setTimeout((()=>{q(!0),Y.current=void 0}),700)},onTouchEnd:e=>{Y.current&&window.clearTimeout(Y.current),u(e)},onContextMenu:e=>{e.preventDefault(),q(!0)}},b),Object(c.jsx)(hn,{"aria-label":U(zt.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:V,shouldHideLocaleLoader:!0,title:U(zt.a.liveChat)},Object(c.jsx)(c.Global,{styles:jn(y,{isMinimized:M})}),Object(c.jsx)("div",{className:"full-height full-width"},Object(c.jsx)(nn.FrameContextConsumer,null,(e=>{let{window:t}=e;return Object(c.jsx)(In.a,{window:t,onResize:z,resizeRefs:T},(e=>Object(c.jsx)(ta,{className:"full-width",label:_,triggerIconName:$,closeIconName:H,mode:M?Jn.MINIMIZED:Jn.MAXIMIZED,onLoad:W,innerLabelRef:e,minimizedIconClassName:"spa",maximizedIconClassName:"spa"})))})))),Object(c.jsx)(mn,null)),B&&n&&!m&&Object(c.jsx)(bn,{onClick:r,"data-testid":"triggerCloseIconContainer",direction:t,className:oa.a},Object(c.jsx)(fn,null,Object(c.jsx)(pn,{alt:F.a,name:ie.a.CLOSE}))))}))),la=n(434),da=n(648);const ua=Object(H.a)("div",{target:"e5qlxka0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(e=>Object(X.e)("trigger.overlayIconButton.borderRadius",Object(X.e)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";position:absolute;bottom:",(e=>dn(e)),"px;",(e=>un(e)),";height:",Object(X.e)("trigger.overlayIconButton.button.height"),"px;width:",Object(X.e)("trigger.overlayIconButton.button.width"),"px;transform:translatez(",Object(X.e)("frame.translateZ"),"px);z-index:",Object(X.e)("frame.zIndex"),";box-shadow:var(--spr-lc-bxs-3);"),ba=Object(H.a)(V.a,{target:"e5qlxka1"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),fa=Object(H.a)(da.a,{target:"e5qlxka2"})("font-size:",Object(X.e)("trigger.overlayIconButton.fontSize"),";height:",Object(X.e)("trigger.overlayIconButton.button.height"),"px;width:",Object(X.e)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(X.e)("trigger.overlayIconButton.button.height"),"px;border-radius:",(e=>Object(X.e)("trigger.overlayIconButton.borderRadius",Object(X.e)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";"),pa="spr-chat-proactive-box-anim",ya=Object(c.css)(".",pa,"-enter{opacity:0;}.",pa,"-enter.",pa,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",pa,"-enter-done,.",pa,"-appear{}.",pa,"-exit{opacity:1;}.",pa,"-exit.",pa,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),Oa=Object(H.a)("div",{target:"e5qlxka3"})({name:"79elbk",styles:"position:relative;"});var va=n(412);const ga=Object(la.a)((e=>Object(m.g)(Object(I.b)(e))),(e=>Object(ht.x)(Object(ht.q)(Object(I.c)(e)))),((e,t)=>({isMinimized:e,totalUnreadCount:t})));var ha=o.a.memo(Object(U.h)((e=>{const{isMinimized:t,totalUnreadCount:n}=Object(s.d)(ga),a=Object(G.b)(),{isDragging:i}=Object(Yt.a)(),{direction:r}=Object(oe.a)(),{isTriggerLoaded:l}=e,d=e.intl.formatMessage;return Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(c.Global,{styles:ya}),Object(c.jsx)(qt.a,{in:t,timeout:{enter:300,exit:0},classNames:pa,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(c.jsx)(Oa,{className:"notification-container"},Object(c.jsx)(va.a,{unreadCount:n,shouldPlay:!0}),n>0&&l&&!i?Object(c.jsx)(ua,{className:"spr-chat__notification-box spr-live-chat-frame","data-testid":"notification-frame-container",theme:a,direction:r},Object(c.jsx)(ba,{name:"spr-chat__notification-frame","aria-label":d(zt.a.liveChatNotification),title:d(zt.a.liveChatNotification)},Object(c.jsx)(fa,{className:"center-x-y",count:n}))):null)))})));const ja=Object(H.a)("div",{target:"ezg1tqb0"})("position:fixed;bottom:",(e=>e.triggerPosition.bottom),"px;",(e=>{const t=e.triggerPosition.edge;return`${[t]}: ${[e.triggerPosition[t]]}px;`})," z-index:",(e=>Object(X.e)("frame.zIndex")(e)),";",(e=>{let{theme:t,triggerPosition:n}=e;const a=Object(X.e)("trigger.orientation")({theme:t}),o=Object(X.e)("trigger.align")({theme:t}),i=Math.abs((n.width-n.height)/2),r=Object(X.e)("frame.translateZ")({theme:t});if(a===Rt.j.VERTICAL)switch(o){case"B_L":case"C_L":return`transform: rotate(90deg) translate3d(-${i}px, ${i}px, ${r}px)`;case"B_R":case"C_R":return`transform: rotate(270deg) translate3d(${i}px, ${i}px, ${r}px)`;default:return`transform: translatez(${r}px)`}return`transform: translatez(${r}px)`}),";",(e=>!e.isDragging&&"transition: bottom 0.16s linear"),";",(e=>e.isDragAllowed?"cursor: grab":"cursor: pointer"),";"),ma=Object(bt.a)((()=>n.e(27).then(n.bind(null,1511)).then((e=>({default:e.DraggableContainer}))))),Ia=e=>{let{children:t,shouldDrag:n,...i}=e;return n?Object(c.jsx)(a.Suspense,{fallback:null},Object(c.jsx)(ma,i,t)):Object(c.jsx)(o.a.Fragment,null,t)};var Ca=n(883);const Ta=e=>Object(m.g)(Object(I.b)(e)),Ea=e=>Object(m.g)(Object(I.b)(e));var xa=n(294),Sa=n(246);const _a=e=>Object(I.b)(e).meta.isTriggerManuallyHidden,Aa=()=>{var e;(()=>{const e=Object(ye.a)(Ee.h),t=Object(v.a)(),n=j.a.getNoDisplayConfigFilter(t),{hasPassed:o}=Object(h.a)(n,{defaultValue:!1,logOnSuccess:!0}),i=Object(s.d)(Ea);Object(a.useEffect)((()=>{!pe()(n)&&i&&(o&&Object(T.a)("Sprinklr Chat hidden by display criteria"),e({value:o}))}),[n,i,o])})();const t=Object(ye.a)(Ee.c),n=null===(e=Object(vt.a)().trigger)||void 0===e?void 0:e.hideTimeout,o=Object(s.c)(),i=Object(a.useRef)(null),r=Object(a.useRef)(!n),c=Object(s.d)(_a),l=Object(s.d)(Ie.h),d=Object(b.d)(l),u=Object(nt.a)();r.current||(r.current=!0,Object(xa.c)(d).then((e=>{e&&Date.now()<=e?i.current=window.setTimeout((()=>{o({type:Sa.p,payload:{}})}),e-Date.now()):o({type:Sa.p,payload:{}})})));const f=Object(a.useCallback)((async()=>{n&&(await Object(xa.m)(d,Date.now()+n),i.current=window.setTimeout((()=>{o({type:Sa.p,payload:{}})}),n)),u({action:Qt.a.CHAT_TRIGGER_REMOVED}),t()}),[n,t,o,d]);return Object(a.useEffect)((()=>{c||(Object(xa.j)(d),i.current&&(window.clearTimeout(i.current),i.current=null))}),[c]),f},wa=e=>Object(m.g)(Object(I.b)(e)),Ra=e=>Object(m.f)(Object(I.b)(e));var Ma=()=>{const e=Object(G.b)(),[t,n]=Object(a.useState)(!1),{triggerPosition:o,isDragAllowed:i,isDragging:r}=Object(Yt.a)(),l=Object(ae.a)(),d=Object(s.d)(wa),u=Object(s.d)(Ra),b=Aa(),f=Object(nt.a)(),p=ve()(u),y=ve()(t);Object(a.useEffect)((()=>{(p||!y)&&!(u||!t)&&f({action:Qt.a.TRIGGER_VISIBLE})}),[t,y,u,p,f]);const{triggerHandlers:O,dragHandlers:{onDragStart:v,onDragStop:g}}=(e=>{const t=Object(G.b)(),n=Object(ye.a)(Ee.g),o=Object(s.d)(Ta),i=Object(nt.a)(),r=Object(a.useMemo)((()=>Yn(t)),[t]),c=Object(a.useCallback)((()=>{e||(n(!o),o&&i({action:Qt.a.CHAT_TRIGGER_CLICKED,...(null===r||void 0===r?void 0:r.length)>1?{additional:{triggerImageUrl:Kn}}:{}}))}),[e,o,n]),{onDragStart:l,onDragStop:d,onTouchStart:u,onTouchMove:b,onTouchEnd:f,onTouchCancel:p}=Object(Ca.a)(c);return Object(a.useMemo)((()=>({triggerHandlers:{onTouchStart:u,onTouchMove:b,onTouchEnd:f,onTouchCancel:p,onClick:c},dragHandlers:{onDragStart:l,onDragStop:d}})),[u,b,f,p,c,l,d])})(!!r),h=u||l&&!d,j=Mt();return h?null:Object(c.jsx)(Ia,{shouldDrag:j,onDragStart:v,onDragStop:g},Object(c.jsx)(ja,{theme:e,shouldDrag:j,isDragAllowed:!!i,isDragging:!!r,triggerPosition:o},Object(c.jsx)(sa,{triggerHandlers:O,showTrigger:t,handleShowTriggerStateChange:n,hideChatTrigger:b}),Object(c.jsx)(ha,{isTriggerLoaded:t})))};var Pa=()=>{const e=Object(a.useRef)(null);return Object(c.jsx)(Ft,null,Object(c.jsx)(Ct,{chatBoxFrameRef:e}),Object(c.jsx)(Ma,null),Object(c.jsx)(tn,{ref:e}),Object(c.jsx)(De,{parentFrameRef:e}),Object(c.jsx)(ut.c,{parentFrameRef:e}),Object(c.jsx)(be,null))},Na=n(511),Da=n(580),La=n(866);const ka=e=>{const t=Object(a.useState)(null);return Object(c.jsx)(La.a.Provider,{value:t},e.children)};var Ua=n(268),Ba=n(686),Ga=n(646),$a=n(865),Fa=n(578);const Ha=o.a.createContext("MODERN");var za=e=>Object(c.jsx)(Ha.Provider,{value:e.skin},e.children),Va=n(880),Wa=n(881),qa=n(222),Xa=n.n(qa),Ka=n(15),Ya=n.n(Ka);const Za=e=>{let{isDarkMode:t,theme:n,targetDocument:i,container:r,children:s}=e;const{targetElement:l,cssVariables:d}=Object(a.useMemo)((()=>{const e=i&&r?i.querySelector(r):null,a=Ya()(t?n.tokens.dark:Xa()(n.tokens,"dark"),((e,t,n)=>`${e}${n}:${t};`),"");let o;return o=e?t?`.spr-lc-dark{${a}}`:`.spr-lc-light{${a}}`:`:root {${a}}`,{targetElement:e,cssVariables:o}}),[n.tokens,t,i,r]);return Object(a.useLayoutEffect)((()=>{l&&function(e,t){t?e.classList.contains("spr-lc-dark")||(e.classList.add("spr-lc-dark"),e.classList.remove("spr-lc-light")):e.classList.contains("spr-lc-light")||(e.classList.add("spr-lc-light"),e.classList.remove("spr-lc-dark"))}(l,t)}),[l,t]),Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(c.Global,{styles:Object(c.css)(d,"","")}),s)};var Qa=n(642);var Ja=e=>{let{theme:t,isDarkMode:n,targetDocument:o,container:i,skipAutoGenerate:r,children:s}=e;const l=Object(a.useContext)(Ha),d=Object(a.useMemo)((()=>{if(r)return t;const e=Object(Qa.a)({appColors:t.colors,appTypography:t.typography,appIcons:t.icons,appTokens:t.tokens});return Object(Qa.c)({appBase:e,styles:t.styles,skin:l})}),[t,l,r]);return Object(c.jsx)(G.a,{theme:d},Object(c.jsx)(Za,{isDarkMode:n,targetDocument:o,container:i,theme:d},s))};function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eo.apply(this,arguments)}const to={direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},no=e=>{let{direction:t,device:n,skin:o,ownerDocument:i,intl:r,children:s,themeConfig:l}=e;const d=Object(a.useMemo)((()=>{return e=i,Object(Fa.a)({container:e.head});var e}),[i]);return Object(c.jsx)(c.CacheProvider,{value:d},Object(c.jsx)(U.e,r,Object(c.jsx)(za,{skin:o},Object(c.jsx)(Ja,eo({},l,{targetDocument:i}),Object(c.jsx)(Wa.b,{direction:t},Object(c.jsx)(Va.b,{device:n},s))))))};no.defaultProps=to;var ao=no,oo=n(435),io=n.n(oo),ro=n(227);const co=[Rt.h.BOTTOM_LEFT,Rt.h.CENTER_LEFT],so=[Rt.h.BOTTOM_RIGHT,Rt.h.CENTER_RIGHT],lo=e=>{let{triggerAlign:t,frameAlign:n}=e;if(co.includes(t))switch(n){case Rt.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:return Rt.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT;case Rt.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return Rt.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT;case Rt.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:return Rt.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;case Rt.c.VIEWPORT_BOTTOM_RIGHT_BOX_BOTTOM_RIGHT:return Rt.c.VIEWPORT_BOTTOM_LEFT_BOX_BOTTOM_LEFT;default:return n||Rt.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT}switch(n){case Rt.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return Rt.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT;case Rt.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return Rt.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT;case Rt.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:return Rt.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT;case Rt.c.VIEWPORT_BOTTOM_LEFT_BOX_BOTTOM_LEFT:return Rt.c.VIEWPORT_BOTTOM_RIGHT_BOX_BOTTOM_RIGHT;default:return n||Rt.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT}},uo=[Rt.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT,Rt.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT,Rt.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT,Rt.c.VIEWPORT_BOTTOM_LEFT_BOX_BOTTOM_LEFT],bo=[Rt.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT,Rt.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT,Rt.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT,Rt.c.VIEWPORT_BOTTOM_RIGHT_BOX_BOTTOM_RIGHT],fo=e=>t=>(e=>{var t;let{framePath:n,styles:a}=e;const o=a.trigger.align,i=null===(t=a[n])||void 0===t?void 0:t.align;if(o&&i){if(so.includes(o)&&uo.includes(i))return!0;if(co.includes(o)&&bo.includes(i))return!0}return!1})({framePath:e,styles:t})?{...t,[e]:{...t[e],align:lo({triggerAlign:t.trigger.align,frameAlign:t[e].align})}}:t,po=e=>{const{trigger:t}=null!==e&&void 0!==e?e:ro.a,{align:n=Rt.h.BOTTOM_RIGHT,orientation:a=Rt.j.HORIZONTAL}=null!==t&&void 0!==t?t:ro.a;let o=null!==n&&void 0!==n?n:Rt.h.BOTTOM_RIGHT;return"left"===n&&(o=Rt.h.BOTTOM_LEFT),"right"===n&&(o=Rt.h.BOTTOM_RIGHT),{...e,trigger:{...e.trigger,orientation:a,align:o}}};var yo=e=>{let{children:t}=e;const{theme:n}=Object(vt.a)(),o=Object(Ke.a)(),i=Object(a.useMemo)((()=>{return Object(Qa.c)({appBase:Object(Qa.a)({appColors:n.colors,appTypography:n.typography,appIcons:n.icons,appTokens:n.tokens}),styles:(e=n.styles,io()([po,fo("frame"),fo("proactivePrompt")])(e)),skin:o});var e}),[n,o]);return Object(c.jsx)(G.a,{theme:i},t)},Oo=n(46);const vo=Object(U.h)((e=>{let{intl:t,children:n}=e;const o=Object(Ve.a)(),i=Object(oe.a)(),r=Object(Ke.a)(),s=Object(G.b)(),l=Object(a.useMemo)((()=>({locale:t.locale,messages:t.messages,defaultLocale:t.defaultLocale})),[t]),d=Object(a.useMemo)((()=>({theme:s,isDarkMode:o.isDarkMode,skipAutoGenerate:!0,container:`#${Oo.a}`})),[s,o.isDarkMode]);return Object(c.jsx)(ao,{ownerDocument:Object(Pt.b)().document,direction:i.direction,device:o.device,skin:r,intl:l,themeConfig:d},n)})),go=e=>{let{children:t}=e;return Object(c.jsx)(yo,null,Object(c.jsx)(vo,null,t))};var ho=o.a.memo(go),jo=n(689),mo=n(48),Io=n.n(mo),Co=n(2),To=n.n(Co);const Eo=e=>{let{id:t,filters:n,cb:o}=e;const i=Object(h.a)(n);return Object(a.useEffect)((()=>{o({data:{id:t,filters:n,results:To()(i)?Io()(i,(e=>({passed:e.hasPassed}))):{passed:i.hasPassed}}})}),[i,n,o]),null},xo=e=>Object(m.b)(Object(I.b)(e)),So=o.a.memo((e=>{const t=Object(s.d)(xo);return Object(c.jsx)(o.a.Fragment,null,Io()(t,((e,t)=>{let{filters:n,cb:a}=e;return Object(c.jsx)(Eo,{key:t,id:t,filters:n,cb:a})})),e.children)}));var _o=n(885),Ao=n(486);var wo=function(e){let{applicationConfig:t,store:n,history:i}=e;const r=Object(Pt.b)(),y=Object(_.P)()?Vt:Pa,O=Object(a.useMemo)((()=>Object(Ao.a)(r.document)),[r.document]);return((e,t)=>{var n;const o=null===(n=t.otherConfigs.settings)||void 0===n?void 0:n.delayInitializePoller,i=Object(a.useMemo)((()=>Object(b.d)(e.getState().usersMap)),[e]),r=Object(d.a)(e);l((()=>{r.current.dispatch(Object(u.e)())}),[i]),Object(a.useEffect)((()=>{o?e.dispatch(Object(u.e)()):e.dispatch(Object(u.d)())}),[e])})(n,t),Object(c.jsx)(c.CacheProvider,{value:O},Object(c.jsx)(Ga.a,{window:r},Object(c.jsx)(s.a,{store:n},Object(c.jsx)(D.c.Provider,{value:t},Object(c.jsx)(ka,null,Object(c.jsx)(p.b,null,Object(c.jsx)(Na.a,null,Object(c.jsx)(jo.b,null,Object(c.jsx)(N,{history:i},Object(c.jsx)(Ua.b,null,Object(c.jsx)(Ba.a,null,Object(c.jsx)($a.b,{history:i},Object(c.jsx)(L.a,null,Object(c.jsx)(Da.b,null,Object(c.jsx)(So,null,Object(c.jsx)(_o.b,null,Object(c.jsx)(R,null,Object(c.jsx)(ho,null,Object(c.jsx)(f.b,null,Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(y,null)))))))))))))))))))))},Ro=n(363),Mo=function(e){return"@@redux-saga/"+e},Po=Mo("CANCEL_PROMISE"),No=Mo("CHANNEL_END"),Do=Mo("IO"),Lo=Mo("MATCH"),ko=Mo("MULTICAST"),Uo=Mo("SAGA_ACTION"),Bo=Mo("SELF_CANCELLATION"),Go=Mo("TASK"),$o=Mo("TASK_CANCEL"),Fo=Mo("TERMINATE"),Ho=Mo("LOCATION"),zo=n(407),Vo=n(702),Wo=function(e){return null===e||void 0===e},qo=function(e){return null!==e&&void 0!==e},Xo=function(e){return"function"===typeof e},Ko=function(e){return"string"===typeof e},Yo=Array.isArray,Zo=function(e){return e&&Xo(e.then)},Qo=function(e){return e&&Xo(e.next)&&Xo(e.throw)},Jo=function e(t){return t&&(Ko(t)||ni(t)||Xo(t)||Yo(t)&&t.every(e))},ei=function(e){return e&&Xo(e.take)&&Xo(e.close)},ti=function(e){return Xo(e)&&e.hasOwnProperty("toString")},ni=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var ai=function(e,t){var n;void 0===t&&(t=!0);var a=new Promise((function(a){n=setTimeout(a,e,t)}));return a[Po]=function(){clearTimeout(n)},a},oi=function(e){return function(){return e}}(!0),ii=function(){};var ri=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var ci=function(e,t){Object(zo.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function si(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function li(e){var t=!1;return function(){t||(t=!0,e())}}var di=function(e){throw e},ui=function(e){return{value:e,done:!0}};function bi(e,t,n){void 0===t&&(t=di),void 0===n&&(n="iterator");var a={meta:{name:n},next:e,throw:t,return:ui,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(a[Symbol.iterator]=function(){return a}),a}function fi(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var pi=function(e){return Array.apply(null,new Array(e))},yi=function(e){return function(t){return e(Object.defineProperty(t,Uo,{value:!0}))}},Oi=function(e){return e===Fo},vi=function(e){return e===$o},gi=function(e){return Oi(e)||vi(e)};function hi(e,t){var n=Object.keys(e),a=n.length;var o,i=0,r=Yo(e)?pi(a):{},c={};return n.forEach((function(e){var n=function(n,c){o||(c||gi(n)?(t.cancel(),t(n,c)):(r[e]=n,++i===a&&(o=!0,t(r))))};n.cancel=ii,c[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return c[e].cancel()})))},c}function ji(e){return{name:e.name||"anonymous",location:mi(e)}}function mi(e){return e[Ho]}var Ii={isEmpty:oi,put:ii,take:ii};function Ci(e,t){void 0===e&&(e=10);var n=new Array(e),a=0,o=0,i=0,r=function(t){n[o]=t,o=(o+1)%e,a++},c=function(){if(0!=a){var t=n[i];return n[i]=null,a--,i=(i+1)%e,t}},s=function(){for(var e=[];a;)e.push(c());return e};return{isEmpty:function(){return 0==a},put:function(c){var l;if(a<e)r(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=c,i=o=(o+1)%e;break;case 4:l=2*e,n=s(),a=n.length,o=n.length,i=0,n.length=l,e=l,r(c)}},take:c,flush:s}}var Ti=function(){return Ii},Ei=function(e){return Ci(e,3)},xi=function(e){return Ci(e,4)},Si=Object.freeze({__proto__:null,none:Ti,fixed:function(e){return Ci(e,1)},dropping:function(e){return Ci(e,2)},sliding:Ei,expanding:xi}),_i="TAKE",Ai="PUT",wi="ALL",Ri="RACE",Mi="CALL",Pi="FORK",Ni="CANCEL",Di="SELECT",Li="ACTION_CHANNEL",ki="CANCELLED",Ui=function(e,t){var n;return(n={})[Do]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Bi=function(e){return Ui(Pi,Object(zo.a)({},e.payload,{detached:!0}))};function Gi(e,t){return void 0===e&&(e="*"),Jo(e)?Ui(_i,{pattern:e}):ei(n=e)&&n[ko]&&qo(t)&&Jo(t)?Ui(_i,{channel:e,pattern:t}):ei(e)?Ui(_i,{channel:e}):void 0;var n}function $i(e,t){return Wo(t)&&(t=e,e=void 0),Ui(Ai,{channel:e,action:t})}function Fi(e){var t=Ui(wi,e);return t.combinator=!0,t}function Hi(e){var t=Ui(Ri,e);return t.combinator=!0,t}function zi(e,t){var n,a=null;return Xo(e)?n=e:(Yo(e)?(a=e[0],n=e[1]):(a=e.context,n=e.fn),a&&Ko(n)&&Xo(a[n])&&(n=a[n])),{context:a,fn:n,args:t}}function Vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Ui(Mi,zi(e,n))}function Wi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Ui(Pi,zi(e,n))}function qi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Bi(Wi.apply(void 0,[e].concat(n)))}function Xi(e){return void 0===e&&(e=Bo),Ui(Ni,e)}function Ki(e){void 0===e&&(e=ri);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Ui(Di,{selector:e,args:n})}function Yi(e,t){return Ui(Li,{pattern:e,buffer:t})}var Zi=Vi.bind(null,ai);function Qi(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var Ji=Qi,er=[],tr=0;function nr(e){try{ir(),e()}finally{rr()}}function ar(e){er.push(e),tr||(ir(),cr())}function or(e){try{return ir(),e()}finally{cr()}}function ir(){tr++}function rr(){tr--}function cr(){var e;for(rr();!tr&&void 0!==(e=er.shift());)nr(e)}var sr=function(e){return function(t){return e.some((function(e){return fr(e)(t)}))}},lr=function(e){return function(t){return e(t)}},dr=function(e){return function(t){return t.type===String(e)}},ur=function(e){return function(t){return t.type===e}},br=function(){return oi};function fr(e){var t="*"===e?br:Ko(e)?dr:Yo(e)?sr:ti(e)?dr:Xo(e)?lr:ni(e)?ur:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var pr={type:No},yr=function(e){return e&&e.type===No};function Or(e){void 0===e&&(e=xi());var t=!1,n=[];return{take:function(a){t&&e.isEmpty()?a(pr):e.isEmpty()?(n.push(a),a.cancel=function(){si(n,a)}):a(e.take())},put:function(a){if(!t){if(0===n.length)return e.put(a);n.shift()(a)}},flush:function(n){t&&e.isEmpty()?n(pr):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var a=0,o=e.length;a<o;a++){(0,e[a])(pr)}}}}}function vr(e,t){void 0===t&&(t=Ti());var n,a=!1,o=Or(t),i=function(){a||(a=!0,Xo(n)&&n(),o.close())};return n=li(n=e((function(e){yr(e)?i():o.put(e)}))),a&&n(),{take:o.take,flush:o.flush,close:i}}function gr(){var e=function(){var e,t=!1,n=[],a=n,o=function(){a===n&&(a=n.slice())},i=function(){t=!0;var e=n=a;a=[],e.forEach((function(e){e(pr)}))};return(e={})[ko]=!0,e.put=function(e){if(!t)if(yr(e))i();else for(var o=n=a,r=0,c=o.length;r<c;r++){var s=o[r];s[Lo](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=br),t?e(pr):(e[Lo]=n,o(),a.push(e),e.cancel=li((function(){o(),si(a,e)})))},e.close=i,e}(),t=e.put;return e.put=function(e){e[Uo]?t(e):ar((function(){t(e)}))},e}function hr(e,t){var n=e[Po];Xo(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var jr,mr=0,Ir=function(){return++mr};function Cr(e){e.isRunning()&&e.cancel()}var Tr=((jr={}).TAKE=function(e,t,n){var a=t.channel,o=void 0===a?e.channel:a,i=t.pattern,r=t.maybe,c=function(e){e instanceof Error?n(e,!0):!yr(e)||r?n(e):n(Fo)};try{o.take(c,qo(i)?fr(i):null)}catch(s){return void n(s,!0)}n.cancel=c.cancel},jr.PUT=function(e,t,n){var a=t.channel,o=t.action,i=t.resolve;ar((function(){var t;try{t=(a?a.put:e.dispatch)(o)}catch(r){return void n(r,!0)}i&&Zo(t)?hr(t,n):n(t)}))},jr.ALL=function(e,t,n,a){var o=a.digestEffect,i=mr,r=Object.keys(t);if(0!==r.length){var c=hi(t,n);r.forEach((function(e){o(t[e],i,c[e],e)}))}else n(Yo(t)?[]:{})},jr.RACE=function(e,t,n,a){var o=a.digestEffect,i=mr,r=Object.keys(t),c=Yo(t)?pi(r.length):{},s={},l=!1;r.forEach((function(e){var t=function(t,a){l||(a||gi(t)?(n.cancel(),n(t,a)):(n.cancel(),l=!0,c[e]=t,n(c)))};t.cancel=ii,s[e]=t})),n.cancel=function(){l||(l=!0,r.forEach((function(e){return s[e].cancel()})))},r.forEach((function(e){l||o(t[e],i,s[e],e)}))},jr.CALL=function(e,t,n,a){var o=t.context,i=t.fn,r=t.args,c=a.task;try{var s=i.apply(o,r);if(Zo(s))return void hr(s,n);if(Qo(s))return void Pr(e,s,c.context,mr,ji(i),!1,n);n(s)}catch(l){n(l,!0)}},jr.CPS=function(e,t,n){var a=t.context,o=t.fn,i=t.args;try{var r=function(e,t){Wo(e)?n(t):n(e,!0)};o.apply(a,i.concat(r)),r.cancel&&(n.cancel=r.cancel)}catch(c){n(c,!0)}},jr.FORK=function(e,t,n,a){var o=t.context,i=t.fn,r=t.args,c=t.detached,s=a.task,l=function(e){var t=e.context,n=e.fn,a=e.args;try{var o=n.apply(t,a);if(Qo(o))return o;var i=!1;return bi((function(e){return i?{value:e,done:!0}:(i=!0,{value:o,done:!Zo(o)})}))}catch(r){return bi((function(){throw r}))}}({context:o,fn:i,args:r}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:ji(t)}(l,i);or((function(){var t=Pr(e,l,s.context,mr,d,c,void 0);c?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},jr.JOIN=function(e,t,n,a){var o=a.task,i=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&si(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Yo(t)){if(0===t.length)return void n([]);var r=hi(t,n);t.forEach((function(e,t){i(e,r[t])}))}else i(t,n)},jr.CANCEL=function(e,t,n,a){var o=a.task;t===Bo?Cr(o):Yo(t)?t.forEach(Cr):Cr(t),n()},jr.SELECT=function(e,t,n){var a=t.selector,o=t.args;try{n(a.apply(void 0,[e.getState()].concat(o)))}catch(i){n(i,!0)}},jr.ACTION_CHANNEL=function(e,t,n){var a=t.pattern,o=Or(t.buffer),i=fr(a),r=function t(n){yr(n)||e.channel.take(t,i),o.put(n)},c=o.close;o.close=function(){r.cancel(),c()},e.channel.take(r,i),n(o)},jr.CANCELLED=function(e,t,n,a){n(a.task.isCancelled())},jr.FLUSH=function(e,t,n){t.flush(n)},jr.GET_CONTEXT=function(e,t,n,a){n(a.task.context[t])},jr.SET_CONTEXT=function(e,t,n,a){var o=a.task;ci(o.context,t),n()},jr);function Er(e,t){return e+"?"+t}function xr(e){var t=e.name,n=e.location;return n?t+"  "+Er(n.fileName,n.lineNumber):t}function Sr(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var _r=null,Ar=[],wr=function(){_r=null,Ar.length=0},Rr=function(){var e=Ar[0],t=Ar.slice(1),n=e.crashedEffect?function(e){var t=mi(e);return t?t.code+"  "+Er(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+xr(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+xr(e.meta)})),[Sr(Ar)]).join("\n")};function Mr(e,t,n,a,o,i,r){var c;void 0===r&&(r=ii);var s,l,d=0,u=null,b=[],f=Object.create(n),p=function(e,t,n){var a,o=[],i=!1;function r(e){t(),s(),n(e,!0)}function c(t){o.push(t),t.cont=function(c,s){i||(si(o,t),t.cont=ii,s?r(c):(t===e&&(a=c),o.length||(i=!0,n(a))))}}function s(){i||(i=!0,o.forEach((function(e){e.cont=ii,e.cancel()})),o=[])}return c(e),{addTask:c,cancelAll:s,abort:r,getTasks:function(){return o}}}(t,(function(){b.push.apply(b,p.getTasks().map((function(e){return e.meta.name})))}),y);function y(t,n){if(n){if(d=2,(i={meta:o,cancelledTasks:b}).crashedEffect=_r,Ar.push(i),O.isRoot){var a=Rr();wr(),e.onError(t,{sagaStack:a})}l=t,u&&u.reject(t)}else t===$o?d=1:1!==d&&(d=3),s=t,u&&u.resolve(t);var i;O.cont(t,n),O.joiners.forEach((function(e){e.cb(t,n)})),O.joiners=null}var O=((c={})[Go]=!0,c.id=a,c.meta=o,c.isRoot=i,c.context=f,c.joiners=[],c.queue=p,c.cancel=function(){0===d&&(d=1,p.cancelAll(),y($o,!1))},c.cont=r,c.end=y,c.setContext=function(e){ci(f,e)},c.toPromise=function(){return u||(u=Ji(),2===d?u.reject(l):0!==d&&u.resolve(s)),u.promise},c.isRunning=function(){return 0===d},c.isCancelled=function(){return 1===d||0===d&&1===t.status},c.isAborted=function(){return 2===d},c.result=function(){return s},c.error=function(){return l},c);return O}function Pr(e,t,n,a,o,i,r){var c=e.finalizeRunEffect((function(t,n,a){if(Zo(t))hr(t,a);else if(Qo(t))Pr(e,t,l.context,n,o,!1,a);else if(t&&t[Do]){(0,Tr[t.type])(e,t.payload,a,d)}else a(t)}));u.cancel=ii;var s={meta:o,cancel:function(){0===s.status&&(s.status=1,u($o))},status:0},l=Mr(e,s,n,a,o,i,r),d={task:l,digestEffect:b};return r&&(r.cancel=l.cancel),u(),l;function u(e,n){try{var o;n?(o=t.throw(e),wr()):vi(e)?(s.status=1,u.cancel(),o=Xo(t.return)?t.return($o):{done:!0,value:$o}):o=Oi(e)?Xo(t.return)?t.return():{done:!0}:t.next(e),o.done?(1!==s.status&&(s.status=3),s.cont(o.value)):b(o.value,a,u)}catch(i){if(1===s.status)throw i;s.status=2,s.cont(i,!0)}}function b(t,n,a,o){void 0===o&&(o="");var i,r=Ir();function s(n,o){i||(i=!0,a.cancel=ii,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(r,n):e.sagaMonitor.effectResolved(r,n)),o&&function(e){_r=e}(t),a(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:r,parentEffectId:n,label:o,effect:t}),s.cancel=ii,a.cancel=function(){i||(i=!0,s.cancel(),s.cancel=ii,e.sagaMonitor&&e.sagaMonitor.effectCancelled(r))},c(t,r,s)}}function Nr(e,t){var n=e.channel,a=void 0===n?gr():n,o=e.dispatch,i=e.getState,r=e.context,c=void 0===r?{}:r,s=e.sagaMonitor,l=e.effectMiddlewares,d=e.onError,u=void 0===d?fi:d;for(var b=arguments.length,f=new Array(b>2?b-2:0),p=2;p<b;p++)f[p-2]=arguments[p];var y=t.apply(void 0,f);var O,v=Ir();if(s&&(s.rootSagaStarted=s.rootSagaStarted||ii,s.effectTriggered=s.effectTriggered||ii,s.effectResolved=s.effectResolved||ii,s.effectRejected=s.effectRejected||ii,s.effectCancelled=s.effectCancelled||ii,s.actionDispatched=s.actionDispatched||ii,s.rootSagaStarted({effectId:v,saga:t,args:f})),l){var g=Ro.d.apply(void 0,l);O=function(e){return function(t,n,a){return g((function(t){return e(t,n,a)}))(t)}}}else O=ri;var h={channel:a,dispatch:yi(o),getState:i,sagaMonitor:s,onError:u,finalizeRunEffect:O};return or((function(){var e=Pr(h,y,c,v,ji(t),!0,void 0);return s&&s.effectResolved(v,e),e}))}var Dr=function(e){var t,n=void 0===e?{}:e,a=n.context,o=void 0===a?{}:a,i=n.channel,r=void 0===i?gr():i,c=n.sagaMonitor,s=Object(Vo.a)(n,["context","channel","sagaMonitor"]);function l(e){var n=e.getState,a=e.dispatch;return t=Nr.bind(null,Object(zo.a)({},s,{context:o,channel:r,dispatch:a,getState:n,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return r.put(t),n}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(e){ci(o,e)},l},Lr=Dr,kr=n(332),Ur=n.n(kr),Br=n(382),Gr=n(258);class $r{constructor(){this.data={}}setReducer(e){return this.data.reducer=e,this}setSaga(e){return this.data.saga=e,this}setPreloadedState(e){return this.data.preloadedState=e,this}setHTTPClient(e){return this.data.httpClient=e,this}setApplicationConfig(e){return e&&(this.data.applicationConfig=e),this}setHandshakeDetails(e){return e&&(this.data.handshakeDetails=e),this}setChatSettings(e){return e&&(this.data.chatSettings=e),this}build(){const{applicationConfig:e,handshakeDetails:t,chatSettings:n,httpClient:a,reducer:o,preloadedState:i,saga:r}=this.data,c=n.clientContext;Ur()(a,"HTTP Client is not configured"),Object(Br.b)(a),Ur()(o,"Reducer is not configured");const s=[];const l=Lr();s.push(l);const d=Object(Ro.e)(o,i,Object(Ro.a)(...s));r&&l.run(r);const u={payload:{applicationConfig:e,handshakeDetails:t,clientContext:c},type:Gr.a};return d.dispatch(u),this.data.store=d,d}}var Fr=function(e){return{done:!0,value:e}},Hr={};function zr(e){return ei(e)?"channel":ti(e)?String(e):Xo(e)?e.name:String(e)}function Vr(e,t,n){var a,o,i,r=t;function c(t,n){if(r===Hr)return Fr(t);if(n&&!o)throw r=Hr,n;a&&a(t);var c=n?e[o](n):e[r]();return r=c.nextState,i=c.effect,a=c.stateUpdater,o=c.errorState,r===Hr?Fr(t):i}return bi(c,(function(e){return c(null,e)}),n)}function Wr(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i,r={done:!1,value:Gi(e)},c=function(e){return{done:!1,value:Wi.apply(void 0,[t].concat(a,[e]))}},s=function(e){return i=e};return Vr({q1:function(){return{nextState:"q2",effect:r,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(i)}}},"q1","takeEvery("+zr(e)+", "+t.name+")")}function qr(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i,r,c={done:!1,value:Gi(e)},s=function(e){return{done:!1,value:Wi.apply(void 0,[t].concat(a,[e]))}},l=function(e){return{done:!1,value:Xi(e)}},d=function(e){return i=e},u=function(e){return r=e};return Vr({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return i?{nextState:"q3",effect:l(i)}:{nextState:"q1",effect:s(r),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:s(r),stateUpdater:d}}},"q1","takeLatest("+zr(e)+", "+t.name+")")}function Xr(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i,r={done:!1,value:Gi(e)},c=function(e){return{done:!1,value:Vi.apply(void 0,[t].concat(a,[e]))}},s=function(e){return i=e};return Vr({q1:function(){return{nextState:"q2",effect:r,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(i)}}},"q1","takeLeading("+zr(e)+", "+t.name+")")}function Kr(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Wi.apply(void 0,[Wr,e,t].concat(a))}var Yr=n(199),Zr=n(276),Qr=n(305);function Jr(e){return e.type===Qr.p||e.type===Qr.t}function*ec(e){try{yield Fi(e.filter(Jr).map((e=>$i(e))))}catch(t){Object(Yr.b)(t)}}function*tc(e){try{const{events:t}=e.payload;yield Vi(ec,t)}catch(t){Object(Yr.b)(t)}}function*nc(){try{yield Kr(Zr.j,tc)}catch(e){Object(Yr.b)(e)}}function*ac(e){try{yield Zi(e),yield $i(Object(u.h)())}catch(t){Object(Yr.b)(t)}}function*oc(){let e;const t=yield Yi([Qr.p,Qr.t]);for(;;)try{const n=yield Gi(t);e&&!e.isCancelled()&&(yield Xi(e)),n.type===Qr.p&&(e=yield Wi(ac,n.payload.waitTime),yield $i(Object(u.f)({waitTime:n.payload.waitTime,reason:n.payload.reason}))),n.type===Qr.t&&(yield $i(Object(u.h)()))}catch(n){Object(Yr.b)(n)}}function*ic(){try{yield Fi([Wi(oc)])}catch(e){Object(Yr.b)(e)}}function*rc(){try{yield Fi([Wi(nc),Wi(ic)])}catch(e){Object(Yr.b)(e)}}var cc=n(275),sc=n.n(cc),lc=n(49),dc=n.n(lc),uc=n(334),bc=n.n(uc),fc=n(685),pc=n.n(fc),yc=n(231),Oc=n.n(yc),vc=n(595),gc=n.n(vc),hc=n(270),jc=n.n(hc),mc=n(241),Ic=n(245),Cc=n(229),Tc=n(282),Ec=n(291),xc=n(445),Sc=n(243);function*_c(e){let{chatMessage:t,conversationId:n,transientId:a,postbackParentMessageId:o,error:i}=e;try{yield $i({type:mc.K,payload:{chatMessage:new Cc.a(t).setCreationTime(Date.now()).build(),conversationId:Cc.a.getConversationId(t)}}),yield $i({payload:{conversationId:n,transientId:a,postbackParentMessageId:o,error:i},type:mc.H})}catch(r){Object(Yr.b)(r)}}function*Ac(e){try{Object(Ec.k)(e)&&(yield $i(Object(Sc.p)(e)))}catch(t){Object(Yr.b)(t)}}function wc(e){return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){let t=e;Object(Ec.j)(e)||(t=Xa()(e,"id"));return yield Object(xc.u)(t)}))}function*Rc(e){try{return yield Vi(wc,e)}catch(t){return void Object(Yr.b)(t)}}function*Mc(e){try{const n=e.id,a=Cc.a.getConversationId(e);let o;const i=de()(Tc.a.getAttachment(Cc.a.getMessagePayload(e)),"messageId");try{o=yield Vi(wc,e)}catch(t){throw yield Vi(_c,{chatMessage:e,conversationId:a,transientId:n,postbackParentMessageId:i,error:{status:1}}),t}Object(Ec.k)(o)&&(yield $i({payload:{chatMessage:o,conversationId:a,transientId:n},type:mc.I}))}catch(n){Object(Yr.b)(n)}}var Pc=n(1089);var Nc=()=>Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Object(Pc.a)()).default}));function*Dc(e){try{const t=(yield Nc()).makeTextMessage(e.payload);yield Vi(Ac,t),yield Vi(Mc,t)}catch(t){Object(Yr.b)(t)}}function*Lc(){try{yield Kr(mc.bb,Dc)}catch(e){Object(Yr.b)(e)}}var kc=n(220);const Uc=(e,t)=>{const n=Tc.a.getAttachment(Cc.a.getMessagePayload(e));return sc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},Bc=(e,t)=>{const n=Tc.a.getAttachment(Cc.a.getMessagePayload(e));return sc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},Gc={[kc.c.CARD]:Uc,[kc.c.CAROUSEL]:Uc,[kc.c.CO_BROWSE_INVITE]:Uc,[kc.c.PRODUCT_CARD]:Uc,[kc.c.PRODUCT_SHOWCASE_CARD]:Uc,[kc.c.INFO_CARD]:Uc,[kc.c.PRODUCT_BANNER]:Uc,[kc.c.PRODUCT_LIST]:Uc,[kc.c.FORM]:Bc,[kc.c.CONTACT_DETAILS_FORM]:Bc,[kc.c.SECURE_FORM]:Bc,[kc.c.APPOINTMENT]:(e,t)=>sc()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}}),[kc.c.SURVEY]:(e,t)=>sc()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}}),[kc.c.VIDEO_CHAT]:(e,t)=>{var n;return(null===(n=null===e||void 0===e?void 0:e.messagePayload)||void 0===n?void 0:n.attachment)?sc()(e,{messagePayload:{attachment:{currentState:{$merge:{state:t.state,createdTime:Date.now()}},previousStates:{$push:[e.messagePayload.attachment.currentState]}}}}):e},[kc.c.RICH_TEXT_CAROUSEL]:Uc,[kc.c.SURVEY_QUESTION]:(e,t)=>{const n=Tc.a.getAttachment(Cc.a.getMessagePayload(e));return sc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{response:t.response}:{}),{submitted:!0})}}})}},$c=(e,t)=>{var n,a;if(!e||!(null===t||void 0===t?void 0:t.messagePayload))return{};switch(null===(a=null===(n=e.messagePayload)||void 0===n?void 0:n.attachment)||void 0===a?void 0:a.type){case kc.c.CAROUSEL:case kc.c.CO_BROWSE_INVITE:case kc.c.PRODUCT_CARD:case kc.c.PRODUCT_SHOWCASE_CARD:case kc.c.INFO_CARD:case kc.c.PRODUCT_BANNER:case kc.c.PRODUCT_LIST:case kc.c.CARD:return{buttonId:t.messagePayload.attachment.buttonId};case kc.c.SURVEY:return{submitted:!t.messagePayload.attachment.reSubmittable,opened:!0};case kc.c.SECURE_FORM:case kc.c.FORM:case kc.c.CONTACT_DETAILS_FORM:return{filledForm:t.messagePayload.attachment.filledForm};case kc.c.APPOINTMENT:{const e=t.messagePayload.attachment;return{selectedDate:e.selectedDate,selectedSlot:e.selectedSlot}}case kc.c.SURVEY_QUESTION:return{response:t.messagePayload.attachment.response};default:return{}}};function*Fc(e){let{chatMessage:t,conversationId:n,params:a}=e;var o,i;try{const e=null===(i=null===(o=null===t||void 0===t?void 0:t.messagePayload)||void 0===o?void 0:o.attachment)||void 0===i?void 0:i.type;if(!e)return null;const r=Gc[e];if(r){const e=r(t,a);return yield $i({type:mc.K,payload:{chatMessage:e,conversationId:n}}),e}}catch(r){Object(Yr.b)(r)}return null}function*Hc(e){const{postback:{messageId:t},conversationId:n}=e.payload;let a,o;try{const i=yield Ki(Ie.c);o=Object(ht.k)(Object(ht.m)(i,n),t);const r=(yield Nc()).makeTemplatePostbackAttachmentMessage(e.payload);a=yield Vi(Fc,{chatMessage:o,conversationId:n,params:$c(o,r)}),r&&(yield Vi(Ac,r),yield Vi(Mc,r),e.promise.resolve())}catch(i){a&&(yield $i({type:mc.K,payload:{chatMessage:o,conversationId:n}})),e.promise.reject(),Object(Yr.b)(i)}}function*zc(){try{yield Kr(mc.ab,Hc)}catch(e){Object(Yr.b)(e)}}function*Vc(e){try{const t=(yield Nc()).makeQuickReplyPostbackAttachmentMessage(e.payload);t&&(yield Vi(Ac,t),yield Vi(Mc,t))}catch(t){Object(Yr.b)(t)}}function*Wc(){try{yield Kr(mc.T,Vc)}catch(e){Object(Yr.b)(e)}}var qc=n(286),Xc=n.n(qc),Kc=n(248),Yc=n(321),Zc=n(441),Qc=n(271);const Jc=e=>({userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:"",locale:"en",agentPersonaDetail:{name:"BRAND_DISPLAY_NAME",image:"BRAND_DISPLAY_IMAGE"}});function*es(e){try{const t=Io()(e,(e=>e.sender)),n=yield Vi(Zc.b,e),a=Io()(n,(e=>Qc.a.getId(e)));let o=[];dc()(t,(e=>{!a.includes(e)&&Object(Kc.c)(e)&&(o=[...o,Jc(e)])})),yield $i({type:Yc.h,payload:{users:[...n,...o]}})}catch(t){Object(Yr.b)(t)}}function*ts(e){try{const t=Xc()(e);if(0===t.length)return;const n=((e,t)=>{const n={};return Ya()(t,((t,a)=>{const o=a.sender;return n[o]||!!Object(b.g)(e,o)||(n[o]=o,t.push(a)),t}),[])})(yield Ki(Ie.h),t);if(0===n.length)return;yield Vi(es,n)}catch(t){Object(Yr.b)(t)}}function*ns(e){try{yield Vi(es,Xc()(e))}catch(t){Object(Yr.b)(t)}}const as="/co-browse/conversation",os=e=>{let{messageId:t,markCompletedSession:n}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Br.a.post(`${as}/${n?"completed":"cancelled"}?messageId=${t}`)).data}))},is=e=>{let{messageId:t,actionPayload:n}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Br.a.post(`${as}/push?messageId=${t}`,{type:"CO_BROWSE",payload:n})).data}))},rs=e=>{let{messageId:t,payload:n}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Br.a.post(`${as}/push/status?messageId=${t}`,n)).data}))},cs=e=>{let{messageId:t,otp:n,additionalInfo:a}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return rs({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:a}})}))},ss=e=>{let{messageId:t,reason:n}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return rs({messageId:t,payload:{status:"FAILED",reason:n}})}))},ls=e=>{let{messageId:t,payload:n}=e;return Br.a.post(`${as}/event?messageId=${t}`,n)},ds=e=>{let{messageId:t}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Br.a.post(`${as}/session/live?messageId=${t}`)).data}))};var us=n(411),bs=n(600),fs=n(887),ps=n(308);function*ys(e){try{const{messageId:t}=yield Ki(Ie.f);yield Vi(is,{messageId:t,actionPayload:e.payload})}catch(t){Object(Yr.b)(t)}}function*Os(e){const{messageId:t,conversationId:n,agentId:a,type:o}=yield Ki(Ie.f);try{const{otp:o,additionalInfo:i}=e.payload;yield Vi(cs,{messageId:t,otp:o,additionalInfo:i}),yield $i(Object(us.k)({state:{messageId:t,conversationId:n,agentId:a}}))}catch(i){try{yield $i(Object(us.f)({reason:fs.a.OTP_SEND_FAILED,type:o})),yield Vi(ss,{messageId:t,reason:fs.a.OTP_SEND_FAILED})}catch(r){Object(Yr.b)(i)}}}function*vs(e){try{const{messageId:t,reason:n,type:a}=e.payload;yield $i(Object(us.f)({reason:n,type:a})),yield Vi(ss,{messageId:t,reason:n})}catch(t){Object(Yr.b)(t)}}function*gs(e){let{messageId:t}=e;try{const[e,n]=yield Hi([Gi((e=>{let{type:n,payload:a}=e;return n===mc.I&&de()(a,"chatMessage.messagePayload.attachment.messageId")===t})),Gi((e=>{let{type:n,payload:a}=e;return n===mc.H&&de()(a,"postbackParentMessageId")===t})),Gi(bs.h),Gi(bs.i)]);e&&(yield $i(Object(us.s)())),n&&(yield $i(Object(us.f)({reason:fs.a.POSTBACK_SEND_FAILED,type:ps.a.REQUEST})))}catch(n){Object(Yr.b)(n)}}function*hs(e){try{const{messageId:t}=yield Ki(Ie.f);yield Vi(ls,{messageId:t,payload:e.payload})}catch(t){Object(Yr.b)(t)}}function*js(e){try{const{messageId:t,endedByAgent:n,markCompletedSession:a}=e.payload;if(n||!t)return;return void(yield Vi(os,{messageId:t,markCompletedSession:a}))}catch(t){Object(Yr.b)(t)}}function*ms(e){try{const{mode:t}=e.payload;yield $i(Object(us.b)(e.payload)),yield $i(Object(us.l)({type:t,payload:{status:"ACCEPT"}}))}catch(t){Object(Yr.b)(t)}}function*Is(e){try{const{settings:{skipUserPermissionForRemoteControl:t}={}}=e.payload;t&&(yield $i(Object(us.k)({state:{skipUserPermissionForRemoteControl:t}})))}catch(t){Object(Yr.b)(t)}}function*Cs(e){try{const{mode:t}=e.payload;yield $i(Object(us.l)({type:t,payload:{status:"REJECT"}}))}catch(t){Object(Yr.b)(t)}}function*Ts(e){try{const{mode:t,shouldNotifyAgent:n}=e.payload;n&&(yield $i(Object(us.l)({type:t,payload:{status:"STOP"}})))}catch(t){Object(Yr.b)(t)}}function*Es(e){const{messageId:t,conversationId:n,agentId:a,type:o}=e.payload.state;try{const[i]=yield Fi([Vi(ds,{messageId:t}),Vi(ts,{sender:a,conversationId:n})]);i?yield $i(Object(us.r)(e.payload)):yield $i(Object(us.f)({reason:fs.a.RESUME_SESSION_FAILED,type:o}))}catch(i){yield $i(Object(us.g)({messageId:t,reason:fs.a.RESUME_SESSION_FAILED,type:o})),Object(Yr.b)(i)}}function*xs(e){try{e.payload.type===ps.a.AGENT_PRESENT&&(yield $i(Object(us.k)({state:e.payload})))}catch(t){Object(Yr.b)(t)}}function*Ss(e){var t,n;try{const{conversationId:n,messageId:a,url:o}=e.payload,i=yield Ki(Ie.c),r=Object(ht.k)(Object(ht.m)(i,n),a);yield $i(Object(us.e)({messageId:a,conversationId:n,agentId:r.sender,agentPresentUrl:o,type:ps.a.AGENT_PRESENT})),yield Vi(Fc,{chatMessage:r,conversationId:n,params:{}}),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){null===(n=e.promise)||void 0===n||n.reject(),Object(Yr.b)(a)}}function*_s(){try{yield Fi([Kr(bs.p,Os),Kr(bs.q,vs),Kr(bs.h,js),Kr(bs.a,ms),Kr(bs.e,Cs),Kr(bs.c,Ts),Kr(bs.b,Is),Kr(bs.f,ys),Kr(bs.l,Es),Kr(bs.g,hs),Kr(bs.j,xs),Kr(bs.s,Ss)])}catch(e){Object(Yr.b)(e)}}var As=n(405);function*ws(e){const t=e?Xc()(e):As.a;if(0===t.length)return;const n=Cc.a.getConversationId(t[0]),a=Io()(t,(e=>({sender:Cc.a.getSender(e),conversationId:n})));yield Vi(ts,a)}var Rs=n(367),Ms=n.n(Rs),Ps=n(238),Ns=n.n(Ps),Ds=n(51),Ls=n.n(Ds),ks=n(703),Us=n(704),Bs=n(888),Gs=n(52),$s=n(488),Fs=n(432),Hs=n(889),zs=e=>{let{messageId:t,messagePayload:n,creationTime:a,conversationId:o,sender:i,clientMessageId:r,deleted:c}=e;if(n&&(!Tc.a.isEmpty(n)||c))return(new Cc.a).setId(t).setMessagePayload(n).setConversationId(o).setCreationTime(a||+new Date).setSender(i).setClientMessageId(r).setDeleted(c).build()},Vs=n(318);const Ws=(e,t)=>{const n=Qc.a.getId(t),a=Tc.a.getAttachment(Cc.a.getMessagePayload(e)),o=Object(Hs.a)(a,{user:t}),i=Ms()(ks.a.getFields(Us.a.getForm(a)),(e=>{const{id:t,validator:n}=e;return"EQUALITY"!==n&&pe()(o[t])}));return!Object(Kc.b)(n)&&i},qs=e=>({resolve:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.promise.resolve(Object.assign(Object.assign({},e),t))},reject:e.promise.reject}),Xs=(e,t,n,a)=>{let o;return o="string"===typeof e?(new Cc.a).setMessagePayload((new Tc.a).setMessageType($s.b).setMessageText(e).setMessageDisableManualResponse(!!a).build()).build():e,zs(Object.assign({messageId:n,conversationId:t,sender:Gs.b},o))},Ks=e=>{if(Ns()(e))return e;switch(Object(Vs.f)(e)?de()(e,"response.status",404):-1){case 401:case 404:return Fs.a.NOT_FOUND;case 406:return Fs.a.NOT_ACCEPTABLE;default:return Fs.a.UNEXPECTED_ERROR}},Ys=e=>{let{encryptedData:t,unencryptedData:n,publicKeyForEncryption:a,formFields:o}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){const e=Ya()(t,((e,t,n)=>(e[n]={eData:t,externallyEncrypted:!0},e)),{});if(!n)return e;const{dataEncrypter:i}=yield Object(Bs.a)();return Ya()(o,((e,t)=>{const o=t.fieldName,r=null===n||void 0===n?void 0:n[o];if(!Ls()(r)&&""!==r){const t=Ns()(r)?r:JSON.stringify(r);e[o]=i(t,a)}return e}),e)}))},Zs=e=>{let{values:t,publicKeyForEncryption:n,multiSubmitResponseUrl:a}=e;return Object(Ic.__awaiter)(void 0,void 0,void 0,(function*(){const{unencryptedData:e,encryptedData:a,originalData:o}=t;return{data:yield Ys({encryptedData:a,unencryptedData:pe()(a)&&pe()(e)?o.values:e,formFields:o.fields,publicKeyForEncryption:n})}}))};var Qs=n(427),Js=n(292),el=n(365);let tl={};function*nl(e){try{const n=e.payload.conversationId;if(tl[n]){for(;;){const[t,a]=yield Hi([Gi(mc.N),Gi(mc.O)]);if(de()(t||a,"payload.transientConversationId")===n){e.promise&&(t&&e.promise.resolve({conversationId:t.payload.conversationResponse.id,caseNumber:t.payload.conversationResponse.caseNumber}),a&&e.promise.reject(a.payload.error));break}}return}try{tl[n]=!0;const t=yield Ki(Ie.c),a=yield Ki(Ie.d),o=Ot()(a),i=Object(ht.m)(t,n),r=Object(ht.q)(t),c=Object(ht.h)(r,n),s=de()(Object(ht.g)(r,n),"assignToUser"),l=Object(ht.y)(i),d=Object(ht.f)(Object(ht.q)(t),n)||{},u=d.clickedOnPrompt,f=yield Vi(xc.p,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{chatMessages:Object(ht.l)(i).map((e=>({messagePayload:Cc.a.getMessagePayload(e),sender:Cc.a.getSender(e)})))}:void 0),{createCase:Object(ht.C)(Object(ht.q)(t),n),startedByContext:c}),d),e.payload.appContext),!u&&o?{creativeId:o.additional.creativeId,interceptId:o.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:s})),p=yield Ki(Ie.h),y=Object(b.b)(p),O=Object(b.d)(p);yield $i({payload:{transientConversationId:n,conversationResponse:f,botUserIds:y,userId:O},type:mc.N}),e.promise&&e.promise.resolve({conversationId:f.id,caseNumber:f.caseNumber})}catch(t){yield $i({type:mc.O,payload:{transientConversationId:e.payload.conversationId,error:Ks(t)}}),e.promise&&e.promise.reject(Ks(t)),Object(Yr.b)(t)}finally{delete tl[e.payload.conversationId]}}catch(n){}}function*al(e){try{const t=bc()(Xc()(ia.a.getDefaultMessages(j.a.getCustomizationConfig(e)))),n=bc()(t.map(((e,t)=>Xs(e,Gs.e,`${Gs.d}${t}`))));if(n.length){const e=yield Ki(Ie.h),t=n.map((t=>{const n=Object(Qs.e)(e,Cc.a.getSender(t));return $i(Object(Js.g)(t,n))}));yield Fi(t)}return n}catch(t){Object(Yr.b)(t)}}function*ol(e,t){try{const n=ia.a.getContactDetailsMessage(j.a.getCustomizationConfig(e)),a=[];if(n&&Ws(n,el.a.getChatUser(t))){const e=Xs(n,Gs.e,Gs.c),t=yield Ki(Ie.h),o=Object(Qs.e)(t,Cc.a.getSender(e));a.push(e),yield $i(Object(Js.g)(e,o))}return a}catch(n){Object(Yr.b)(n)}}function*il(e,t){try{const n=yield Vi(al,e),a=yield Vi(ol,e,t);return[...n,...a]}catch(n){Object(Yr.b)(n)}}function rl(){tl={}}function*cl(){try{const t=de()(Object(b.c)(yield Ki(Ie.h)),"userId");for(;;)try{const e=yield Ki(Ie.c),n=Object(ht.m)(e,Gs.e),a=Object(ht.k)(n,Gs.c);if(!a)break;const{payload:{users:o}}=yield Gi(Yc.h),i=o.find((e=>e.userId===t));i&&!Ws(a,i)&&(yield $i(Object(Js.h)(Gs.e,Gs.c)))}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*sl(){try{yield Kr(Gr.c,rl)}catch(e){Object(Yr.b)(e)}}function*ll(){try{yield Kr(mc.M,nl)}catch(e){Object(Yr.b)(e)}}function*dl(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield Gi(Gr.a);yield Vi(il,e,null!==t&&void 0!==t?t:ro.a),yield Fi([Wi(cl),Wi(ll),Wi(sl)])}catch(e){Object(Yr.b)(e)}}var ul=n(386);function*bl(e){try{const{payload:t}=e,{actionParams:n}=t;n.actionType===ul.a&&(yield $i(Object(Js.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}catch(t){Object(Yr.b)(t)}}function*fl(e){try{const{payload:t}=e,{actionParams:n}=t;n.actionType===ul.b&&(yield $i(Object(Js.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}catch(t){Object(Yr.b)(t)}}function*pl(e){try{yield Fi([Vi(bl,e),Vi(fl,e)])}catch(t){Object(Yr.b)(t)}}function*yl(e){try{const{payload:t}=e,{actionParams:n}=t;let a=St.a;new Promise(((e,t)=>{const n=setTimeout((()=>t(new Error("Timeout"))),6e4);a=(a,o)=>(clearTimeout(n),o?t(o):e(a))})).then((t=>{const n=sc()(e,{payload:{actionParams:{values:{$merge:t}}}});e.promise.resolve(n)})).catch((t=>e.promise.reject(t)));yield $i(Object(Js.k)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId},callback:a}))}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*Ol(e){const{messageId:t,conversationId:n}=e.payload,a=yield Ki(Ie.c),o=Object(ht.k)(Object(ht.m)(a,n),t);let i;try{i=yield Vi(Fc,{chatMessage:o,conversationId:n,params:{opened:!0}}),yield Vi(xc.s,t)}catch(r){i&&(yield $i({type:mc.K,payload:{chatMessage:o,conversationId:n}})),Object(Yr.b)(r)}}function*vl(e){try{const{attachment:t}=e.payload;return void(de()(t,"opened")||(yield Vi(Ol,e)))}catch(t){Object(Yr.b)(t)}}function*gl(){try{yield Kr(mc.X,vl)}catch(e){Object(Yr.b)(e)}}var hl=n(325),jl=n(524),ml=n(352),Il=n(307),Cl=n(706),Tl=n(437),El=n(816),xl=n(484),Sl=n(1064),_l=n(306);function Al(e){return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return Br.a.post("/livechat/event/publish",Object.assign({type:e.type},e.payload))}))}var wl=n(480);const Rl=e=>Object(_l.e)(Object(Ie.e)(e));function Ml(e){return e===ul.a||e===ul.b}function Pl(e){return e===ul.c}function Nl(e){return e===jl.a.OPEN_URL}function Dl(e){return e===jl.a.OPEN_AGENT_PRESENT_URL}function Ll(e){return e===jl.a.DIAL}function kl(e){return e===jl.a.FETCH_APPOINTMENT_TIME_SLOTS}function Ul(e){return e===jl.a.RESERVE_APPOINTMENT_TIME_SLOT}function Bl(e){return e===jl.a.START_VIDEO_CALL}function Gl(e){return e===jl.a.START_AUDIO_CALL}function $l(e){return e===jl.a.REJOIN_CALL}function Fl(e){return e===jl.a.ACCOUNT_LINK}function*Hl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{if(!(yield Ki(Rl)))for(;;){const{payload:e}=yield Gi(Zr.d);if(e.status===wl.a.CONNECTED)break}return yield Vi(e,t)}catch(a){if(Object(Vs.c)(a)&&n>1)return yield Vi(Hl,e,t,n-1);throw a}}function zl(e,t){return zs({messageId:e.id,messagePayload:Cc.a.getMessagePayload(e),conversationId:t,sender:Cc.a.getSender(e),creationTime:Cc.a.getCreationTime(e),clientMessageId:Cc.a.getClientMessageId(e),deleted:Cc.a.getDeleted(e)})}function*Vl(e){try{const{payload:t}=e,{conversationId:n,cursor:a}=t,o=yield Vi(xc.g,n,{size:t.size,cursor:a}),i=bc()(o.results.map((e=>zl(e,n))));yield Vi(ws,i),yield $i({payload:{conversationMessagesResponse:Object.assign(Object.assign({},o),{results:i}),conversationId:n,cursor:a},type:mc.m}),e.promise&&e.promise.resolve()}catch(t){e.promise&&e.promise.reject(),yield $i({type:mc.n,payload:{conversationId:e.payload.conversationId}}),Object(Yr.b)(t)}}function*Wl(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:o}=t,i=o?yield Vi(xc.c,n):yield Vi(xc.d,a,n);yield $i(Object(Js.a)({conversationId:a,includeAll:o,deleted:!0,surveyUrl:null===i||void 0===i?void 0:i.surveyUrl}))}catch(t){Object(Yr.b)(t)}}function*ql(){try{yield Kr(mc.i,Wl)}catch(e){Object(Yr.b)(e)}}function*Xl(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:o}=t,i=o?yield Vi(xc.a,n):yield Vi(xc.b,a,n);yield $i(Object(Js.a)({conversationId:a,includeAll:o,closed:!0,surveyUrl:null===i||void 0===i?void 0:i.surveyUrl}))}catch(t){Object(Yr.b)(t)}}function*Kl(){try{yield Kr(mc.h,Xl)}catch(e){Object(Yr.b)(e)}}function*Yl(){try{yield Kr(mc.l,Vl)}catch(e){Object(Yr.b)(e)}}function*Zl(e){try{const{query:t,conversationId:n,faqAttachment:a,locale:o}=e.payload,i=yield Vi(xc.k,n,t,a,o);e.promise&&e.promise.resolve(i)}catch(t){e.promise&&e.promise.reject(),Object(Yr.b)(t)}}function*Ql(){try{yield Kr(mc.B,Zl)}catch(e){Object(Yr.b)(e)}}function*Jl(e){try{const t=Ya()(e,((e,t)=>{const n=Il.a.getParticipants(t);return dc()(n,(n=>{e.push({sender:n,conversationId:t.id})})),e}),[]);yield Vi(ts,t)}catch(t){Object(Yr.b)(t)}}function*ed(){try{for(;;)try{const e=yield Gi(mc.f),t=yield Vi(xc.e,e.payload);yield Vi(Jl,t.results);const n=yield Ki(Ie.h),a=Object(b.b)(n),o=Object(b.d)(n);yield $i({payload:{conversationResponse:t,botUserIds:a,chatUserId:o},type:mc.g})}catch(e){Object(Yr.b)(e)}}catch(t){Object(Yr.b)(t)}}function*td(e){try{const t=e.payload,n=yield Vi(xc.n,t);e.promise.resolve(n)}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*nd(){try{yield Kr(mc.D,td)}catch(e){Object(Yr.b)(e)}}const ad={VIDEO_CHAT:Te.c.VIDEO,AUDIO_CHAT:Te.c.AUDIO};function*od(e){let{conversationResponse:t,isPhone:n}=e;try{if(t&&!jc()(n)&&t.deflectionParams){const{id:e,deflectionParams:a}=t,{initiateCall:o,type:i}=null!==a&&void 0!==a?a:ro.a;o&&(yield $i(Object(hl.i)({conversationId:e,isPhone:n,type:ad[i],autoInitiateCall:!0})))}}catch(a){Object(Yr.b)(a)}}function*id(){try{for(;;){let n,a,o;const i=yield Gi(mc.s);a=i.payload.caseId,n=i.payload.conversationId,o=i.payload.context;const{isPhone:r}=i.payload,c=yield Ki(Ie.h),s=Object(b.b)(c),l=Object(b.d)(c);try{const e=yield Vi(xc.h,i.payload.caseId);yield $i({payload:{caseId:a,conversationResponse:e,botUserIds:s,chatUserId:l},type:mc.t}),yield Wi(od,{conversationResponse:e,isPhone:r})}catch(e){try{if(Object(Vs.a)(e))throw e;{const e=yield Vi(xc.p,Object.assign({createCase:!0,caseId:a},o));yield $i({payload:{caseId:a,conversationResponse:e,botUserIds:s,chatUserId:l,loaded:!0},type:mc.t}),yield Wi(od,{conversationResponse:e,isPhone:r})}}catch(t){yield $i({payload:{conversationId:n,error:Ks(t)},type:mc.u})}}}}catch(n){Object(Yr.b)(n)}}function*rd(){try{for(;;){let t,n,a;try{const e=yield Gi(mc.v);t=e.payload.conversationId,n=e.payload.externalCaseId;const o=e.payload.isPhone;t?a=yield Vi(xc.j,t):n&&(a=yield Vi(xc.i,n));const i=yield Ki(Ie.h),r=Object(b.b)(i),c=Object(b.d)(i);yield $i({payload:{conversationResponse:a,botUserIds:r,chatUserId:c},type:mc.w}),yield Wi(od,{conversationResponse:a,isPhone:o})}catch(e){yield $i({payload:Object.assign(Object.assign(Object.assign({},t?{conversationId:t}:{}),n?{externalCaseId:n}:{}),{error:Ks(e)}),type:mc.x}),Object(Yr.b)(e)}}}catch(t){Object(Yr.b)(t)}}function*cd(e){try{for(;;){const n=yield Ki(Rl);try{if(n){const t=e.payload,{conversationId:n}=t,a=zl(yield Vi(xc.l,n,t.messageId),n);return yield Vi(ws,a),a}yield Gi(Zr.d)}catch(t){if(Object(Yr.b)(t),!Object(Vs.c)(t))break}}return null}catch(n){return Object(Yr.b)(n),null}}function*sd(e){try{const t=e.payload;yield $i(Object(Js.l)({type:t.actionType,payload:Xa()(e.payload,["actionType"])}))}catch(t){Object(Yr.b)(t)}}function*ld(e){try{const t=yield Vi(cd,e);t&&(yield $i({type:mc.K,payload:{chatMessage:t,conversationId:Cc.a.getConversationId(t)}}))}catch(t){Object(Yr.b)(t)}}function*dd(e){try{const t=yield Ki(Ie.c),n=Object(ht.q)(t),a=Object(b.c)(yield Ki(Ie.h)),{sender:o,deleted:i,closed:r,caseNumber:c,conversationId:s,requestClientId:l}=e.payload,d=Object(ht.g)(n,s);(o!==a.userId||l&&l!==El.a.get()||c&&d&&!d.caseNumber&&!i&&!r)&&(yield $i(Object(Js.a)(e.payload)),c&&d&&!d.caseNumber&&(yield $i(Object(u.c)({action:ct.a.NEW_CONVERSATION_CREATED,conversationId:s,additional:{caseNumber:c}}))))}catch(t){Object(Yr.b)(t)}}function*ud(e){try{const{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}=e.payload;yield $i({type:mc.d,payload:{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}})}catch(t){Object(Yr.b)(t)}}function*bd(e){try{const{payload:t}=e,{actionParams:n}=t;Ml(n.actionType)&&(yield Vi(pl,e),e.promise.resolve(e))}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*fd(e){try{const{payload:t}=e,{actionParams:n}=t;Pl(n.actionType)&&(yield Vi(yl,e))}catch(t){Object(Yr.b)(t)}}function*pd(e){try{const{payload:t}=e,{actionParams:n,conversationId:a}=t;if(Fl(n.actionType)){const t=Object(xl.a)(n.actionId,n.attachment);yield $i(Object(u.a)({ssoId:t.accountLinkUrl,conversationId:a,messageId:n.messageId})(qs(e)))}}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*yd(e){try{const{actionParams:{attachment:t,values:n}}=e.payload,a=t,o=yield Vi(Zs,{values:n,publicKeyForEncryption:a.publicKeyForEncryption,multiSubmitResponseUrl:a.multiSubmitResponseUrl});return{fieldNameVsToken:yield Vi(xc.v,a,o),originalData:n.originalData}}catch(t){return Object(Yr.b)(t),null}}function*Od(e){try{const{actionParams:{messageId:t,actionType:n,values:a},conversationId:o}=e.payload;if(n===jl.a.ACCEPT_CO_BROWSE){const e=yield Ki((e=>Object(ht.k)(Object(ht.m)(Object(Ie.c)(e),o),t))),n=Cc.a.getSender(e);yield $i(Object(us.e)({messageId:t,conversationId:o,agentId:n,type:ps.a.REQUEST})),yield qi(gs,{messageId:t})}return a}catch(t){return Object(Yr.b)(t),null}}function*vd(e){try{const{actionParams:{attachment:t,actionId:n,values:a,messageId:o},conversationId:i}=e.payload,r=de()(Object(xl.a)(n,t),"surveyUrl","");yield $i(Object(Js.e)({surveyUrl:r,conversationId:i})),yield $i({type:mc.X,payload:{messageId:o,conversationId:i,attachment:t}});const[c]=yield Hi([Gi(mc.Y),Gi(mc.V),Gi(mc.Z)]);return c?a:null}catch(t){return Object(Yr.b)(t),null}}function*gd(e){try{const{actionParams:{actionType:t,values:n}}=e.payload;return function(e){return e===jl.a.SECURE_FORM_POST_BACK}(t)?yield Vi(yd,e):function(e){return e===jl.a.ACCEPT_CO_BROWSE||e===jl.a.DENY_CO_BROWSE}(t)?yield Vi(Od,e):function(e){return e===jl.a.SURVEY_POST_BACK}(t)?yield Vi(vd,e):n}catch(t){return Object(Yr.b)(t),null}}function*hd(e){try{const{payload:a}=e,{actionParams:o,appContext:i}=a;if(!Ml(t=o.actionType)&&!Nl(t)&&!Dl(t)&&!Ll(t)&&!kl(t)&&!Ul(t)&&!Gl(t)&&!Bl(t)&&!$l(t)&&!Fl(t)&&!Pl(t))try{const t=yield Vi(gd,e);gc()(t)?e.promise&&e.promise.resolve(e):yield $i(Object(Js.p)({conversationId:a.conversationId,sender:a.sender,postback:{attachment:o.attachment,values:t,additional:o.additional,appContext:i,messageId:o.messageId,postbackId:o.actionId,postbackType:o.actionType},inReplyToChatMessageId:a.inReplyToChatMessageId})(qs(e)))}catch(n){e.promise.reject(),Object(T.a)(n)}}catch(a){e.promise.reject(),Object(Yr.b)(a)}var t}function*jd(e){try{const{actionParams:{messageId:t,actionId:n,actionType:a,attachment:o},conversationId:i}=e.payload;Dl(a)&&(yield $i(Object(us.j)({conversationId:i,messageId:t,buttonId:n,attachment:o})(qs(e))))}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*md(e){try{const{actionParams:{attachment:t,actionId:n,actionType:a}}=e.payload;Nl(a)&&(yield $i(Object(Js.f)({attachment:t,actionId:n})(qs(e))))}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*Id(e){try{const{payload:t}=e,{actionParams:n}=t;Ll(n.actionType)&&(yield $i(Object(Js.d)({attachment:n.attachment,actionId:n.actionId})(qs(e))))}catch(t){e.promise.reject(),Object(Yr.b)(t)}}function*Cd(e){var t,n;try{const{payload:a}=e,{actionParams:{actionId:o,actionType:i,attachment:r,messageId:c,values:s},conversationId:l,appContext:d,applicationConfig:u}=a,b=null===(t=null===u||void 0===u?void 0:u.callConfiguration)||void 0===t?void 0:t.allUserPermissions;if($l(i)){s.participantPermissions||Object(Yr.b)(`Participant permissions (${s.participantPermissions}) unset`),s.participantInfos||Object(Yr.b)("Participant infos is unset");const t=s.audioOnly?Te.c.AUDIO:Te.c.VIDEO;yield $i(Object(hl.p)({conversationId:l,isPhone:d.isPhone,type:t,isIncomingCall:s.isIncomingCall,videoConversationId:s.videoChatConversationId,participantPermissions:null!==(n=s.participantPermissions)&&void 0!==n?n:Object(Tl.b)(t,b),participantInfos:s.participantInfos,prevState:Object(Cl.a)(s.currentState,s.isIncomingCall)})),e.promise&&e.promise.resolve(e)}else if(Bl(i)||Gl(i)){const t=yield Ki(Ie.b);if(Object(Ce.a)(t))return void(e.promise&&e.promise.reject());const n=Bl(i)?Te.c.VIDEO:Te.c.AUDIO,a=de()(Object(xl.a)(o,r),"title","");let s={};o&&(s={sourceButtonId:o,messageId:c,messageText:a}),yield $i(Object(hl.i)(Object.assign({conversationId:l,isPhone:d.isPhone,type:n},s))),e.promise&&e.promise.resolve(e)}}catch(a){e.promise.reject(),Object(Yr.b)(a)}}function*Td(e){try{const{payload:n}=e,{actionParams:a,conversationId:o,appContext:i}=n,r=kl(a.actionType),c=Ul(a.actionType);let s,l;if(r||c)try{const t=yield Ki(Ie.c);let n;s=Object(ht.k)(Object(ht.m)(t,o),a.messageId),r&&(yield $i({type:mc.K,payload:{chatMessage:sc()(s,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:o}}),l=yield Vi(xc.f,{selectedDate:a.values.selectedDate,slotDefinitionId:a.attachment.slotDefinitionConfigId,timeZone:i.timeZone,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),yield $i({type:mc.K,payload:{chatMessage:sc()(s,{messagePayload:{attachment:{$merge:{slots:l}}}}),conversationId:o}})),c&&(l=yield Vi(xc.t,{selectedDate:a.values.selectedDate,selectedSlot:a.values.selectedSlot,timeZone:i.timeZone,slotDefinitionId:a.attachment.slotDefinitionConfigId,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),n=l.reservationId,n||(yield $i({type:mc.K,payload:{chatMessage:sc()(s,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},l.slots?{slots:l.slots}:{}),l.availableDates?{availableDates:l.availableDates}:{})}}}),conversationId:o}}))),e.promise.resolve({actionType:a.actionType,response:{reservationId:n,selectedSlot:a.values.selectedSlot,selectedDate:a.values.selectedDate,visibleSlots:a.values.visibleSlots}})}catch(t){Object(Yr.b)(t),e.promise.reject({actionType:a.actionType,response:{error:l}})}}catch(n){e.promise.reject(),Object(Yr.b)(n)}}function*Ed(e){try{yield Fi([Vi(bd,e),Vi(fd,e),Vi(hd,e),Vi(md,e),Vi(jd,e),Vi(Id,e),Vi(pd,e),Vi(Td,e),Vi(Cd,e)])}catch(t){Object(Yr.b)(t)}}function*xd(e,t){try{const n=sc()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Xa()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),a=new Promise(((e,t)=>{n.promise={resolve:e,reject:t}}));return yield Vi(Ed,n),yield a}catch(n){throw Object(Yr.b)(n),n}}function*Sd(e){try{const t=e.payload.actionParams.actionTypes;let n=e;for(let e=0;e<pc()(t);e+=1)n=yield Vi(xd,n,t[e]);e.promise.resolve(n)}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*_d(){try{yield Kr(mc.c,Sd)}catch(e){Object(Yr.b)(e)}}function*Ad(e){try{let n,a;try{const{disclaimerStatus:t}=e.payload,o=yield Ki(Ie.c),i=Object(ht.q)(o);n=e.payload.conversationId,a=de()(Object(ht.i)(i,n),"disclaimerStatus"),yield $i({type:mc.r,payload:{conversationId:n,disclaimerStatus:t}}),yield Vi(xc.x,n,t),e.promise.resolve()}catch(t){e.promise.reject(),yield $i({type:mc.r,payload:{conversationId:n,disclaimerStatus:a}}),Object(Yr.b)(t)}}catch(n){Object(Yr.b)(n)}}function*wd(){try{yield Kr(mc.q,Ad)}catch(e){Object(Yr.b)(e)}}const Rd={field:"closed",values:[!0],filterType:ml.a.NIN};function*Md(e){try{const{context:t,filters:n}=e.payload,a=yield Ki(Ie.c),o=Object(ht.w)(a),i=n||Rd,r=Oc()(o.ids,(e=>{let t=!1;if(pe()(i))return!0;Sl.a.createFilterAction(i,{getFilterBuilder:Sl.a.createFilterAction}).matches(o.byId[e],{logOnFailure:!0})&&(t=!0);return t}));r?(yield Vi(Hl,xc.w,{context:t,conversationId:r,payload:e.payload}),e.promise.resolve({conversationId:r})):e.promise.reject(Fs.a.NOT_FOUND)}catch(t){e.promise.reject(Ks(t)),Object(Yr.b)(t)}}function*Pd(e){try{yield Gi(mc.g),yield Vi(Md,e)}catch(t){e.promise.reject(Ks(t)),Object(Yr.b)(t)}}function*Nd(e){try{const{context:t,conversationId:n,includeDeleted:a}=e.payload;if(n)return yield Vi(Hl,xc.w,{context:t,conversationId:n,payload:e.payload}),void e.promise.resolve({conversationId:n});if(a)return yield Vi(Hl,xc.y,{context:t,updateLatest:a,payload:e.payload}),void e.promise.resolve({conversationId:n});const o=yield Ki(Ie.c),i=Object(ht.q)(o);if(Object(ht.b)(i))return void(yield Vi(Md,e));yield Wi(Pd,e)}catch(t){e.promise.reject(Ks(t)),Object(Yr.b)(t)}}function*Dd(){try{yield Kr(mc.k,Nd)}catch(e){Object(Yr.b)(e)}}function*Ld(e){try{const{lastReadMessageId:t}=e.payload;yield Vi(Al,{type:"MESSAGE_READ",payload:{messageId:t}})}catch(t){Object(Yr.b)(t)}}function*kd(){try{yield Kr(mc.Q,Ld)}catch(e){Object(Yr.b)(e)}}function*Ud(e){try{const e=yield Vi(xc.m);yield $i({payload:{openConversationCount:e},type:mc.cb})}catch(t){Object(Yr.b)(t)}}function*Bd(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Wi.apply(void 0,[Xr,e,t].concat(a))}(mc.C,Ud)}catch(e){Object(Yr.b)(e)}}function*Gd(){try{yield Fi([Wi(ed),Wi(nd),Wi(rd),Wi(Ql),Wi(dl),Wi(Yl),Wi(ql),Wi(Kl),Wi(Lc),Wi(zc),Wi(Wc),Wi(_d),Wi(Dd),Wi(id),Wi(wd),Wi(kd),Wi(gl),Wi(Bd)])}catch(e){Object(Yr.b)(e)}}const $d={},Fd="START_TYPING",Hd="STOP_TYPING";function*zd(e,t){try{yield Vi(Al,{type:e,payload:{conversationId:t}})}catch(n){Object(Yr.b)(n)}}function*Vd(e,t){for(;;)try{yield Wi(zd,Fd,e),yield Zi(25e3),yield Gi(t)}catch(n){Object(Yr.b)(n)}}function*Wd(e,t){let n,a;try{for(n=Or(Si.dropping(1)),a=yield Wi(Vd,e,n);;){const e=yield Gi(t);if(e.type!==mc.db)break;n.put(e)}}catch(o){Object(Yr.b)(o)}finally{yield Wi(zd,Hd,e),n&&n.close(),a&&a.cancel()}}function*qd(e,t){for(;;)try{let n;if(n=yield Gi(t),n.type!==mc.db)continue;yield Vi(Wd,e,t)}catch(n){Object(Yr.b)(n)}}function*Xd(){try{for(;;)try{const e=yield Hi([Gi(mc.db),Gi(mc.eb)]),t=bc()(e)[0],{payload:{conversationId:n}}=t;let a=$d[n];a||(a=Or(Si.sliding(1)),$d[n]=a,yield Wi(qd,n,a)),a.put(t)}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*Kd(){try{yield Wi(Xd)}catch(e){Object(Yr.b)(e)}}var Yd=n(336),Zd=n.n(Yd),Qd=n(279),Jd=n.n(Qd),eu=n(383),tu=n.n(eu);const nu={};function*au(){throw yield Zi(3e4),new Error("")}function*ou(e,t,n,a){let o;try{for(yield $i({type:mc.a,payload:{conversationId:t,userId:n,actionTime:a}}),o=yield Wi(au);;){const a=yield Gi(e);if(a.type===Qr.i)o.isCancelled()||(yield Xi(o)),o=yield Wi(au),yield $i({type:mc.a,payload:{conversationId:t,userId:n,actionTime:a.payload.actionTime}});else{const e=yield Ki(Ie.c),o=Object(ht.m)(e,t),i=Object(ht.u)(o,n);if(i&&Cc.a.getCreationTime(i)<a.payload.actionTime)break}}}catch(i){Object(Yr.b)(i)}finally{yield $i({type:mc.b,payload:{conversationId:t,userId:n}}),o&&!o.isCancelled()&&(yield Xi(o))}}function*iu(e,t,n){for(;;)try{let a;if(a=yield Gi(e),a.type!==Qr.i)continue;yield Vi(ou,e,t,n,a.payload.actionTime)}catch(a){}}function*ru(e){try{const{payload:{conversationId:t,sender:n}}=e,a=yield Ki(Ie.h),o=Ot()(Object(Qs.e)(a,n)),i=function(e,t){return`${e}_${t}`}(t,o);let r=nu[i];r||(r=Or(Si.sliding(1)),nu[i]=r,yield Wi(iu,r,t,o)),r.put(e)}catch(t){Object(Yr.b)(t)}}function*cu(e){try{yield Fi(e.map((e=>Vi(ru,e))))}catch(t){Object(Yr.b)(t)}}function*su(e){try{yield Fi(e.map((e=>Vi(ru,e))))}catch(t){Object(Yr.b)(t)}}const lu=["AGENT_ASSIGNED","AGENT_UNASSIGNED","AGENT_ASSIGNMENT_CHANGED","WORK_QUEUE_ASSIGNED"];function*du(e,t,n){try{if((a=e)&&lu.includes(a.type)){const{newAgentId:a,oldAgentId:o,queueId:i}=e,r=[],c=[];o&&(r.push({conversationId:t,sender:o}),c.push(o)),a&&(r.push({conversationId:t,sender:a}),c.push(a)),yield Vi(ts,r),yield $i(Object(Js.a)({conversationId:t,agentAssigned:!!a,participants:c,workQueueAssigned:!!i}));const s=yield Ki((e=>a?Object(b.g)(Object(Ie.h)(e),a):void 0)),l={currentlyAssignedUser:s,previouslyAssignedUser:yield Ki((e=>o?Object(b.g)(Object(Ie.h)(e),o):void 0)),assignmentTime:n};a&&(yield $i(Object(u.c)({conversationId:t,additional:l,action:ct.a.AGENT_ASSIGNED})))}}catch(o){Object(Yr.b)(o)}var a}function*uu(e){try{const{conversationId:t,messagePayload:n,creationTime:a}=e,o=n.events;yield Fi(o.map((e=>Vi(du,e,t,a))))}catch(t){Object(Yr.b)(t)}}function*bu(e){try{const t=e.data;Object(Ec.f)(t)&&(yield Fi([Vi(uu,t)]))}catch(t){Object(Yr.b)(t)}}const fu=(()=>{const e=new Set;return{add:t=>e.add(t),has:t=>e.has(t),delete:t=>e.delete(t),clear:()=>e.clear()}})(),pu=(()=>{let e=[];return{set:t=>{e=t},get:()=>e,push:t=>{e=[...e,...Xc()(t)]},clear:()=>{e=[]}}})();function yu(e){return e.type===Qr.r}function Ou(e){return e.type===Qr.i}function vu(e){return e.type===Qr.j}function*gu(e){try{const{data:t}=e;if(t){yield Vi(bu,e);const n=yield Ki(Ie.h),a=Object(Qs.e)(n,Cc.a.getSender(t));yield $i(Object(Js.g)(t,a))}}catch(t){Object(Yr.b)(t)}}function*hu(e){try{const t=e.filter(yu);yield Fi(t.map((e=>Vi(gu,e))));const n=t.reduce(((e,t)=>{const{data:n}=t;return n&&e.push(Cc.a.getId(n)),e}),[]);pe()(n)||(yield Vi(xc.r,n))}catch(t){Object(Yr.b)(t)}}function*ju(e){try{const t=e.filter(Ou);if(!t.length)return;yield Vi(cu,t)}catch(t){Object(Yr.b)(t)}}function*mu(e){try{const t=e.filter(vu);if(!t.length)return;yield Vi(su,t)}catch(t){Object(Yr.b)(t)}}function*Iu(e){try{yield Fi([Vi(hu,e),Vi(ju,e),Vi(mu,e)])}catch(t){Object(Yr.b)(t)}}function*Cu(e){try{const{id:t,data:n}=e;if(fu.add(t),dc()(pu.get(),(e=>{if(e.id===t)return e.data=n,!1})),t===de()(Ot()(pu.get()),"id")){const{resolvedEvents:e,unresolvedEvents:t}=Ya()(pu.get(),((e,t)=>fu.has(t.id)&&pe()(e.unresolvedEvents)?(fu.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[...e.resolvedEvents,t]})):Object.assign(Object.assign({},e),{unresolvedEvents:[...e.unresolvedEvents,t]})),{resolvedEvents:[],unresolvedEvents:[]});pu.set(t),yield Wi(Iu,e)}}catch(t){Object(Yr.b)(t)}}function*Tu(e){try{if(yu(e)){const t=yield Vi(cd,e);yield Vi(Cu,{id:e.id,data:t})}}catch(t){Object(Yr.b)(t)}}function*Eu(e){try{if(Ou(e)){const t=tu()(e.payload,["conversationId","sender"]);yield Vi(ts,t),yield Vi(Cu,{id:e.id,data:{}})}}catch(t){Object(Yr.b)(t)}}function*xu(e){try{vu(e)&&(yield Vi(Cu,{id:e.id,data:{}}))}catch(t){Object(Yr.b)(t)}}function*Su(e){try{yield Fi([Vi(Tu,e),Vi(Eu,e),Vi(xu,e)])}catch(t){Object(Yr.b)(t)}}function*_u(e){try{pu.push(e),yield Fi(e.map((e=>Wi(Su,e))))}catch(t){Object(Yr.b)(t)}}var Au=n(797),wu=n.n(Au);function Ru(e){return e.type===Qr.q}function Mu(e){return e.type===Qr.h}function Pu(e){return e.type===Qr.k}function Nu(e){return e.type===Qr.o}function Du(e){return e.type===Qr.l}function*Lu(e){try{yield Fi(e.filter(Nu).map((e=>Vi(sd,e))))}catch(t){Object(Yr.b)(t)}}function*ku(e){try{yield Fi(e.filter(Ru).map((e=>Vi(ld,e))))}catch(t){Object(Yr.b)(t)}}function*Uu(e){try{yield Fi(wu()(e.filter(Pu).map((e=>[Vi(ns,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),$i(Object(u.c)({conversationId:e.payload.conversationId,action:ct.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]))))}catch(t){Object(Yr.b)(t)}}function*Bu(e){try{yield Fi(e.filter(Du).map((e=>Vi(dd,e))))}catch(t){Object(Yr.b)(t)}}function*Gu(e){try{yield Fi(e.filter(Mu).map((e=>Vi(ud,e))))}catch(t){Object(Yr.b)(t)}}function*$u(e){try{yield Fi([Vi(Lu,e),Vi(ku,e),Vi(Uu,e),Vi(Bu,e),Vi(Gu,e)])}catch(t){Object(Yr.b)(t)}}const Fu=[Qr.r,Qr.i,Qr.j];function*Hu(e){try{const{events:t}=e.payload;let n=[],a=[];dc()(t,(e=>{Zd()(Fu,e.type)?n=[...n,Object.assign(Object.assign({},e),{id:Jd()()})]:a=[...a,e]})),yield Vi(_u,n),yield Vi($u,a)}catch(t){Object(Yr.b)(t)}}function*zu(){try{yield Kr(Zr.j,Hu)}catch(e){Object(Yr.b)(e)}}function*Vu(){try{yield Gi(Gr.c),fu.clear(),pu.clear()}catch(e){Object(Yr.b)(e)}}function*Wu(){try{yield Fi([Wi(zu),Wi(Vu)])}catch(e){Object(Yr.b)(e)}}var qu=n(324),Xu=n(323);const Ku=e=>{const t=j.a.getNoDisplayConfigFilter(e);return!pe()(t)&&Object(Xu.d)(t,qu.a.IS_CONVERSATION_OPEN)};function*Yu(e){try{const t=yield Ki(Ie.c),n=Object(ht.q)(t);if(!Object(ht.b)(n))return;yield $i(Object(Js.b)({shouldFetchNumberOfOpenConversation:Ku(e.applicationConfig),size:n.ids.length}))}catch(t){Object(Yr.b)(t)}}function*Zu(){try{const e=yield Ki(Ie.c),t=Object(ht.q)(e),n=Object(ht.o)(e),a=Ya()(n,((e,n,a)=>{const o=n.messages;if(!a.startsWith(Gs.e)&&Object(ht.a)(o)&&!Object(ht.A)(t,a)){const t=Object(Js.c)(a,{size:Object(ht.l)(o).length})();e.push($i(t))}return e}),[]);a.length&&(yield Fi(a))}catch(e){Object(Yr.b)(e)}}function*Qu(e){yield Fi([Wi(Yu,e),Wi(Zu)])}function*Ju(){const{payload:{applicationConfig:e}}=yield Gi(Gr.a);yield Kr(Zr.k,Qu,{applicationConfig:e})}function*eb(){try{yield Fi([Wi(Gd),Wi(Kd),Wi(Wu),Wi(Ju)])}catch(e){Object(Yr.b)(e)}}function*tb(e){try{const t=e.payload,n=Object(b.c)(yield Ki(Ie.h));yield Vi(Zc.e,Object.assign(Object.assign({},n),{customContext:t})),yield $i(Object(u.c)({action:ct.a.USER_PROFILE_UPDATED}))}catch(t){Object(Yr.b)(t)}}function*nb(){try{yield Kr(Yc.g,tb)}catch(e){Object(Yr.b)(e)}}function*ab(e){try{const t=e.payload,n=yield Vi(Zc.d,t);e.promise.resolve(n);const a=n.results;yield $i({type:Yc.h,payload:{users:a}})}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*ob(){try{yield Kr(Yc.e,ab)}catch(e){console.error(e)}}function*ib(e){try{const{userId:t}=e.payload,n=yield Vi(Zc.a,t);e.promise.resolve(n),yield $i({type:Yc.h,payload:{users:[n]}})}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*rb(){try{yield Kr(Yc.b,ib)}catch(e){Object(Yr.b)(e)}}function*cb(e){try{const t=e.payload,n=yield Vi(Zc.c,t);e.promise.resolve(n);const a=n.results;yield $i({type:Yc.h,payload:{users:a}})}catch(t){e.promise.reject(t),Object(Yr.b)(t)}}function*sb(){try{yield Kr(Yc.d,cb)}catch(e){console.error(e)}}function*lb(){try{yield Fi([Wi(nb),Wi(ob),Wi(sb),Wi(rb)])}catch(e){Object(Yr.b)(e)}}var db=n(523),ub=n(482);function bb(e){return e.type===Qr.d}function fb(e){return e.type===Qr.c}function pb(e){return e.type===Qr.b}function yb(e){return e.type===Qr.e}function Ob(e){return e.type===Qr.f}function vb(e){return e.type===Qr.g}function*gb(e,t){try{const n=Object(b.c)(yield Ki(Ie.h));yield Fi(e.filter(bb).map((e=>{var a,o;const i=e.payload.participantInfos.find((e=>e.snId===n.userId)),r=e.payload.type,c=null!==(a=null===i||void 0===i?void 0:i.permissions)&&void 0!==a?a:Object(Tl.b)(r,null===(o=t.callConfiguration)||void 0===o?void 0:o.allUserPermissions);return $i(Object(hl.o)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,permissions:c,participantInfos:e.payload.participantInfos,type:r}))})))}catch(n){Object(Yr.b)(n)}}function*hb(e){try{const t=yield Ki(Ie.b);yield Fi(e.filter(fb).map((e=>{const{callDetails:n,isIncomingCall:a,isOutgoingCall:o}=Object(db.a)(t,e.payload.videoConversationId),i=a&&n.state===Te.f.WAITING;if((a||o)&&!Object(Tl.d)({isIncomingCall:a,state:n.state}))return $i(i?Object(hl.q)({videoConversationId:e.payload.videoConversationId}):Object(hl.m)({callDetails:n,isIncomingCall:a,notifyAgent:!1,notifyUser:!0,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e)))}catch(t){Object(Yr.b)(t)}}function*jb(e){try{const t=yield Ki(Ie.b);yield Fi(e.filter(yb).map((e=>{const{callDetails:n,isIncomingCall:a,isOutgoingCall:o}=Object(db.a)(t,e.payload.videoConversationId);if((a||o)&&!Object(Tl.d)({isIncomingCall:a,state:n.state}))return $i(Object(hl.h)({isIncomingCall:a,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e)))}catch(t){Object(Yr.b)(t)}}function*mb(e){try{const t=yield Ki(Ie.b),n=e.filter(pb).map((e=>{const{callDetails:n,isOutgoingCall:a}=Object(db.a)(t,e.payload.videoConversationId);if(a&&!Object(Tl.d)({isIncomingCall:!1,state:n.state}))return $i(Object(hl.c)({isIncomingCall:!1,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e));yield Fi(n)}catch(t){Object(Yr.b)(t)}}function*Ib(e){try{yield Fi(e.filter(Ob).map((e=>$i(Object(hl.v)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}})))))}catch(t){Object(Yr.b)(t)}}function*Cb(e){try{yield Fi(e.filter(vb).map((e=>$i({type:ub.x,payload:{videoConversationId:e.payload.videoConversationId,participantPermissions:e.payload.permissions}}))))}catch(t){Object(Yr.b)(t)}}function*Tb(e,t){try{const{events:n}=t.payload;yield Fi([Vi(hb,n),Vi(gb,n,e),Vi(mb,n),Vi(Ib,n),Vi(jb,n),Vi(Cb,n)])}catch(n){Object(Yr.b)(n)}}function*Eb(){try{const{payload:{applicationConfig:e}}=yield Gi(Gr.a);yield Kr(Zr.j,Tb,e)}catch(e){Object(Yr.b)(e)}}const xb="/video-chat/conversation";function Sb(e){let{videoConversationId:t,shouldWaitForConnection:n}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Br.a.post(`${xb}/accept/${t}?shouldWaitForConnection=${n}`)).data}))}function _b(e){let{videoConversationId:t}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return Br.a.post(`${xb}/leave/${t}`)}))}function Ab(e){let{conversationId:t,audioOnly:n,messageText:a,sourceButtonId:o,postBackChatMessageId:i,shouldWaitForConnection:r,videoConversationId:c,activityEventType:s,autoInitiateCall:l}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Br.a.post(`${xb}/initiate/${t}`,{audioOnly:n,messageText:a,clickedButtonId:o,postBackChatMessageId:i,shouldWaitForConnection:r,videoChatConversationId:c,activityEventType:s,autoInitiateCall:l})).data}))}function wb(e){let{videoConversationId:t,meetingId:n}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Br.a.post(`${xb}/participant/connected/${t}?meetingId=${n}`)).data}))}function Rb(e){return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Br.a.post(`${xb}/fetch/ongoing/conversation?caseId=${e}`)).data}))}function Mb(e){let{videoConversationId:t,reason:n,subReason:a}=e;return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){return(yield Br.a.post(`${xb}/callFailed/${t}`,{reason:n,subReason:a})).data}))}var Pb=n(599);function*Nb(e,t,n){try{const a=yield Ki(Ie.c),o=Object(Cl.b)(a,e,t);o&&(yield Vi(Fc,{chatMessage:o,conversationId:e,params:{state:n}}))}catch(a){Object(Yr.b)(a)}}function*Db(e){try{const{notifyAgent:t,notifyUser:n,callDetails:a,videoConversationId:o,isIncomingCall:i}=e.payload,r=a.conversationId;if(yield $i(Object(u.c)({conversationId:r,action:ct.a.CALL_ENDED,additional:{videoConversationId:o,userInitiated:!n}})),yield Vi(Nb,r,o,Pb.a.CALL_ENDED),!t)return;if(!i&&!a.hasInitiateSucceeded&&a.state===Te.h.WAITING){if((yield Gi(Object(Cl.g)(o))).type===ub.e)return}if(i&&a.state===Te.f.ACCEPTED){if((yield Gi(Object(Cl.c)(o))).type===ub.e)return}yield Vi(_b,{videoConversationId:o})}catch(t){Object(Yr.b)(t)}}function*Lb(e){try{e.payload.isOutgoingWaiting&&(yield Vi(Db,e)),yield $i({type:mc.bb,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}})}catch(t){Object(Yr.b)(t)}}function*kb(e){try{const{actionParams:{messageId:t,actionId:n},conversationId:a}=e.payload,o=yield Ki(Ie.b),i=Object(Ce.f)(o),r=i.messageId;if(r&&t===r&&n!==i.sourceButtonId){const e=yield Ki(Ie.c),n=Object(ht.k)(Object(ht.m)(e,a),t);n&&!Tc.a.getAttachment(Cc.a.getMessagePayload(n)).reSubmittable&&(yield $i(Object(hl.m)({notifyAgent:!0,notifyUser:!1,callDetails:i,isIncomingCall:!1,videoConversationId:i.videoConversationId})))}}catch(t){Object(Yr.b)(t)}}function*Ub(e,t){try{yield $i(Object(hl.r)({conversationId:t.payload.conversationId,controls:Object(Cl.h)(t.payload.isPhone),type:t.payload.type,messageText:t.payload.messageText,messageId:t.payload.messageId,autoInitiateCall:t.payload.autoInitiateCall,sourceButtonId:t.payload.sourceButtonId,allUserPermissions:e,videoConversationId:Jd.a.v4()}))}catch(n){Object(Yr.b)(n)}}function*Bb(e){let{error:t,videoConversationId:n,reason:a,isIncomingCall:o}=e;try{const e=yield Ki(Ie.b),i=o?Object(Ce.d)(e):Object(Ce.f)(e);if(pe()(i)||i.videoConversationId!==n||Object(Tl.d)({isIncomingCall:o,state:i.state}))return;if(Object(Vs.f)(t)){const e=de()(t,"response.data.error");if(e===Te.a.CALL_ALREADY_ENDED)return void(yield $i({type:ub.c,payload:{videoConversationId:n,notifyAgent:!1,notifyUser:!0,callDetails:i,isIncomingCall:o}}));yield $i({type:ub.e,payload:{videoConversationId:n,reason:a,subReason:e}})}}catch(i){Object(Yr.b)(i)}}function*Gb(e){try{const{videoConversationId:t}=e.payload;yield $i(Object(hl.b)({videoConversationId:t,controls:Object(Cl.h)(e.payload.isPhone)}));const n=yield Vi(Sb,{videoConversationId:t,shouldWaitForConnection:!0});yield $i({type:ub.x,payload:{participantPermissions:n.participant.permissions,participantInfos:n.conversation.participantInfos,videoConversationId:n.conversation.id}}),yield $i(Object(hl.u)({videoConversationId:t}))}catch(t){Object(Yr.b)(t),yield Vi(Bb,{videoConversationId:e.payload.videoConversationId,isIncomingCall:!0,error:t,reason:Te.e.ACCEPT_FAILED})}}function*$b(e){let t;try{const{videoConversationId:n,autoInitiateCall:a}=e.payload,o=yield Ki(Ie.b),i=Object(Ce.f)(o),r=i.messageId,c=i.conversationId,s=Object(Ce.h)(o,n);if(yield $i(Object(u.c)({conversationId:c,action:s?ct.a.AUDIO_CALL_OUTGOING_STARTING:ct.a.VIDEO_CALL_OUTGOING_STARTING,additional:{videoConversationId:n}})),r){const e=yield Ki(Ie.c);t=Object(ht.k)(Object(ht.m)(e,c),r),yield Vi(Fc,{chatMessage:t,conversationId:c,params:{buttonId:i.sourceButtonId}})}const l=yield Vi(Ab,{conversationId:c,audioOnly:s,messageText:i.messageText,sourceButtonId:i.sourceButtonId,postBackChatMessageId:r,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED",autoInitiateCall:a});yield $i({type:ub.x,payload:{agentWaitTime:l.conversation.agentWaitTime,participantInfos:l.conversation.participantInfos,participantPermissions:l.participant.permissions,videoConversationId:l.conversation.id}})}catch(n){t&&(yield $i({type:mc.K,payload:{chatMessage:t,conversationId:e.payload.conversationId}})),yield Vi(Bb,{videoConversationId:e.payload.videoConversationId,reason:Te.g.INITIATE_FAILED,error:n,isIncomingCall:!1}),Object(Yr.b)(n)}}function*Fb(e){try{const{conversationId:n,type:a,isPhone:o,prevState:i,videoConversationId:r,participantInfos:c,participantPermissions:s}=e.payload,l=yield Ki(Ie.b),d=Object(Ce.c)(l);if(Object(Cl.i)({callDetails:d}))return;const b=a===Te.c.AUDIO,f=Object(Cl.d)(i);yield $i(Object(u.c)({conversationId:n,action:Object(Cl.e)(b,f),additional:{videoConversationId:r}})),yield $i(Object(hl.s)({conversationId:n,videoConversationId:r,state:f?Te.f.ACCEPTED:Te.f.SETUP,controls:Object(Cl.h)(o),type:a,participantPermissions:s,participantInfos:c}));let p=yield Vi(Rb,n);if(pe()(p))return void(yield $i({type:ub.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0,isIncomingCall:!0}}));if(yield $i({type:ub.x,payload:{participantPermissions:p.participant.permissions,participantInfos:p.conversation.participantInfos,videoConversationId:p.conversation.id}}),f){try{p=yield Vi(Sb,{videoConversationId:p.conversation.id,shouldWaitForConnection:!0}),yield $i({type:ub.x,payload:{participantPermissions:p.participant.permissions,participantInfos:p.conversation.participantInfos,videoConversationId:p.conversation.id}})}catch(t){return Object(Yr.b)(t),void(yield Vi(Bb,{videoConversationId:e.payload.videoConversationId,reason:Te.e.ACCEPT_FAILED,error:t,isIncomingCall:!0}))}yield $i(Object(hl.u)({videoConversationId:p.conversation.id}))}}catch(t){return Object(Yr.b)(t),void(yield Vi(Bb,{videoConversationId:e.payload.videoConversationId,reason:Te.e.REJOIN_FAILED,error:t,isIncomingCall:!0}))}}function*Hb(e){try{const{conversationId:t,type:n,isPhone:a,prevState:o,videoConversationId:i,participantInfos:r,participantPermissions:c}=e.payload,s=yield Ki(Ie.b),l=Object(Ce.c)(s);if(Object(Cl.i)({callDetails:l}))return;const d=n===Te.c.AUDIO;yield $i(Object(u.c)({conversationId:t,action:Object(Cl.e)(d),additional:{videoConversationId:i}})),yield $i(Object(hl.t)({conversationId:t,videoConversationId:i,state:Object(Cl.f)(o),controls:Object(Cl.h)(a),type:n,participantPermissions:c,participantInfos:r}));const b=yield Vi(Rb,e.payload.conversationId);if(pe()(b))return void(yield $i({type:ub.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0}}));yield $i({type:ub.x,payload:{agentWaitTime:b.conversation.agentWaitTime,participantPermissions:b.participant.permissions,participantInfos:b.conversation.participantInfos,videoConversationId:b.conversation.id}})}catch(t){Object(Yr.b)(t),yield Vi(Bb,{videoConversationId:e.payload.videoConversationId,reason:Te.g.REJOIN_FAILED,error:t,isIncomingCall:!1})}}function*zb(e){try{const t=e.payload,{isIncomingCall:n}=t,a=Object(Ic.__rest)(t,["isIncomingCall"]);n?yield $i(Object(hl.f)(a)):yield $i(Object(hl.k)(a))}catch(t){Object(Yr.b)(t)}}function*Vb(e){const t=yield Ki(Ie.b),{videoConversationId:n}=e.payload,{isOutgoingCall:a}=Object(db.a)(t,n);try{const t=a?hl.l:hl.g;yield $i(t({videoConversationId:n})),yield Vi(wb,e.payload)}catch(o){yield Vi(Bb,{videoConversationId:n,reason:a?Te.g.JOIN_FAILED:Te.e.JOIN_FAILED,error:o,isIncomingCall:!a}),Object(Yr.b)(o)}}function*Wb(e){try{const t=yield Ki(Ie.b),{callDetails:n,isIncomingCall:a}=Object(db.a)(t,e.payload.videoConversationId);if(n.reason&&n.reason!==e.payload.reason)return;const o=n.conversationId,i=n.videoConversationId;if(yield $i(Object(u.c)({conversationId:o,action:ct.a.CALL_FAILED,additional:{videoConversationId:e.payload.videoConversationId}})),yield Vi(Nb,o,i,Pb.a.CALL_FAILED),!a&&!n.hasInitiateSucceeded){if((yield Gi(Object(Cl.g)(i))).type===ub.e)return}yield Vi(Mb,{videoConversationId:e.payload.videoConversationId,reason:e.payload.reason,subReason:e.payload.subReason})}catch(t){Object(Yr.b)(t)}}function*qb(e){try{const{isIncomingCall:t,conversationId:n,videoConversationId:a}=e.payload;yield $i(Object(u.c)({conversationId:n,action:ct.a.CALL_DECLINED,additional:{videoConversationId:a,userInitiated:t}})),yield Vi(Nb,n,a,Pb.a.CALL_DECLINED),yield Vi(_b,{videoConversationId:a})}catch(t){Object(Yr.b)(t)}}function*Xb(e){try{const{conversationId:t,videoConversationId:n,isIncomingCall:a}=e.payload;yield $i(Object(u.c)({conversationId:t,action:ct.a.CALL_MISSED,additional:{videoConversationId:n,userInitiated:a}})),yield Vi(Nb,t,n,Pb.a.CALL_MISSED)}catch(t){Object(Yr.b)(t)}}function*Kb(){var e;try{const{payload:{applicationConfig:t}}=yield Gi(Gr.a);yield Kr(ub.g,Gb),yield Kr(ub.c,Db),yield Kr(ub.o,Ub,null===(e=null===t||void 0===t?void 0:t.callConfiguration)||void 0===e?void 0:e.allUserPermissions),yield Kr(ub.u,$b),yield Kr(ub.d,Lb),yield Kr(ub.v,zb),yield Kr(ub.k,Fb),yield Kr(ub.r,Hb),yield Kr(mc.c,kb),yield Kr(ub.y,Vb),yield Kr(ub.e,Wb),yield Kr(ub.b,qb),yield Kr(ub.n,Xb)}catch(t){Object(Yr.b)(t)}}function*Yb(){yield Fi([Wi(Eb),Wi(Kb)])}function Zb(e){return e.type===Qr.m}function*Qb(){try{const e=yield Ki(Ie.f);pe()(e)||(yield $i(Object(us.h)()))}catch(e){Object(Yr.b)(e)}return null}function*Jb(e){try{const{events:t}=e.payload,n=yield Ki(Ie.f);yield Fi(t.filter(Zb).map((e=>{if(n.type!==ps.a.REQUEST)return null;const{status:t}=e.payload;return"LIVE"===t?Vi(Qb):"COMPLETED"===t?$i(Object(us.d)({endedByAgent:!0})):null})))}catch(t){Object(Yr.b)(t)}}function*ef(){try{yield Kr(Zr.j,Jb)}catch(e){Object(Yr.b)(e)}}function*tf(){yield Fi([Wi(_s),Wi(ef)])}function*nf(){try{yield Fi([Wi(rc),Wi(eb),Wi(lb),Wi(Yb),Wi(tf)])}catch(e){Object(Yr.b)(e)}}function*af(){try{const e=yield Wi(nf);yield Gi(Gr.c),yield Zi(0),yield Xi(e)}catch(e){Object(Yr.b)(e)}}var of=n(349),rf=n(290),cf=n(326),sf=n(490),lf=n(50);function df(e,t){const n=Object(sf.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};const a=de()(n.params,"conversationId"),o=de()(n.params,"transientId");return"all"===a?{isConversationPath:!1,matchedConversationId:void 0}:"new"===a?{isConversationPath:!0,matchedConversationId:t?t.slice(1):o}:{isConversationPath:!0,matchedConversationId:a}}function*uf(){try{const e=Object(b.e)(yield Ki(I.h));return{...Object(lf.a)(),locale:e}}catch(e){return void Object(Yr.b)(e)}}var bf=n(707),ff=n(481),pf=n(891),yf=n(787);function*Of(e){try{const{conversationId:t,chatMessage:n}=e.payload;pf.a.emit(e);const a=Object(b.d)(yield Ki(I.h)),o=yield Ki(I.c),i=Object(ht.g)(o.conversations,t);if(i){const e=Io()(i.defaultMessages,"id"),o=Cc.a.getId(n);if(e.includes(o))return void(yield $i({type:mc.Q,payload:{conversationId:t,lastReadMessageId:o}}));if(function(e,t){return!(Cc.a.getSender(e)===t)&&!Object(Ec.f)(e)}(n,a)){const{isConversationPath:e,conversationId:n}=yield Ki(cf.c),a=yield Ki(I.b),{isMinimized:o}=a,r=Object(of.b)(),c=!!e,s=!pe()(i);(Object(_.E)()?s&&t===n:s)&&(yield $i({type:mc.R,payload:{conversationId:t,count:1}}),o&&!c&&r.push(`/conversation/${t}`))}}}catch(t){Object(Yr.b)(t)}}function*vf(){try{yield Kr(mc.F,Of)}catch(e){Object(Yr.b)(e)}}function*gf(e){try{var t;const n=Object(Lt.b)(),{url:a}=Object(bf.a)({url:Object(rf.d)(e.payload.url)},{location_url:Object(lf.b)()});Object(Lt.c)(n)?n.open(a,e.payload.target):window.open(a),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){var n;null===(n=e.promise)||void 0===n||n.reject(),Object(Yr.b)(a)}}function*hf(){try{yield Kr(mc.S,gf)}catch(e){Object(Yr.b)(e)}}function*jf(e){try{var t;window.open(Object(rf.c)(e.payload.phoneNumber)),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){var n;null===(n=e.promise)||void 0===n||n.reject(),Object(Yr.b)(a)}}function*mf(){try{yield Kr(mc.p,jf)}catch(e){Object(Yr.b)(e)}}function*If(e){try{const{surveyUrl:t,shouldReplace:n,conversationId:a}=e.payload,o=Object(of.b)(),i=Object(_.F)()||Object(_.K)()?`${t}&showCancel=true`:t,r=`/survey/${encodeURIComponent(`${i}&hideThankYouPage=true`)}`,c=a?`/conversation/${a}${r}`:r;return n?o.replace(r):o.push(c)}catch(t){return void Object(Yr.b)(t)}}function*Cf(){try{yield Kr(mc.W,If)}catch(e){Object(Yr.b)(e)}}function*Tf(e){try{const{deleted:n,closed:a,surveyUrl:o,conversationId:i}=e.payload;try{if(n||a){const e=Object(of.b)(),{matchedConversationId:t}=df(e.location.pathname,e.location.hash),a=n&&!!i&&t===i&&!Object(_.F)();o?yield $i(Object(Sc.n)({surveyUrl:o,shouldReplace:a,conversationId:i})):a&&e.goBack()}}catch(t){Object(Yr.b)(t)}}catch(t){Object(Yr.b)(t)}}function*Ef(){try{yield Kr(mc.j,Tf)}catch(e){Object(Yr.b)(e)}}Te.c.VIDEO,Te.c.AUDIO;function*xf(){try{const{payload:{handshakeDetails:e}}=yield Gi(Gr.a),t=Object(ff.b)();if(e){if(Object(_.J)()){const e=Object(_.i)();yield $i(Object(Sc.b)({conversationId:e,isPhone:t}))}if(Object(_.I)()){const e=Object(_.h)(),n=Object(_.e)(e),a=yield Vi(uf);yield $i(Object(Sc.a)(e,n,a,t))}yield Zi(1e3),yield $i(Object(Sc.g)())}}catch(e){Object(Yr.b)(e)}}function*Sf(e){try{const{payload:t,promise:n}=e,{conversationId:a}=t;yield Vi(yf.b,a),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(Yr.b)(t)}}function*_f(){try{yield Kr(mc.o,Sf)}catch(e){Object(Yr.b)(e)}}function*Af(e){try{const t=yield Ki(I.h),n=Object(b.d)(t),a=yield Ki(I.c),o=((e,t,n)=>{if(n)return[{conversationId:n,count:Object(cf.b)(e[n],t)}];return Ya()(e,((e,n)=>{const a=Object(cf.b)(n,t);return e.push({conversationId:n.id,count:a}),e}),[])})(Object(ht.q)(a).byId,n,e);pe()(o)||(yield $i({type:mc.P,payload:o}))}catch(t){console.warn(t)}}function*wf(){try{if(Object(_.E)()){if(Object(_.M)())for(;;){yield Gi(mc.g);const{conversationId:e}=yield Ki(cf.c);yield Vi(Af,e)}if(Object(_.J)()||Object(_.I)()){yield Hi([Gi(mc.t),Gi(mc.u),Gi(mc.w),Gi(mc.x)]);const{conversationId:e}=yield Ki(cf.c);return void(yield Vi(Af,e))}return}if(Object(_.J)()||Object(_.I)())return yield Fi([Hi([Gi(mc.t),Gi(mc.w),Gi(mc.u),Gi(mc.x)]),Gi(mc.g)]),void(yield Vi(Af));if(Object(_.O)()||Object(_.L)()||Object(_.M)())for(;;)yield Gi(mc.g),yield Vi(Af)}catch(e){Object(Yr.b)(e)}}function*Rf(){try{yield Fi([Wi(xf),Wi(vf),Wi(hf),Wi(mf),Wi(_f),Wi(Cf),Wi(Ef),Wi(wf)])}catch(e){Object(Yr.b)(e)}}function*Mf(e){let{action:t}=e;try{const e=t.payload;if((n=e).type!==ul.i&&n.type!==ul.j)return;const a=yield Ki(I.c),o=Object(ht.e)(Object(ht.w)(a));e.type===ul.i&&(yield Vi(xa.n,e.payload.contextId||o,e.payload.abortedProcessContext,[])),e.type===ul.j&&(yield Vi(xa.k,e.payload.contextId||o))}catch(a){Object(Yr.b)(a)}var n}function*Pf(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield Vi(xa.f,t);if(a){const e=Tc.a.getAttachment(Cc.a.getMessagePayload(n));if(Object(Kc.c)(Cc.a.getSender(n))&&e&&Object(xl.d)(e)){const e=Cc.a.getId(n),o=a.messageIds;yield Vi(xa.n,t,a.context,[...o,e])}}}catch(t){Object(Yr.b)(t)}}function*Nf(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield Vi(xa.f,t);a&&(yield Vi(xa.n,t,a.context,[]))}catch(t){Object(Yr.b)(t)}}function*Df(){try{yield Kr(mc.F,Pf)}catch(e){Object(Yr.b)(e)}}function*Lf(){try{yield Kr(mc.I,Nf)}catch(e){Object(Yr.b)(e)}}function*kf(e){try{const t=yield Vi(xa.f,e);t&&(yield Fi(t.messageIds.map((e=>Vi(xc.q,e)))),yield Vi(xc.w,{context:t.context,conversationId:e}),yield Vi(xa.k,e))}catch(t){Object(Yr.b)(t)}}function*Uf(e){try{const{results:t}=e.payload.conversationResponse;yield Fi(t.map((e=>Vi(kf,e.id))))}catch(t){Object(Yr.b)(t)}}function*Bf(){try{yield Kr(mc.g,Uf)}catch(e){Object(Yr.b)(e)}}function*Gf(){try{yield Fi([Wi(Df),Wi(Lf),Wi(Bf)])}catch(e){Object(Yr.b)(e)}}var $f=n(319),Ff=n.n($f),Hf=n(266),zf=n.n(Hf),Vf=n(519),Wf=n.n(Vf),qf=n(709),Xf=n(598);const Kf=e=>t=>t.type===mc.w&&de()(t,"payload.conversationResponse.externalCaseId")===e,Yf=e=>t=>t.type===mc.x&&de()(t,"payload.externalCaseId")===e;function*Zf(){try{const e=yield Ki(I.b),{isMinimized:t}=e;t&&(yield $i({type:Sa.d,payload:{}}))}catch(e){Object(Yr.b)(e)}}function*Qf(){try{const e=yield Ki(I.c),t=Object(ht.e)(Object(ht.w)(e)),n=yield Vi(of.b),a=`/conversation/${t}`,{isConversationPath:o}=df(n.location.pathname,n.location.hash);o?n.replace(a):n.push(a),yield Vi(Zf)}catch(e){Object(Yr.b)(e)}}function*Jf(){try{yield Gi(mc.g),yield Vi(Qf)}catch(e){Object(Yr.b)(e)}}function*ep(e){let{initialMessages:t,conversationContext:n,createCase:a,additional:o,assignToUser:i,conversationId:r,applicationConfig:c}=e;try{const e=yield Ki(I.h),s=Object(b.d)(e);let l,d;const u=zf()(t,(e=>{const t=Ns()(e)?e:e.message;return!pe()(Wf()(t))}));if(pe()(u))if(pe()(t)&&To()(t))d=!0,l=[];else{const e=yield Ki(I.c),t=Object(ht.m)(e,Gs.e);l=Object(ht.l)(t),d=Object(ht.y)(t)}else{const e=(e=>e.map((e=>Ns()(e)?{message:{text:e},isSentByUser:!1}:Ns()(e.message)?{...e,message:{text:e.message}}:e)))(u),t=yield Nc();l=bc()(e.map(((e,n)=>{if(!e.isSentByUser)return e.message.text?Xs(e.message.text,r,`${n}`,e.message.disableManualResponse):void 0;const{maskedText:a,maskedValues:o}=Object(qf.a)({text:e.message.text,maskingConfigs:c.maskingConfigs});return t.makeTextMessage({text:a||"",conversationId:r,sender:s,maskingDetails:o,disableManualResponse:e.message.disableManualResponse})}))),d=!0}yield $i({type:mc.L,payload:{conversationId:r,messages:l,conversationContext:n,hasInitialItems:d,createCase:a,assignToUser:i,additional:o}})}catch(s){throw Object(Yr.b)(s),s}}function*tp(e,t){const{payload:{silent:n},promise:a}=t;try{let o=yield Ki(I.g);const i=(e,t)=>de()(e,t);let r=Object(I.c)(o),c=Object(ht.q)(r);jc()(Object(ht.v)(c))&&(yield $i({type:mc.C,payload:{}}),yield Gi(mc.cb),o=yield Ki(I.g));const s=Object(I.e)(o);r=Object(I.c)(o),c=Object(ht.q)(r);const{isLocked:l}=Object(cf.e)({chatState:s,chatConversationsState:r,customizationSettings:e.otherConfigs.settings,getLocaleMessage:i});if(l){if(!n){const e=Object(ht.b)(c);yield Vi(e?Qf:Jf)}throw Fs.a.LIMIT_REACHED}const d=`${Gs.e}_${Ff()()}`;yield Vi(ep,{...t.payload,conversationId:d,applicationConfig:e});const u=yield Vi(uf);if(n&&(yield $i({type:mc.M,payload:{conversationId:d,appContext:u},promise:a})),!n){const e=Object(of.b)(),{isConversationPath:t}=df(e.location.pathname,e.location.hash),n=`/conversation/new/${d}`;!!t?e.replace(n):e.push(n),yield Vi(Zf)}}catch(o){a&&a.reject(Ks(o)),Object(Yr.b)(o)}}function*np(e){const{payload:t,promise:n}=e;let a,o;try{let e=yield Ki(I.c),i=Object(ht.q)(e);if(a=t.conversationId,o=t.externalCaseId,!a)if(Object(ht.b)(i)||(yield Gi(mc.g),e=yield Ki(I.c),i=Object(ht.q)(e)),o){if(a=Object(ht.d)(Object(ht.w)(e),o),!a&&e.conversations.hasMore){yield $i(Object(Sc.b)({externalCaseId:o}));const[t,n]=yield Hi([Gi(Kf(o)),Gi(Yf(o))]);if(n)throw n.payload.error;a=de()(t,"payload.conversationResponse.id"),e=yield Ki(I.c),i=Object(ht.q)(e)}}else a=Object(ht.e)(Object(ht.w)(e));if(!a)return void(n&&n.reject(Fs.a.NOT_FOUND));const r=Object(of.b)(),{isConversationPath:c,matchedConversationId:s}=df(r.location.pathname,r.location.hash),l=!!c,d=`/conversation/${a}`;let u=a,b=[];if(s!==a){if(Object(_.C)(a)){const e=Object(_.f)(a),t=Object(_.e)(e),n=Object(ht.j)(i,e);if(u=t,!Zd()(i.ids,n)){const n=yield Vi(uf);yield $i(Object(Sc.a)(e,t,n)),b=[mc.t,mc.u]}}else Zd()(i.ids,a)||(yield $i(Object(Sc.b)({conversationId:a})),b=[mc.w,mc.x]);for(;!pe()(b);){const[e,t]=yield Hi([Gi(b[0]),Gi(b[1])]);if(u===(de()(e,"payload.conversationResponse.id")||de()(t,"payload.conversationId"))){if(t)throw t.payload.error;break}}}l?r.replace(d):r.push(d),yield Vi(Zf),n&&n.resolve(a)}catch(i){n?n.reject(Ks(i)):Object(Yr.b)(i)}finally{(yield Ui(ki,{}))&&n&&n.reject(Fs.a.UNEXPECTED_ERROR)}}function*ap(){try{const{payload:{applicationConfig:e}}=yield Gi(Gr.a);yield Kr(Xf.c,tp,e)}catch(e){Object(Yr.b)(e)}}function*op(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return Wi.apply(void 0,[qr,e,t].concat(a))}(Xf.a,np)}catch(e){Object(Yr.b)(e)}}var ip=n(364),rp=n.n(ip),cp=n(614);const sp={[kc.c.PROGRESS_BAR]:e=>e.status===cp.a.ABORTED||e.status===cp.a.ERROR},lp=e=>{var t;const n=null===(t=e.messagePayload)||void 0===t?void 0:t.attachment,a=n&&sp[n.type];return a&&a(n)};class dp{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=rp()(this.queueItems,(t=>Cc.a.getId(e.message)===Cc.a.getId(t.message)));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}flush(){return this.queueItems}}const up="EXTERNAL_MESSAGE_SEND";function*bp(e){try{const{message:t,externalMessageId:n}=e,a=yield Vi(Rc,t);a&&(yield $i({type:up,payload:{id:n,message:a}}))}catch(t){Object(Yr.b)(t)}}function*fp(e){try{for(;;){const t=yield Gi(e);lp(t.message)||(yield Vi(bp,t))}}catch(t){Object(Yr.b)(t)}}let pp;function*yp(e,t){try{var n;pp||(pp=yield Vi(Or,new dp),yield qi(fp,pp));const a=yield Ki(I.c),o=Object(ht.e)(Object(ht.w)(a)),i=yield Ki(I.h),r=Object(b.d)(i),c=e.message.text,s=e.isSentByUser?Object(qf.a)({text:c,maskingConfigs:null===t||void 0===t?void 0:t.maskingConfigs}):{text:c},l=(yield Nc()).makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:{...e.message,text:null!==(n=s.maskedText)&&void 0!==n?n:s.text,maskingDetails:s.maskedValues},conversationId:e.contextId||o,messageContext:e.messageContext,sender:e.isSentByUser?r:Gs.b});if(!l)return;const d={externalMessageId:e.id,message:l};!e.sprMsgId||lp(l)?yield Wi(bp,d):yield $i(pp,d);const{payload:{id:u,message:f}}=yield Gi(up);return{id:u,message:f}}catch(a){return void Object(Yr.b)(a)}}var Op=n(433),vp=n(366);function*gp(e){let{action:t,applicationConfig:n}=e;try{if(t.payload.type!==ul.e)return;const e=yield Vi(yp,t.payload.payload,n);if(!e)return void Object(C.a)({topic:Op.R,payload:{error:vp.a.INCORRECT_PAYLOAD,request:t.payload}});const{id:a,message:o}=e;yield $i(Object(Js.m)({id:a,conversationId:null===o||void 0===o?void 0:o.conversationId,messageId:null===o||void 0===o?void 0:o.id})),Object(C.a)({topic:Op.R,payload:{data:{id:a,conversationId:null===o||void 0===o?void 0:o.conversationId,messageId:null===o||void 0===o?void 0:o.id},request:t.payload}})}catch(a){Object(Yr.b)(a)}}function*hp(e){let{action:t}=e;try{if(t.payload.type!==ul.d)return;const{payload:e}=t.payload,n=(yield Nc()).makeDynamicMessage({externalMessageId:e.id,messagePayload:{events:Xc()(e.event)},conversationId:e.contextId,sender:Gs.b});if(!n)return;yield Vi(Rc,n)}catch(n){Object(Yr.b)(n)}}var jp=n(602),mp=n.n(jp),Ip=n(708),Cp=n.n(Ip);const Tp=/\$\{(\w+)\}/g,Ep=(e,t)=>{const n=Object.keys(t);return Cp()(e,Tp,((e,a)=>n.includes(a)?t[a]:e))},xp=(e,t)=>{const{totalUnits:n,completedUnits:a,action:o,status:i}=t,r=e[`progress.${o}.${i}.title`];return Ep(r,{completedUnits:a,totalUnits:n})},Sp=(e,t)=>{const{totalUnits:n,completedUnits:a,action:o,status:i}=t,r=e[`progress.${o}.${i}.description`];return Ep(r,{completedUnits:a,totalUnits:n})};class _p{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=rp()(this.queueItems,(t=>e.action.payload.contextId===t.action.payload.contextId));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}flush(){return this.queueItems}}const Ap=(e,t)=>`${e}_${t}`,wp=mp()((()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n},remove:t=>{delete e[t]}}}));function*Rp(e){for(;;)try{const{action:n,localeData:a}=yield Gi(e),{payload:{contextId:o,id:i,data:r,progressContext:c}}=n,s={type:kc.c.PROGRESS_BAR,title:xp(a,r),description:Sp(a,r),progress:r.progress,status:r.status,action:r.action,enableCancel:r.enableCancel,enableRetry:r.enableRetry},l={attachment:s,disableManualResponse:r.disableManualResponse},d=yield Vi(yp,{contextId:o,id:i,sprMsgId:wp().get(Ap(o,s.action)),message:l,messageContext:c});if(!d)return void Object(C.a)({topic:Op.R,payload:{error:vp.a.INCORRECT_PAYLOAD,request:n}});const{id:u,message:b}=d;yield $i(Object(Js.n)({id:u,conversationId:null===b||void 0===b?void 0:b.conversationId,messageId:null===b||void 0===b?void 0:b.id})),Object(C.a)({topic:Op.R,payload:{data:{id:i,conversationId:null===b||void 0===b?void 0:b.conversationId,messageId:null===b||void 0===b?void 0:b.id},request:n}}),(t=s).status!==cp.a.COMPLETED&&(t.status!==cp.a.ABORTED&&t.status!==cp.a.ERROR||t.enableRetry)?wp().set(Ap(o,s.action),null===b||void 0===b?void 0:b.id):wp().remove(Ap(o,s.action))}catch(n){Object(Yr.b)(n)}var t}let Mp;function*Pp(e){let{action:t,localeData:n}=e;try{if(t.payload.type!==ul.g)return;Mp||(Mp=yield Vi(Or,new _p),yield qi(Rp,Mp)),yield $i(Mp,{action:t.payload,localeData:n})}catch(a){Object(Yr.b)(a)}}function*Np(e,t,n){try{yield Fi([Vi(gp,{action:n,applicationConfig:t}),Vi(hp,{action:n}),Vi(Pp,{action:n,localeData:e}),Vi(Mf,{action:n})])}catch(a){Object(Yr.b)(a)}}function*Dp(e,t,n){try{e&&(yield Kr(e,Np,t,n))}catch(a){Object(Yr.b)(a)}}function*Lp(){try{const{payload:{applicationConfig:t}}=yield Gi(Gr.a),n=yield Yi(mc.z);let a;for(;;)try{const{payload:{data:e}}=yield Gi(Yc.c);a&&(yield Xi(a)),a=yield Wi(Dp,n,e,t)}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*kp(){const e=Object(Pt.a)();yield Object(xa.h)(e.appId)}function*Up(){yield Kr(Sa.f,kp)}var Bp=n(406),Gp=n(355);function*$p(e,t){let{payload:n,promise:a}=t;try{if(!pe()(n))switch(n.landingScreen){case at.a.KNOWLEDGE_BASE_LIST:{var o,i,r;const t=null!==(o=null===(i=e.cardConfigs)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.cards)&&void 0!==o?o:e.cards,n=Object(of.b)(),c=null===t||void 0===t?void 0:t.find((e=>e.type===Gp.a.KNOWLEDGE_BASE)),s=rt(n.location.pathname);if(!c)return void a.reject({error:Fs.a.NOT_FOUND});s!==at.a.KNOWLEDGE_BASE_LIST&&n.push(Bp.b);break}default:return void a.reject({error:Fs.a.NOT_FOUND})}Object(_.Q)()&&(yield $i({type:Sa.d,payload:{}})),a.resolve(void 0)}catch(c){Object(Yr.b)(c),a.reject({error:Fs.a.UNEXPECTED_ERROR})}}function*Fp(){try{const{payload:{applicationConfig:e}}=yield Gi(Gr.a);yield Kr(Sa.m,$p,e)}catch(e){Object(Yr.b)(e)}}function*Hp(){try{yield Fi([Wi(ap),Wi(op),Wi(Lp),Wi(Up),Wi(Fp)])}catch(e){Object(Yr.b)(e)}}var zp=n(287);const Vp=e=>{const t=Object(ht.q)(Object(I.c)(e));return{totalCount:Object(ht.x)(t),byExternalCaseIds:Object(ht.t)(t)}};function*Wp(){try{let t=yield Ki(Vp);for(;;)try{yield Hi({notificationReceived:Gi(mc.R),notificationRead:Gi(mc.Q),notificationsReceived:Gi(mc.P)});const e=yield Ki(Vp);t.totalCount!==e.totalCount&&(Object(C.a)({topic:S.m,payload:{data:{count:e.totalCount,additional:{...pe()(e.byExternalCaseIds)?{}:{byExternalCaseIds:e.byExternalCaseIds}}}}}),t=e)}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*qp(e){try{Object(C.a)({topic:S.g,payload:{data:{type:e.payload.type,payload:{...e.payload.payload,userAuthToken:yield Object(xa.a)(zp.a.getAppId(Object(Pt.a)()))}}}})}catch(t){Object(Yr.b)(t)}}function*Xp(){try{yield Kr(mc.A,qp)}catch(e){Object(Yr.b)(e)}}function Kp(e){try{Object(C.a)({topic:S.f,payload:{data:e.payload.payload},callback:e.payload.callback})}catch(t){Object(Yr.b)(t)}}function*Yp(){try{yield Kr(mc.y,Kp)}catch(e){Object(Yr.b)(e)}}function*Zp(){try{yield Fi([Wi(Wp),Wi(Xp),Wi(Yp)])}catch(e){Object(Yr.b)(e)}}var Qp=n(262);async function Jp(e,t){return(await Qp.a.post(`/livechat/upload?conversationId=${t}`,{file:e,fileName:e.name},{multipart:!0})).data}function*ey(e,t,n){try{if(e.size>t){throw{response:{status:413,statusText:"Payload Too Large"}}}return{token:yield Vi(Jp,e,n)}}catch(a){return{error:a}}}var ty=n(507),ny=n(528);function ay(e){return Zd()(ny.c,e)}function oy(e){return new Promise((t=>{if(!e)return void t({});const n=document.createElement("img");n.onload=e=>{const n=e.target;n&&t({height:n.naturalHeight,width:n.naturalWidth})},n.src=e}))}function*iy(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o,isAttachmentMasked:i,maximumContentLength:r}=e;try{if(ay(a.type)){const e=i?void 0:URL.createObjectURL(a),{height:c,width:s}=yield Vi(oy,e),l=yield Nc(),d=yield Vi(Sc.p,l.makeImageAttachmentMessage({attachmentProperties:{height:c,width:s,url:e,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:o}));yield $i(d);const{token:u,error:b}=yield Vi(ey,a,r,t);if(u){const t=Object(ty.f)({chatMessage:d.payload.chatMessage,token:u});yield Vi(Mc,t),e&&URL.revokeObjectURL(e)}else yield Vi(_c,{chatMessage:d.payload.chatMessage,conversationId:t,transientId:d.payload.chatMessage.id,error:b})}}catch(c){Object(Yr.b)(c)}}function ry(e){return Zd()(ny.e,e)}function cy(e){return new Promise((t=>{const n=document.createElement("video");n.onloadeddata=()=>{n.currentTime=0},n.onseeked=e=>{const a=document.createElement("canvas");a.height=n.videoHeight,a.width=n.videoWidth;const o=a.getContext("2d");if(o){o.drawImage(n,0,0,a.width,a.height);(a.toBlob||a.msToBlob).bind(a)((e=>{const a=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:a,height:n.videoHeight,width:n.videoWidth})}))}},n.src=e,n.load()}))}function*sy(e,t,n){try{return yield Vi(ey,e,t,n)}catch(a){return void Object(Yr.b)(a)}}function*ly(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o,isAttachmentMasked:i,maximumContentLength:r}=e;try{if(ry(a.type)){const e=URL.createObjectURL(a),{previewImageFile:c,height:s,width:l}=yield Vi(cy,e),d=URL.createObjectURL(c),u=yield Nc(),b=yield Vi(Sc.p,u.makeVideoAttachmentMessage({attachmentProperties:{height:s,width:l,previewImageUrl:i?null:d,url:i?null:e,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:o}));yield $i(b);const[{token:f,error:p},{token:y}]=yield Fi([Vi(ey,a,r,t),Vi(sy,c,r,t)]);if(f){const t=Object(ty.g)({chatMessage:Object(ty.f)({chatMessage:b.payload.chatMessage,token:f}),token:y});yield Vi(Mc,t),URL.revokeObjectURL(e),URL.revokeObjectURL(d)}else yield Vi(_c,{chatMessage:b.payload.chatMessage,conversationId:t,transientId:b.payload.chatMessage.id,error:p})}}catch(c){Object(Yr.b)(c)}}function dy(e){return Zd()(ny.a,e)}function*uy(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o,isAttachmentMasked:i,maximumContentLength:r}=e;try{if(dy(a.type)){const e=i?null:URL.createObjectURL(a),c=yield Nc(),s=yield Vi(Sc.p,c.makeAudioAttachmentMessage({attachmentProperties:{url:e,mimeType:a.type,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:o}));yield $i(s);const{token:l,error:d}=yield Vi(ey,a,r,t);if(l){const t=Object(ty.f)({chatMessage:s.payload.chatMessage,token:l});yield Vi(Mc,t),e&&URL.revokeObjectURL(e)}else yield Vi(_c,{chatMessage:s.payload.chatMessage,conversationId:t,transientId:s.payload.chatMessage.id,error:d})}}catch(c){Object(Yr.b)(c)}}var by=n(892);const fy={"application/pdf":by.a.PDF,"text/plain":by.a.DOCUMENT,"application/msword":by.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":by.a.WORD_DOCUMENT,"application/vnd.ms-excel":by.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":by.a.EXCEL,"application/vnd.ms-powerpoint":by.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":by.a.PRESENTATION,"application/onenote":by.a.ONENOTE,"application/json":by.a.DOCUMENT};function*py(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:o,isAttachmentMasked:i,maximumContentLength:r}=e;try{if(!(ay(a.type)||dy(a.type)||ry(a.type))){const e=i?null:URL.createObjectURL(a),c=yield Nc(),s=yield Vi(Sc.p,c.makeDocumentAttachmentMessage({attachmentProperties:{url:e,title:a.name,documentType:fy[a.type]},conversationId:t,sender:n,inReplyToChatMessageId:o}));yield $i(s);const{token:l,error:d}=yield Vi(ey,a,r,t);if(l){const t=Object(ty.f)({chatMessage:s.payload.chatMessage,token:l});yield Vi(Mc,t),e&&URL.revokeObjectURL(e)}else yield Vi(_c,{chatMessage:s.payload.chatMessage,conversationId:t,transientId:s.payload.chatMessage.id,error:d})}}catch(c){Object(Yr.b)(c)}}function*yy(e,t){try{const{isAttachmentMasked:n,maximumContentLength:a}=e,{conversationId:o,chatUserId:i,file:r,inReplyToChatMessageId:c}=t.payload,s={conversationId:o,chatUserId:i,file:r,inReplyToChatMessageId:c,isAttachmentMasked:n,maximumContentLength:a};yield Fi([Vi(iy,s),Vi(ly,s),Vi(uy,s),Vi(py,s)])}catch(n){Object(Yr.b)(n)}}var Oy=function*(){try{const{payload:{applicationConfig:e}}=yield Gi(Gr.a);yield Kr(Xf.b,yy,{isAttachmentMasked:!!e.maskAttachment,maximumContentLength:e.maximumContentLength})}catch(e){Object(Yr.b)(e)}};let vy;function*gy(e){for(;;)try{let t;yield Gi(Zr.b),vy=Date.now(),yield Gi(Zr.a),t=Date.now();(e||vy&&t-vy>=3e5)&&(vy=void 0,yield $i({type:Zr.k,payload:{}}))}catch(t){Object(Yr.b)(t)}}function*hy(){try{const e=Object(ff.a)();yield Fi([Wi(gy,e)])}catch(e){Object(Yr.b)(e)}}var jy=n(873);function*my(){try{for(;;)try{yield Gi(Sa.g);Object(_.P)()?Object(C.a)({topic:S.d}):yield $i(Object(Ee.b)())}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*Iy(){try{for(;;)try{const e=yield Gi(Sa.l),{isMediaOpen:t}=e.payload;t?Object(C.a)({topic:S.i}):Object(C.a)({topic:S.h})}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*Cy(){try{const{payload:{applicationConfig:e}}=yield Gi(Gr.a);setTimeout((()=>{const t=de()(e,"otherConfigs.theme.icons",{});dc()(t,(e=>{Object(jy.a)(e)}))}),1e4)}catch(e){Object(Yr.b)(e)}}function*Ty(){try{yield Fi([Wi(my),Wi(Iy),Wi(Cy)])}catch(e){Object(Yr.b)(e)}}var Ey=n(431),xy=n(837);function*Sy(e){try{const{user:t,userContext:n,customUser:a}=e.payload||{},o=Object(b.c)(yield Ki(Ie.h)),i=Qc.a.getId(o),r=Object(_.R)(n);if(!Ls()(a)&&Object(Kc.b)(i)||Ls()(a)&&Object(Kc.a)(t)&&!Object(Kc.b)(i)||Object(Kc.b)(i)&&Object(Kc.e)(t,o)){const e=sc()(Object(Pt.a)(),{userContext:{$merge:r},user:{$set:{...Object(Pt.a)().user||{},...t||{}}},customUser:{$set:a}});Object(Pt.f)(e);const{data:n}=yield Vi(Zc.e,{...o,...t,customContext:r,customUser:a});return yield $i(Object(u.c)({action:ct.a.USER_PROFILE_UPDATED})),void(yield $i({type:Yc.h,payload:{users:[n]}}))}const c=sc()(Object(Pt.a)(),{userContext:{$set:r},user:{$set:t},customUser:{$set:a}});return Object(Pt.f)(c),void Object(Ey.e)({shouldReboot:!0,shouldContinueSession:(!Ls()(a)||!Object(Kc.a)(t))&&!Object(Kc.b)(i)})}catch(t){Object(Yr.b)(t)}}function*_y(){try{yield Kr(xy.a,Sy)}catch(e){Object(Yr.b)(e)}}function*Ay(e,t){try{yield $i(Object(Ee.i)(e,t))}catch(n){Object(Yr.b)(n)}}function*wy(e,t,n){try{const e=yield Ki(I.b),t=Object(m.e)(e),n=Object(b.c)(yield Ki(Ie.h)).userId;let a={};dc()(t,((e,t)=>{a={...a,[t]:e.enabled}})),yield Object(xa.o)(n,a)}catch(a){yield Vi(Ay,e,n),Object(Yr.b)(a)}}function*Ry(){try{for(;;){const e=yield Gi(Sa.t),{userPreferenceKey:t,newValue:n,oldValue:a}=e.payload;yield Vi(Ay,t,n),yield Vi(wy,t,n,a)}}catch(e){Object(Yr.b)(e)}}function*My(){try{yield Fi([Wi(_y),Wi(Ry)])}catch(e){Object(Yr.b)(e)}}function*Py(){try{return vr((e=>{const t=()=>{e(Object(u.g)(!0))},n=()=>{e(Object(u.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}))}catch(e){Object(Yr.b)(e)}}function*Ny(){let e;try{for(e=yield Vi(Py);;){const t=yield Gi(e);yield $i(t)}}catch(t){Object(Yr.b)(t)}finally{e&&e.close()}}function Dy(){return vr((e=>{const t=Object(Pt.b)();if(!t)return St.a;const n=()=>{const t=Object(Lt.d)();t||e({type:Zr.b}),t&&e({type:Zr.a})};return t.document.addEventListener("visibilitychange",n),()=>{t.document.removeEventListener("visibilitychange",n)}}))}function*Ly(){let e;try{for(e=yield Vi(Dy);;){const t=yield Gi(e);yield $i(t)}}catch(t){Object(Yr.b)(t)}finally{e&&e.close()}}var ky=n(783);function*Uy(e){try{const{ssoId:t,conversationId:n,messageId:a}=e.payload;yield Object(ky.b)({ssoId:t,conversationId:n,messageId:a}),e.promise&&e.promise.resolve(),Object(Ey.e)({shouldReboot:!0,shouldContinueSession:!0})}catch(t){e.promise&&e.promise.reject()}}function*By(){try{yield Kr(Zr.c,Uy)}catch(e){Object(Yr.b)(e)}}function*Gy(){try{yield Fi([Wi(By)])}catch(e){Object(Yr.b)(e)}}let $y=!0;function*Fy(){try{for(;;)try{yield Gi(Sa.b),yield $i({type:Sa.c,payload:{}})}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*Hy(){try{for(;;)try{yield Gi(Sa.d),yield $i({type:Sa.e,payload:{}})}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*zy(e){try{var t,n;let a,o;$y=!1;const i=new Promise(((e,t)=>{a=e,o=t}));yield $i(Object(u.a)({ssoId:null===(t=e.otherConfigs)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.autoLoginSSOId})({resolve:a,reject:o})),yield i}catch(a){Object(Yr.b)(a)}finally{yield Wi(Hy),yield $i({type:Sa.d,payload:{}})}}function*Vy(){try{const{payload:{applicationConfig:e}}=yield Gi(Gr.a);if(Object(_.P)())return;if(!$y||!Object(ky.a)(e))return void(yield Wi(Hy));yield Gi(Sa.d),yield Vi(zy,e)}catch(e){Object(Yr.b)(e)}}function*Wy(){try{yield Fi([Wi(Vy),Wi(Fy)])}catch(e){Object(Yr.b)(e)}}var qy=n(517);var Xy=n(518),Ky=n(893),Yy=n(894);function*Zy(e){try{const{type:t,buttonId:n,promptId:a}=e.payload,o=yield Ki(I.d),i=Oc()(o,(e=>e.id===a));if(!i)return;t!==Yy.a.TRIGGERED&&(yield $i(function(e){return{type:qy.b,payload:{promptId:e}}}(a)));const r=Oc()(i.buttons,(e=>e.id===n));t===Yy.a.ENGAGED&&r&&r.type===Yy.b.URL&&r.value?window.open(Object(rf.d)(r.value)):t!==Yy.a.ENGAGED||r&&r.type===Yy.b.CLOSE||(yield $i(Object(Xy.b)({initialMessages:bc()([...Io()(i.messages,(e=>{let{text:t,disableManualResponse:n=!1}=e;return{message:{text:t,disableManualResponse:n}}})),r?{isSentByUser:!0,message:r.label}:void 0]),createCase:!!de()(i.additional,"createCase"),additional:{...tu()(i.additional,["interceptId","creativeId"]),interceptTargetId:n,clickedOnPrompt:!0}})())),Object(C.a)({topic:S.k,payload:{data:{type:t,id:a,button:r}}})}catch(t){Object(Yr.b)(t)}}function*Qy(){try{yield Kr(Ky.a,Zy)}catch(e){Object(Yr.b)(e)}}var Jy=n(55),eO=n.n(Jy),tO=n(895);const nO="CANCEL_ACTION_TYPE",aO=e=>{let{sessionManagedByClient:t}=e,n=null;const a=e=>{let{sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:o}=e;try{Object(tO.a)(),n=setTimeout((()=>{a({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:o})}),((e,t)=>{const n=60*e*1e3-t,a=60*e*1e3/3;return n<=a?Math.max(n-2e3,0):a})(t,o))}catch(i){Object(Yr.b)(i)}};return{startHandler:t?function*(){try{for(;;){yield $i(Object(u.c)({label:ct.a.SESSION_ACTIVE.label,action:ct.a.SESSION_ACTIVE}));const{cancel:e}=yield Hi({delay:Zi(15e3),cancel:Gi(nO)});if(e)break}}catch(e){Object(Yr.b)(e)}}:a,stopHandler:function*(){try{n&&clearTimeout(n),yield $i({type:nO,payload:{}})}catch(e){Object(Yr.b)(e)}}}};function*oO(e){let{startEvents:t,stopEvents:n}=e;try{var a,o,i;const{payload:{applicationConfig:e}}=yield Gi(Gr.a),c=e.autoExpireUserSessionTimeInMinutes,s=null===(a=e.otherConfigs.settings)||void 0===a||null===(o=a.autoExpiryConfig)||void 0===o?void 0:o.alertTime,l=c&&s,d=null===(i=e.otherConfigs.settings)||void 0===i?void 0:i.sendSessionActiveEvent;if(!l&&!d)return;const u=t.map((e=>Gi(e))),b=n.map((e=>Gi(e))),{startHandler:f,stopHandler:p}=yield Vi(aO,{sessionManagedByClient:d});try{for(;;)yield Hi(u),yield Wi(f,{sessionExpiryTimeInMinutes:c,sessionExpiryAlertTime:s}),yield Hi(b),yield Vi(p)}catch(r){Object(Yr.b)(r)}finally{yield Vi(p)}}catch(r){Object(Yr.b)(r)}}var iO=n(696);function*rO(){try{const{appId:e}=Object(Pt.a)();yield Vi(iO.a.remove,e)}catch(e){Object(Yr.b)(e)}}function*cO(e){try{const{appId:t}=Object(Pt.a)(),n=yield Vi(iO.a.get,t);yield Vi(iO.a.set,t,eO()(n,e.payload.state))}catch(t){Object(Yr.b)(t)}}function*sO(){try{yield Fi([Wi(oO,{startEvents:[bs.j,bs.n,bs.p,bs.o,bs.k,bs.l,bs.m],stopEvents:[bs.i,bs.q,bs.h,bs.r]}),Kr([bs.h,bs.i],rO),Kr(bs.k,cO)])}catch(e){Object(Yr.b)(e)}}function*lO(){try{yield Fi([Wi(oO,{startEvents:[ub.g,ub.u,ub.v],stopEvents:[ub.e,ub.c,ub.n,ub.b]})])}catch(e){Object(Yr.b)(e)}}var dO=n(430);function uO(e){return e.type===Qr.u}function bO(e){return e.type===Qr.n}function*fO(e){try{const t=yield Ki(I.h),n=Object(b.c)(t);yield Fi(e.filter(uO).map((e=>(Object(Kc.d)(n)||dO.d.emit({type:dO.a,payload:{shouldReboot:e.payload.shouldReboot}}),null))))}catch(t){Object(Yr.b)(t)}}function*pO(e){try{yield Fi(e.filter(bO).map((e=>$i({type:Sa.j,payload:e.payload}))))}catch(t){Object(Yr.b)(t)}}function*yO(e){try{const{events:t}=e.payload;yield Fi([Vi(fO,t),Vi(pO,t)])}catch(t){Object(Yr.b)(t)}}function*OO(){try{yield Kr(Zr.j,yO)}catch(e){Object(Yr.b)(e)}}var vO=n(436),gO=n.n(vO),hO=n(615);function jO(e){const t=()=>{Object(hO.a)().disconnect().then((()=>{Object(T.a)("MQTT Client | Disconnected")})).catch((e=>{Object(Vs.f)(e)?console.warn(e):console.error(`MQTT Client | Disconnection Error ${e}`)}))};try{Object(hO.a)().connect().catch((e=>{Object(Vs.f)(e)?console.warn(e):console.error(`MQTT Client | Connection Error ${e}`)})),function(){const e=Object(hO.a)();e.on("error",(()=>{Object(T.a)("MQTT Client | Error")})),e.on("offline",(()=>{Object(T.a)("MQTT Client | Offline")})),e.on("reconnect",(()=>{Object(T.a)("MQTT Client | Reconnect")})),e.on("close",(()=>{Object(T.a)("MQTT Client | Closed")}))}(),Object(hO.a)().subscribe().catch((e=>{Object(Vs.f)(e)?console.warn(e):console.error(`MQTT client | Subscribe Error ${e}`)})),Object(hO.a)().on("message",((t,n)=>{try{const t=JSON.parse(n.toString());e(t)}catch(a){Object(Yr.b)(a)}}))}catch(n){Object(Yr.b)(n),t()}return t}var mO=n(862);const IO=()=>{return"A_"+(e=Date.now(),`${Math.floor(e/1e3).toString(16)}0000000000000000`);var e},CO=mp()((()=>{let e=IO();return{set:t=>{e=t||e},get:()=>e}}));let TO=!0;const EO=e=>{let{getLastActiveTimeDifference:t,emitter:n}=e;const a=CO(),o=e=>function(e){return Object(Ic.__awaiter)(this,void 0,void 0,(function*(){const{cursor:t,lastActiveDiff:n,active:a}=e||ro.a;return(yield Br.a.post("/livechat/event/fetch-notifications"+(t?`?cursor=${t}`:""),{lastActiveDiff:n,active:a},{headers:{"x-chat-auto":!0},backoff:!0})).data}))}({cursor:a.get(),lastActiveDiff:t()}).then((e=>{const{results:t,afterCursor:o,details:i,browserTimeAtServerTime:r}=e,{SERVER_TIMESTAMP:c}=i,s={type:Sa.o,payload:{serverTimestamp:c,browserTimeAtServerTime:r}};n(null,t,{isFirstCall:TO,serverTimeDifferenceAction:s}),TO=!1,a.set(o)})).catch((t=>{e?o(e-1):n(Object(Vs.c)(t)?t:null,[],{})}));return o};function xO(e,t){let n;function a(){n&&n.stop()}try{n=function(e,t){const n=EO({getLastActiveTimeDifference:t.getLastActiveTimeDifference,emitter:e});return new mO.a(n,{...t||{},pollInterval:15e3})}(e,t),n.start()}catch{a()}return a}var SO=n(1554),_O=n(1560),AO=n(1452);const wO=Object(SO.a)(["payload","type"]),RO=Object(_O.a)("conversationId"),MO=Object(_O.a)("sender"),PO=Object(_O.a)("payload"),NO=Object(_O.a)("creationTime");class DO{}DO.getMessageType=Object(AO.a)(wO),DO.getConversationId=Object(AO.a)(RO),DO.getSender=Object(AO.a)(MO),DO.getCreationTime=Object(AO.a)(NO),DO.getPayload=e=>Object(AO.a)(PO)(e);const LO={[Qr.r]:e=>({payload:{conversationId:DO.getConversationId(e),messageId:DO.getPayload(e).messageId},type:Qr.r}),[Qr.q]:e=>({payload:{conversationId:DO.getConversationId(e),messageId:DO.getPayload(e).messageId},type:Qr.q}),[Qr.o]:e=>({payload:{...Xa()(e.payload.externalEvent,["type","action","conversationId","payload"]),actionType:DO.getPayload(e).externalEvent.action,externalParams:DO.getPayload(e).externalEvent.payload,contextId:DO.getConversationId(e)},type:Qr.o}),[Qr.s]:e=>({type:DO.getPayload(e).event.action,payload:DO.getPayload(e).event.payload?JSON.parse(DO.getPayload(e).event.payload):{}}),[Qr.k]:e=>({payload:{conversationId:DO.getConversationId(e),chatUserId:DO.getPayload(e).chatUserId},type:Qr.k}),[Qr.i]:e=>({payload:{conversationId:DO.getConversationId(e),sender:DO.getSender(e),actionTime:DO.getCreationTime(e)},type:Qr.i}),[Qr.j]:e=>({payload:{conversationId:DO.getConversationId(e),sender:DO.getSender(e),actionTime:DO.getCreationTime(e)},type:Qr.j}),[Qr.l]:e=>({payload:{conversationId:DO.getConversationId(e),sender:DO.getSender(e),closed:DO.getPayload(e).closed,deleted:DO.getPayload(e).deleted,caseNumber:DO.getPayload(e).caseNumber,caseId:DO.getPayload(e).caseId,expireAssetUntilLastMessageId:DO.getPayload(e).lastMessageId,requestClientId:null===e||void 0===e?void 0:e.requestClientId},type:Qr.l}),[Qr.d]:e=>{const t=DO.getPayload(e).audioOnly;return{payload:{videoConversationId:DO.getPayload(e).videoConversationId,conversationId:DO.getConversationId(e),participantInfos:DO.getPayload(e).participantInfos,type:t?Te.c.AUDIO:Te.c.VIDEO},type:Qr.d}},[Qr.c]:e=>({payload:{conversationId:DO.getConversationId(e),videoConversationId:DO.getPayload(e).videoConversationId},type:Qr.c}),[Qr.h]:e=>({payload:{conversationId:DO.getConversationId(e),videoCallEnabled:DO.getPayload(e).videoEnabled,audioCallEnabled:DO.getPayload(e).audioEnabled},type:Qr.h}),[Qr.g]:e=>({payload:{conversationId:DO.getConversationId(e),permissions:DO.getPayload(e).permissions,videoConversationId:DO.getPayload(e).videoConversationId},type:Qr.g}),[Qr.f]:e=>({payload:{conversationId:DO.getConversationId(e),videoConversationId:DO.getPayload(e).conversation.id,conversation:DO.getPayload(e).conversation,participant:DO.getPayload(e).participant},type:Qr.f}),[Qr.b]:e=>({payload:{conversationId:DO.getConversationId(e),videoConversationId:DO.getPayload(e).videoConversationId},type:Qr.b}),[Qr.e]:e=>({payload:{conversationId:DO.getConversationId(e),videoConversationId:DO.getPayload(e).videoConversationId},type:Qr.e}),[Qr.m]:e=>({payload:{status:DO.getPayload(e).status},type:Qr.m}),[Qr.a]:e=>{const{action:t}=DO.getPayload(e);return{payload:{additional:{conversationId:DO.getConversationId(e),actionIdentifier:t.params.actionIdentifier},request:{url:t.params.httpUrl,method:t.params.httpMethod,payload:t.params.httpPayload},id:t.params.requestId,type:t.actionType},type:Qr.a}},[Qr.n]:e=>{const{request:t,id:n}=e.payload;return{payload:{request:t,id:n,type:t.type},type:Qr.n}},[Qr.u]:e=>{const{shouldReboot:t}=DO.getPayload(e);return{payload:{shouldReboot:t},type:Qr.u}}};function kO(e){try{const t=DO.getMessageType(e),n=LO[t];if(n)return n(e)}catch(t){Object(Yr.b)(t)}}const UO=e=>{let{notificationEvents:t,currentConversationId:n,isConversationPath:a}=e;return Object(_.E)()?t.filter((e=>((e,t,n)=>{const a=de()(e.payload,"contextId")||de()(e.payload,"conversationId");return!!t&&(!a||!n||n.startsWith(Gs.e)||a===n)})(e,a,n))):t},BO=e=>e.type===Zr.a||e.type===Zr.d&&de()(e,"payload.status")===wl.a.CONNECTED,GO=(()=>{const e=new Set;return{add:t=>e.add(t),clear:()=>e.clear(),has:t=>e.has(t)}})(),$O=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t||Object(Lt.d)()?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),FO=(e,t)=>xO(((t,n,a)=>{let{isFirstCall:o,serverTimeDifferenceAction:i}=a;if(e(Object(u.g)(!t)),t)return;i&&e(i);const r=n.filter((e=>!GO.has(e.id))).map(kO).filter((e=>!!e)).filter((e=>!o||!(e=>e.type===Qr.f||e.type===Qr.d)(e)));e(r),GO.clear()}),{...t,getLastActiveTimeDifference:$O.getLastActiveTimeDifference});function HO(){return vr((e=>{const t=(e=>jO((t=>{const n=kO(t);n&&(GO.add(t.id),e(n))})))(e);return()=>{t()}}))}function zO(){return vr((e=>{const t=FO(e);return()=>{t()}}))}function VO(){return vr((e=>{const t=FO(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const WO=e=>e.type===Zr.d,qO=e=>e.type===Sa.o,XO=e=>!WO(e)&&!qO(e);function*KO(e){try{yield Fi(e.filter(WO).map((e=>$i(e))))}catch(t){Object(Yr.b)(t)}}function*YO(e){try{yield $i(gO()(e,qO))}catch(t){Object(Yr.b)(t)}}function*ZO(e){try{let t=e.filter(XO);if(Object(_.E)()){const{isConversationPath:e,conversationId:n}=yield Ki(cf.c);t=t.filter((t=>((e,t,n)=>{const a=de()(e.payload,"contextId")||de()(e.payload,"conversationId");return!!t&&(!a||!n||n.startsWith(Gs.e)||a===n)})(t,e,n)))}pe()(t)||(yield $i({type:Zr.j,payload:{events:t}}),yield $i(Object(u.e)()))}catch(t){Object(Yr.b)(t)}}function*QO(e){try{const t=Xc()(e);yield Fi([Vi(KO,t),Vi(YO,t),Vi(ZO,t)])}catch(t){Object(Yr.b)(t)}}function*JO(){try{let t,n;try{t=yield Vi(VO),n=yield Kr(t,QO),yield Gi(Zr.a)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*ev(){try{for(;;){yield Gi(Zr.b);const[e,t]=yield Hi([Gi(Zr.a),Zi(18e5)]);if(t)break}}catch(e){Object(Yr.b)(e)}}function*tv(){try{let t,n;try{t=yield Vi(zO),n=yield Kr(t,QO),yield Vi(ev)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*nv(){try{for(;;){yield Gi(Zr.b);const[e,t]=yield Hi([Gi(Zr.a),Zi(108e5)]);if(t)break}}catch(e){Object(Yr.b)(e)}}function*av(){try{let t,n;for(;;)try{yield Hi([Gi(Zr.h),Gi(Zr.a)]),t=yield Vi(HO),n=yield Kr(t,QO),yield Vi(nv)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*ov(){try{for(yield Hi([Gi(Zr.g),Gi(Zr.a)]);;)yield Vi(tv),yield Vi(JO)}catch(e){Object(Yr.b)(e)}}function*iv(){try{for(;;){const[e,t]=yield Hi([Gi(Zr.a),Gi(Zr.b)]);$O.setAppActive(!!e)}}catch(e){Object(Yr.b)(e)}}function*rv(){try{yield Gi(Gr.c),GO.clear()}catch(e){Object(Yr.b)(e)}}function*cv(){try{yield Fi([Wi(av),Wi(ov),Wi(iv),Wi(rv)])}catch(e){Object(Yr.b)(e)}}let sv=!1;const lv=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t||Object(Lt.d)()?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),dv=e=>(t,n,a)=>{let{isFirstCall:o,serverTimeDifferenceAction:i}=a;if(e(Object(u.g)(!t)),t)return;i&&e(i);const r=n.filter((e=>!GO.has(e.id))).map(kO).filter((e=>!!e)).filter((e=>!o||!(e=>e.type===Qr.f||e.type===Qr.d)(e)));e(r),GO.clear()},uv=(e,t)=>xO(dv(e),{...t,getLastActiveTimeDifference:lv.getLastActiveTimeDifference});function bv(){return vr((e=>{const t=(e=>jO((t=>{const n=kO(t);n&&(GO.add(t.id),e(n))})))(e);return()=>{t()}}))}function fv(){return vr((e=>{const t=uv(e);return()=>{t()}}))}function pv(){return vr((e=>{const t=(e=>{const t=dv(e),n=EO({getLastActiveTimeDifference:lv.getLastActiveTimeDifference,emitter:function(){t(...arguments),e(pr)}});return n(3),St.a})(e);return()=>{t()}}))}function yv(){return vr((e=>{const t=uv(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const Ov=e=>"type"in e&&e.type===Zr.d,vv=e=>"type"in e&&e.type===Sa.o,gv=e=>!Ov(e)&&!vv(e);function*hv(e){try{yield Fi(e.filter(Ov).map((e=>$i(e))))}catch(t){Object(Yr.b)(t)}}function*jv(e){try{yield $i(gO()(e,vv))}catch(t){Object(Yr.b)(t)}}function*mv(e){try{let t=e.filter(gv);const{isConversationPath:n,conversationId:a}=yield Ki(cf.c);t=UO({notificationEvents:t,isConversationPath:n,currentConversationId:a}),pe()(t)||(yield $i({type:Zr.j,payload:{events:t}}))}catch(t){Object(Yr.b)(t)}}function*Iv(e){try{const t=Xc()(e);yield Fi([Vi(hv,t),Vi(jv,t),Vi(mv,t)])}catch(t){Object(Yr.b)(t)}}function*Cv(){try{let t,n;try{sv=!0,t=yield Vi(yv),n=yield Kr(t,Iv),yield Gi(Zr.a)}catch(e){}finally{sv=!1,t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*Tv(){try{for(;;){yield Gi(Zr.b);const[e,t]=yield Hi([Gi(Zr.a),Zi(18e5)]);if(t)break}}catch(e){Object(Yr.b)(e)}}function*Ev(){try{let t,n;try{sv=!0,t=yield Vi(fv),n=yield Kr(t,Iv),yield Vi(Tv)}catch(e){}finally{sv=!1,t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*xv(){try{for(;;){yield Gi(Zr.b);const[e,t]=yield Hi([Gi(Zr.a),Zi(108e5)]);if(t)break}}catch(e){Object(Yr.b)(e)}}function*Sv(){try{let t,n;for(;;)try{yield Hi([Gi(Zr.h),Gi(Zr.a)]),t=yield Vi(bv),n=yield Kr(t,Iv),yield Vi(xv)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Xi(n))}}catch(t){Object(Yr.b)(t)}}function*_v(){try{for(yield Gi(Zr.g);;)yield Vi(Ev),yield Vi(Cv)}catch(e){Object(Yr.b)(e)}}function*Av(){try{const e=yield Vi(pv);for(;;){const t=yield Gi(e);yield Wi(Iv,t)}}catch(e){Object(Yr.b)(e)}}function*wv(){try{for(;;)sv||(yield Vi(Av)),yield Gi(BO)}catch(e){Object(Yr.b)(e)}}function*Rv(){try{for(;;){const[e,t]=yield Hi([Gi(Zr.a),Gi(Zr.b)]);lv.setAppActive(!!e)}}catch(e){Object(Yr.b)(e)}}function*Mv(){try{yield Gi(Gr.c),GO.clear()}catch(e){Object(Yr.b)(e)}}function*Pv(){try{yield Fi([Wi(wv),Wi(Sv),Wi(_v),Wi(Rv),Wi(Mv)])}catch(e){Object(Yr.b)(e)}}function*Nv(){try{var e;const{payload:{applicationConfig:t}}=yield Gi(Gr.a);!(null===(e=t.otherConfigs.settings)||void 0===e||!e.delayInitializePoller)?yield Wi(Pv):yield Wi(cv)}catch(t){Object(Yr.b)(t)}}var Dv=n(479);function Lv(e){return e.type===Qr.a}function*kv(e){try{yield Fi(e.filter(Lv).map((e=>$i({type:Dv.a,payload:e.payload}))))}catch(t){Object(Yr.b)(t)}}function*Uv(e){try{const{events:t}=e.payload;yield Fi([Vi(kv,t)])}catch(t){Object(Yr.b)(t)}}function*Bv(){try{yield Kr(Zr.j,Uv)}catch(e){Object(Yr.b)(e)}}const Gv=new(n(656).a),$v=async e=>{const{method:t="GET",url:n="",payload:a=ro.a,headers:o=ro.a}=e;let i,r;try{const e="POST"===t||"PUT"===t?await Gv[t.toLowerCase()](n,a,{withCredentials:!0,headers:o}):await Gv[t.toLowerCase()](n,{withCredentials:!0,headers:o});i=e.request.status,r=e.request.responseText}catch(c){Object(Yr.b)(c),Object(Vs.f)(c)?(i=c.request.status,r=c.request.responseText):(i=500,r="")}return{status:i,responseText:r}},Fv=async e=>{const{status:t,responseText:n}=await $v(e.request);await Br.a.post("livechat/conversation/process-endpoint-response",{status:t,response:n,id:e.id})},Hv=async e=>{const{request:t,additional:n,id:a}=e,{status:o,responseText:i}=await $v(t);await Br.a.post(`/livechat/cart/on-add-to-cart/${n.conversationId}`,{status:o,responseText:i,actionIdentifier:n.actionIdentifier,requestId:a})},zv=e=>Br.a.post("/livechat/cart/update-cart",e),Vv=e=>Br.a.post("/livechat/cart/remove-from-cart",e);function*Wv(e){try{const{type:t,request:n,additional:a,id:o}=e.payload;"HTTP_REQUEST"===t&&(yield Vi(Hv,{request:n,additional:a,id:o}))}catch(t){Object(Yr.b)(t)}}function*qv(){try{yield Kr(Dv.a,Wv)}catch(e){Object(Yr.b)(e)}}var Xv=n(476);const Kv={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},Yv={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Kv,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},Zv={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Kv,quantity:{type:"number"}}}}};function*Qv(e){try{const n=(t=e.payload,Object(Xv.a)(t,Yv));if(n)return void Object(T.a)("Invalid payload passed to update cart, please check",n);yield Vi(zv,e.payload)}catch(n){Object(Yr.b)(n)}var t}function*Jv(){try{yield Kr(Dv.c,Qv)}catch(e){Object(Yr.b)(e)}}function*eg(e){try{const n=(t=e.payload,Object(Xv.a)(t,Zv));if(n)return void Object(T.a)("Invalid payload passed to remove from cart, please check",n);yield Vi(Vv,e.payload)}catch(n){Object(Yr.b)(n)}var t}function*tg(){try{yield Kr(Dv.b,eg)}catch(e){Object(Yr.b)(e)}}function*ng(){try{yield Fi([Wi(Bv),Wi(qv),Wi(Jv),Wi(tg)])}catch(e){Object(Yr.b)(e)}}function*ag(e){try{const{type:t,request:n,id:a}=e.payload;"HTTP_REQUEST"===t&&(yield Vi(Fv,{request:n,id:a}))}catch(t){Object(Yr.b)(t)}}function*og(){try{yield Kr(Sa.j,ag)}catch(e){Object(Yr.b)(e)}}var ig=n(19),rg=n.n(ig),cg=n(674),sg=n(672),lg=n(841),dg=n(596),ug=n(840);var bg=async e=>{let t,{applicationConfig:a,preloadedState:o}=e;try{dg.a.reset(),Object(sg.e)(sg.a.PENDING),t=await Object(cg.b)(Object(Pt.a)()),Object(cg.h)({handshakeDetails:t}),Object(lg.b)(t.chatUser),a.hasPrompts&&n.e(55).then(n.bind(null,1525)).then((e=>{let{default:n}=e;n(a,t)})),Ig(null,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(Pt.a)(),subscribeToEvent:cg.f,preloadedState:o})}catch(i){const e=zp.a.getUserSettings(Object(Pt.a)());Object(Vs.e)(i)&&e&&ug.a.getOneTimeToken(e)?Ig(i,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(Pt.a)(),subscribeToEvent:cg.f,preloadedState:o}):await Object(cg.e)()}};function*fg(){try{const{payload:{applicationConfig:t}}=yield Gi(Gr.a);for(;;)try{const{payload:{shouldContinueSession:e}}=yield Gi(Gr.b);let n;e&&(n=yield Ki(rg.a)),yield bg({applicationConfig:t,preloadedState:n})}catch(e){Object(Yr.b)(e)}}catch(e){Object(Yr.b)(e)}}function*pg(){try{yield Fi([Wi(Rf),Wi(Qy),Wi(Hp),Wi(Zp),Wi(Oy),Wi(Ny),Wi(Ly),Wi(hy),Wi(My),Wi(Gf),Wi(sO),Wi(lO),Wi(OO),Wi(Nv),Wi(ng),Wi(og)])}catch(e){Object(Yr.b)(e)}}function*yg(){try{yield Gi(Gr.c),Object(cg.d)()}catch(e){Object(Yr.b)(e)}}function*Og(){try{yield Fi([Wi(Ty),Wi(fg),Wi(Wy),Wi(Gy),Wi(yg)])}catch(e){Object(Yr.b)(e)}}function*vg(){try{yield Wi(Og);const e=yield Wi(pg);yield Gi(Gr.c),yield Zi(0),yield Xi(e)}catch(e){Object(Yr.b)(e)}}function*gg(){try{yield Fi([Wi(af),Wi(vg)])}catch(e){console.log(e)}}const hg=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(new $r).setReducer(I.a).setSaga(gg).setPreloadedState(a).setHTTPClient(Qp.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build()};function jg(e){let{applicationConfig:t,store:n,history:a}=e;const o=Object(Pt.b)().document,i=Object(_.P)()?_.b:_.c;r.a.render(Object(c.jsx)(wo,{applicationConfig:t,history:a,store:n}),i(o,Oo.a))}function mg(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:o,subscribeToEvent:i}=t;const r=hg(n,a,o),c=Object(of.b)({isUnauthorized:!!e});Object(hO.b)(a,n);i((t=>{e||r.dispatch(t)})),jg({applicationConfig:n,store:r,history:c})}function Ig(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:o,subscribeToEvent:i,preloadedState:r}=t;const c=hg(n,a,o,r),s=Object(of.b)({isUnauthorized:!!e,reset:!r});Object(hO.b)(a,n);i((t=>{e||c.dispatch(t)})),jg({applicationConfig:n,store:c,history:s}),r?s.goBack():s.go(s.entries.length-1)}},768:function(e,t,n){"use strict";n.d(t,"b",(function(){return qe})),n.d(t,"a",(function(){return Ke}));var a=n(596),o=n(257),i=n(671),r=n(672),c=n(836),s=n(366),l=n(275),d=n.n(l),u=n(31),b=n.n(u),f=n(321);const p="APP_AVAILABLE",y="APP_IN_SESSION";var O=n(0),v=n(1);function g(e,t){const n=Object(O.R)(t);if(b()(n))return;const a=d()(Object(v.a)(),{userContext:{$merge:n}});Object(v.f)(a),e({type:f.g,payload:n})}g.dependecies=[y];var h=n(837);function j(e,t){e({type:h.a,payload:t})}j.dependecies=[y];var m=n(246),I=n(227);function C(e){e({type:m.f,payload:I.a})}function T(e,t,n){new Promise(((n,a)=>{e({type:m.m,payload:null!==t&&void 0!==t?t:I.a,promise:{resolve:n,reject:a}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}C.dependecies=[y],T.dependecies=[p];var E=n(364),x=n.n(E),S=n(216),_=n.n(S),A=n(649);const w=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a,newSubscriber:o}=e;return Object(A.b)(_.a,{topic:t,subscriber:o}),n.push({legacySubscriber:a,newSubscriber:o}),n},R=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a}=e;const o=x()(n,(e=>{let{legacySubscriber:t}=e;return t===a}));return-1!==o&&(Object(A.c)(_.a,{topic:t,subscriber:n[o].newSubscriber}),n.splice(o,1)),n};var M=n(252);function P(e){Object(O.Q)()&&e({type:m.b,payload:I.a})}P.dependecies=[p];let N=[];var D=n(8),L=n.n(D);let k=[];let U=[];var B=n(517);function G(e,t){e({type:B.a,payload:t})}function $(e,t){e({type:B.b,payload:{promptId:t.id}})}G.dependecies=[y,p],$.dependecies=[y];let F=[];var H=n(2),z=n.n(H),V=n(5),W=n.n(V),q=n(280),X=n(518),K=n(433);function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=z()(t)?t:L()(t,"initialMessages");new Promise(((a,o)=>{e(Object(X.b)({initialMessages:n,conversationContext:L()(t,"conversationContext"),assignToUser:L()(t,"assignToUser"),createCase:!!L()(t,"autoInitiateConversation"),additional:!z()(t)&&W()(t)?{...t.additional,externalCaseId:t.id}:void 0,silent:!!L()(t,"silent")})({resolve:a,reject:o}))})).then((e=>{Object(q.a)({topic:K.M,payload:{data:{conversationId:e},request:t}})})).catch((e=>{Object(q.a)({topic:K.M,payload:{error:e,request:t}})}))}Y.dependecies=[y,p];var Z=n(349);function Q(e,t){const n=Object(Z.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}Q.dependecies=[p];var J=n(270),ee=n.n(J),te=n(241);function ne(e,t){ee()(t.payload)?Object(q.a)({topic:K.R,payload:{error:s.a.INCORRECT_PAYLOAD,request:t}}):e({type:te.z,payload:t})}ne.dependecies=[y,p];var ae=n(673);function oe(e,t){const n={...t,context:Object(O.R)(t.context)};new Promise(((a,o)=>{const i=t.conversationId;ae.a.info({chatConversationId:i,message:`${i}: updateConversationContext SDK called`,additionalDetails:{params:n}}),e({type:te.k,payload:n,promise:{resolve:a,reject:o}})})).then((e=>{Object(q.a)({topic:K.X,payload:{data:e,request:{...n,conversationId:n.conversationId||e.conversationId},shouldLogEvent:!0}})})).catch((e=>{Object(q.a)({topic:K.X,payload:{error:e,request:n,shouldLogEvent:!0}})}))}function ie(e,t){const n=Object(O.R)(t);if(b()(n))return;const a=d()(Object(v.a)(),{clientContext:{$merge:n}});Object(v.f)(a),e({type:te.e,payload:{context:n}})}oe.dependecies=[y],ie.dependecies=[p];let re=[];let ce=[];let se=[];let le=[];function de(e){Object(O.Q)()&&e({type:m.i,payload:I.a})}function ue(e){Object(O.Q)()&&e({type:m.h,payload:I.a})}de.dependecies=[y],ue.dependecies=[p];let be=[];var fe=n(479);function pe(e,t){e({type:fe.c,payload:t})}function ye(e,t){e({type:fe.b,payload:t})}pe.dependecies=[y],ye.dependecies=[y];var Oe=n(81),ve=n.n(Oe),ge=n(262),he=n(476);he.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const je={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},me=Object.assign(Object.assign({},je),{deviceToken:{type:"string",presence:!0}});function Ie(e,t){if(t.appVersion=ve()(t.appVersion),n=t,Object(he.a)(n,me))throw Object(o.a)("Invalid device registration payload",t),new Error(s.a.INCORRECT_PAYLOAD);var n;return ge.a.post("/livechat/event/push/register-device",t).then((()=>({}))).catch((()=>{throw new Error(s.a.NETWORK_FAILURE)}))}Ie.dependecies=[y];let Ce=[];function Te(e,t){if(t.appVersion=ve()(t.appVersion),n=t,Object(he.a)(n,je))throw Object(o.a)("Invalid device unregistration payload",t),new Error(s.a.INCORRECT_PAYLOAD);var n;return ge.a.post("/livechat/event/push/unregister-device",t).then((()=>({}))).catch((()=>{throw new Error(s.a.NETWORK_FAILURE)}))}Te.dependecies=[y];let Ee=[];let xe=[];var Se=n(305),_e=n(199);function Ae(e,t){const{type:n,...a}=t;switch(n){case Se.r:{const t=a.cId;new Promise(((n,a)=>{e(Object(X.a)({conversationId:t},{resolve:n,reject:a}))})).catch((e=>{Object(_e.b)(e)}));break}}}Ae.dependecies=[y,p];var we=n(33),Re=n.n(we);const Me=e=>{Le(_.a,e)};let Pe=null,Ne=Me;function De(e,t){Re()(t)&&(Ne=t)}function Le(e,t){Pe&&(Pe(t),Pe=null)}Object(A.b)(_.a,{topic:M.j,subscriber:e=>{let{response:t}=e;const{data:n={}}=t||{},{callBack:a,permissions:o}=n;Pe=a,Ne(o)}});const ke=(e,t,n)=>{e({type:m.a,payload:{id:t.id,filters:t.filters,cb:n}})};ke.dependecies=[y];const Ue=(e,t)=>{e({type:m.n,payload:{id:t.id}})};Ue.dependecies=[y];const Be=e=>{ge.a.post("/livechat/conversation/fetchAgentAvailabilityDetails").then((e=>{Object(q.a)({topic:K.g,payload:{data:e.data}})})).catch((()=>{Object(q.a)({topic:K.g,payload:{error:s.a.NETWORK_FAILURE}})}))};Be.dependecies=[y];var Ge=n(432);function $e(e,t){new Promise(((n,a)=>{const o=W()(t)?t:{conversationId:t};o.externalCaseId&&o.conversationId?a(Ge.a.NOT_ACCEPTABLE):e(Object(X.a)(o,{resolve:n,reject:a}))})).catch((e=>{Object(_e.b)(e)}))}$e.dependecies=[y,p];var Fe=n(839);function He(e,t,n){new Promise(((n,a)=>{e({type:f.f,payload:{locale:t},promise:{resolve:n,reject:a}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}He.dependecies=[y,p];var ze=n(16);const Ve={[K.ab]:[g],[K.bb]:[j],[K.K]:[T],[K.d]:[P],[K.J]:[function(e,t){k=w({topic:M.m,legacySubscriberMap:k,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(L()(n,"count"))}})}],[K.v]:[function(e,t){k=R({topic:M.m,legacySubscriberMap:k,legacySubscriber:t})}],[K.D]:[function(e,t){U=w({topic:M.g,legacySubscriberMap:U,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],[K.q]:[function(e,t){U=R({topic:M.g,legacySubscriberMap:U,legacySubscriber:t})}],[K.y]:[function(e,t){N=w({topic:M.d,legacySubscriberMap:N,legacySubscriber:t,newSubscriber:()=>{t()}})}],[K.l]:[function(e,t){N=R({topic:M.d,legacySubscriberMap:N,legacySubscriber:t})}],[K.f]:[de],[K.e]:[ue],[K.x]:[function(e,t){xe=w({topic:M.c,legacySubscriberMap:xe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}})}],[K.k]:[function(e,t){xe=R({topic:M.c,legacySubscriberMap:xe,legacySubscriber:t})}],[K.S]:[A.b],[K.U]:[A.c],[K.a]:[ke],[K.P]:[Ue],[K.N]:[G],[K.b]:[$],[K.G]:[function(e,t){F=w({topic:M.k,legacySubscriberMap:F,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],[K.s]:[function(e,t){F=R({topic:M.k,legacySubscriberMap:F,legacySubscriber:t})}],[K.M]:[Y],[K.R]:[ne],[K.c]:[C],[K.X]:[oe],[K.W]:[ie],[K.Z]:[function(e,t,n){new Promise(((n,a)=>{const o=Object(v.a)().skin===ze.a;!t||!O.a.includes(t)||o&&"DARK"===t?a(s.a.INCORRECT_PAYLOAD):(Object(v.f)({themeMode:t}),e({type:m.r,payload:{themeMode:t},promise:{resolve:n,reject:a}}))})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}],[K.I]:[function(e,t){se=w({topic:M.i,legacySubscriberMap:se,legacySubscriber:t,newSubscriber:()=>{t()}})}],[K.u]:[function(e,t){se=R({topic:M.i,legacySubscriberMap:se,legacySubscriber:t})}],[K.z]:[function(e,t){le=w({topic:M.h,legacySubscriberMap:le,legacySubscriber:t,newSubscriber:()=>{t()}})}],[K.m]:[function(e,t){le=R({topic:M.h,legacySubscriberMap:le,legacySubscriber:t})}],[K.C]:[function(e,t){be=w({topic:M.e,legacySubscriberMap:be,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],[K.p]:[function(e,t){be=R({topic:M.e,legacySubscriberMap:be,legacySubscriber:t})}],[K.g]:[Be],[K.L]:[$e],[K.cb]:[function(e,t){const n=t.details.status;Fe.a[n]?e({type:m.s,payload:t}):(Object(o.a)("Invaild status code",n),Object(q.a)({topic:m.s,payload:{data:t,error:s.a.INCORRECT_PAYLOAD}}))}],[K.Y]:[He],[K.V]:[pe],[K.Q]:[ye],[K.O]:[Ie,function(e,t){Object(q.a)({topic:M.l,payload:{data:t,error:e}})}],[K.A]:[function(e,t){Ce=w({topic:M.l,legacySubscriberMap:Ce,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],[K.n]:[function(e,t){Ce=R({topic:M.l,legacySubscriberMap:Ce,legacySubscriber:t})}],[K.T]:[Te,function(e,t){Object(q.a)({topic:M.n,payload:{data:t,error:e}})}],[K.B]:[function(e,t){Ee=w({topic:M.n,legacySubscriberMap:Ee,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],[K.o]:[function(e,t){Ee=R({topic:M.n,legacySubscriberMap:Ee,legacySubscriber:t})}],[K.w]:[function(e,t){re=w({topic:M.a,legacySubscriberMap:re,legacySubscriber:t,newSubscriber:()=>{t()}})}],[K.j]:[function(e,t){re=R({topic:M.a,legacySubscriberMap:re,legacySubscriber:t})}],[K.E]:[function(e,t){ce=w({topic:M.b,legacySubscriberMap:ce,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],[K.r]:[function(e,t){ce=R({topic:M.b,legacySubscriberMap:ce,legacySubscriber:t})}],[K.h]:[Q],[K.F]:[Ae],[K.H]:[De],[K.t]:[function(e){De(0,Me)}],[K.i]:[Le]},We=async()=>{if(!c.a.isEmpty()){const[e,...t]=c.a.popNextCmd();await Ke(c.a.getBufferQueue(),e,...t),await We()}},qe=async()=>{c.a.isFlushingInProgress()?c.a.setIsReFlushPending(!0):(c.a.setIsFlushingInProgress(!0),await We(),c.a.setIsFlushingInProgress(!1),c.a.isEmpty(c.a.getBufferQueue())||c.a.move(c.a.getBufferQueue(),c.a.getQueue()),c.a.isReFlushPending()&&(c.a.setIsReFlushPending(!1),await qe()))};async function Xe(e,t,n){if(!t)return;for(var i=arguments.length,r=new Array(i>3?i-3:0),c=3;c<i;c++)r[c-3]=arguments[c];const s=[a.a.emit.bind(a.a),...r];try{const e=await t(...s);n&&n(void 0,e)}catch(l){Object(o.a)(l),n&&n(l)}}async function Ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.getQueue(),t=arguments.length>1?arguments[1]:void 0;const n=Ve[t]&&Ve[t][0],a=Ve[t]&&Ve[t][1],o=n&&n.dependecies&&n.dependecies.includes(p),l=n&&n.dependecies&&n.dependecies.includes(y);for(var d=arguments.length,u=new Array(d>2?d-2:0),b=2;b<d;b++)u[b-2]=arguments[b];if(l||o)return o&&!l?Object(i.b)()?void(a&&a(s.a.CHAT_UNAVAILABLE)):Object(i.a)()?void c.a.addCmdToQueue(e,[t,...u]):void Xe(t,n,a,...u):l&&!o?Object(r.c)()||Object(r.b)()?void(a&&a(s.a.CHAT_UNAVAILABLE)):Object(r.d)()?void c.a.addCmdToQueue(e,[t,...u]):void Xe(t,n,a,...u):void(Object(r.c)()||Object(r.b)()||Object(i.b)()?a&&a(s.a.CHAT_UNAVAILABLE):Object(r.d)()||Object(i.a)()?c.a.addCmdToQueue(e,[t,...u]):Xe(t,n,a,...u));Xe(t,n,a,...u)}},783:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(290),o=n(1),i=n(294),r=n(431),c=n(659);const s=async e=>{let{ssoId:t,conversationId:n,messageId:r}=e;const c=await(async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const{appId:r}=Object(o.a)(),c=[{key:"idpId",value:t},{key:"x-chat-token",value:await Object(i.a)(r)}];return n&&c.push({key:"conversationId",value:n}),a&&c.push({key:"messageId",value:a}),c})({ssoId:t,conversationId:n,messageId:r});return`https://www.samsung.com/chat/api/livechat/authenticate/begin?${Object(a.f)(c)}`},l=e=>{var t,n,a;return(null===(t=Object(o.a)().user)||void 0===t?void 0:t.isSSOAuthorized)&&!(null===(n=e.otherConfigs)||void 0===n||null===(a=n.settings)||void 0===a||!a.autoLoginSSOId)},d=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const l=(e=>{const t=screen.width/2,n=screen.height/2,a=t-t/2,o=n-n/2;return window.open(e,"_blank",`height=${n},width=${t},top=${o},left=${a}`)})(await s({ssoId:t,conversationId:n,messageId:a}));return Object(c.a)({src:`https://live-chat-static.sprinklr.com/api/livechat/authenticate/listener.html?appId=${Object(o.a)().appId}`,id:"subscriberIframe"}),new Promise(((e,t)=>{let n,a;a=Object(r.d)("/logout",(()=>{s(),t()})),n=setInterval((()=>{l&&l.closed&&(s(),t())}),1500);const c=async n=>{if(n.origin.match(/(sprinklr\.com)/g)&&"string"===typeof n.data)try{const{params:t}=JSON.parse(n.data);await Object(i.l)(Object(o.a)().appId,t.authToken),e(t)}catch{t()}finally{s()}},s=()=>{clearInterval(n),a&&a(),window.removeEventListener("message",c)};window.addEventListener("message",c)})).finally((()=>{l&&l.close(),(()=>{const e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)})()}))}},784:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return g}));var a=n(191),o=n(197),i=n(31),r=n.n(i),c=n(208),s=n(385);var l=n(696),d=n(205),u=n(1),b=n(199),f=n(411),p=n(210),y=n(308),O=n(192);const v=Object(p.a)((()=>Promise.all([n.e(0),n.e(1),n.e(57)]).then(n.bind(null,1530)))),g=Object(p.a)((()=>Promise.all([n.e(0),n.e(6),n.e(16)]).then(n.bind(null,1539))));t.c=e=>{let{parentFrameRef:t}=e;const n=Object(o.d)(d.f),i=Object(c.a)(f.q),p=!function(e){const t=Object(a.useRef)();return Object(a.useEffect)((()=>{t.current=e}),[e]),t.current}(Object(s.a)()),{appId:h}=Object(a.useMemo)((()=>Object(u.a)()),[]);return Object(a.useEffect)((()=>{if(!p)return;(async()=>{try{const e=await l.a.get(h);if(e){const{type:t}=e;Object(u.e)()("open"),i({state:{...e,type:null!==t&&void 0!==t?t:y.a.REQUEST}})}}catch(e){Object(b.b)(e)}})()}),[i,h,p]),r()(n)?null:Object(O.jsx)(a.Suspense,{fallback:null},n.type===y.a.REQUEST?Object(O.jsx)(v,null):Object(O.jsx)(g,{parentFrameRef:t}))}},786:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return j})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return I}));var a=n(193),o=n(192),i=n(367),r=n.n(i),c=n(376),s=n(195),l=n(409),d=n(244),u=n(297);const b=e=>{let{theme:t,triggerWidth:n,triggerHeight:a,triggerXpadding:o,triggerYpadding:i,isTriggerHiddenWhenMaximised:r,triggerTopOffsetBeforeReposition:c}=e;const l=Object(s.e)("frame.align")({theme:t}),d=Object(s.e)("frame.alignTo")({theme:t}),b=Object(s.e)("frame.sXMargin")({theme:t}),f=Object(s.e)("frame.sYMargin")({theme:t}),p="L"===l.slice(-1)?u.b.LEFT:u.b.RIGHT,y=(e=>{let{isTriggerHiddenWhenMaximised:t,alignType:n,frameSYMargin:a,triggerHeight:o,triggerYpadding:i,alignTo:r=u.d.TRIGGER,triggerTopOffsetBeforeReposition:c}=e;if(r===u.d.VIEWPORT)return a;if(t&&void 0===c)return i;const s=n===u.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||n===u.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;return null!=c?c+(t?0:o+a):s?i+a:o+i+a})({triggerYpadding:i,triggerTopOffsetBeforeReposition:c,triggerHeight:a,isTriggerHiddenWhenMaximised:r,frameSYMargin:f,alignType:l,alignTo:d}),O=(e=>{let{alignType:t,frameSXMargin:n,triggerWidth:a,triggerXpadding:o,alignTo:i=u.d.TRIGGER}=e;if(i===u.d.VIEWPORT)return n;switch(t){case u.c.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case u.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:case u.c.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case u.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return a+o+n;case u.c.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:case u.c.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return o+n}})({alignType:l,frameSXMargin:b,triggerWidth:n,triggerXpadding:o,alignTo:d});return{xEdgeToAlign:p,xOffset:O,yOffset:y,triggerTopOffsetBeforeReposition:c}},f=e=>{let{yOffset:t,xEdgeToAlign:n,xOffset:a,theme:o,isMaximized:i,triggerTopOffsetBeforeReposition:r}=e;const c=`calc(100% - ${t}px)`;return` \n    ${null!=r?`top: ${r}px;`:`bottom: ${t}px;`}\n    height: ${c};\n    max-height: ${i?c:Object(s.e)("frame.height")({theme:o})};\n    ${n}: ${a}px;\n    max-width: calc(100% - ${a}px);\n    min-width: 200px;\n    transform-origin: ${null!=r?`top ${n}`:`bottom ${n}`};\n    width: ${i?`${Object(s.e)("frame.maximizedWidth")({theme:o})}px`:`${Object(s.e)("frame.width")({theme:o})}px`};\n    `};const p=200,y=Object(a.a)("div",{target:"e19bzbh60"})("position:fixed;box-sizing:border-box;z-index:",(e=>Object(s.e)("frame.zIndex")(e)),";padding:",(e=>Object(s.h)("frame.margin")(e)),";transform:",(e=>`translateZ(${Object(s.e)("frame.translateZ")(e)}px)`),";",(e=>(e=>{const t=Object(d.c)(Object(s.e)("frame.marginTop")({theme:e})),n=Object(d.c)(Object(s.e)("frame.marginBottom")({theme:e})),a=Object(d.c)(Object(s.e)("frame.marginLeft")({theme:e})),o=Object(d.c)(Object(s.e)("frame.marginRight")({theme:e}));return r()([t,n,a,o],(e=>e>0))})(e.theme)&&`background-color: ${Object(l.j)(Object(s.e)("frame.overlay.opacity")(e),Object(s.e)("frame.overlay.backgroundColour")(e))};`),";"),O=Object(a.a)(y,{target:"e19bzbh61"})((e=>{let{theme:t,isMaximized:n,isPhone:a,triggerPosition:o,triggerTopOffsetBeforeReposition:i,isTriggerHiddenWhenMaximised:r}=e;return(e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o,triggerPosition:i,triggerTopOffsetBeforeReposition:r}=e;if(o)return"\n    height: 100%;\n    width: 100vw;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  ";const c=Object(s.e)("trigger.size")({theme:n}),l=b({theme:n,isTriggerHiddenWhenMaximised:t,triggerWidth:c,triggerHeight:i.height,triggerXpadding:i[i.edge],triggerTopOffsetBeforeReposition:r,triggerYpadding:i.bottom});return f({...l,theme:n,isMaximized:a})})({theme:t,isMaximized:n,isPhone:a,triggerPosition:o,triggerTopOffsetBeforeReposition:i,isTriggerHiddenWhenMaximised:r})}),""),v=Object(a.a)(y,{target:"e19bzbh62"})((e=>{let{theme:t,isMaximized:n,isPhone:a,triggerPosition:o,isTriggerHiddenWhenMaximised:i}=e;return(e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:o,triggerPosition:i}=e;const r="L"===Object(s.e)("frame.align")({theme:n}).slice(-1)?u.b.LEFT:u.b.RIGHT,{xOffset:c,yOffset:l}=b({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:i.height,triggerWidth:i.width,triggerXpadding:r===u.b.LEFT?i.left:i.right,triggerYpadding:i.bottom});if(o)return`\n      top: 0;\n      bottom: ${l}px;\n      ${r}: ${c}px;\n      ${r===u.b.LEFT?u.b.RIGHT:u.b.LEFT}: 0;\n      width: calc(100vw - ${c}px);\n      height: calc(100% - ${l}px);\n      min-width: calc(100vw - ${c}px);\n      max-width:  100vh;\n      max-height: 100vh;\n    `;return f({xEdgeToAlign:r,xOffset:c,yOffset:l,theme:n,isMaximized:a})})({theme:t,isMaximized:n,isPhone:a,triggerPosition:o,isTriggerHiddenWhenMaximised:i})}),""),g=Object(a.a)("div",{target:"e19bzbh63"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:",(e=>Object(s.e)("frame.boxShadow")(e)),";border-radius:",(e=>Object(s.e)("frame.borderRadius")(e)),";",(e=>{const t=Object(d.c)(Object(s.e)("frame.marginTop")(e)),n=Object(d.c)(Object(s.e)("frame.marginBottom")(e)),a=Object(d.b)(Object(s.e)("frame.borderRadius")(e)),o=t>0?a[0]:0,i=t>0?a[1]:0,r=n>0?a[2]:0,c=n>0?a[3]:0;return e.isPhone&&`\n    border-radius: ${o}px ${i}px ${r}px ${c}px;\n    box-shadow: none;`}),";"),h="spr-chat-box-anim",j=Object(a.a)(c.a,{target:"e19bzbh64"})({name:"u9q5m7",styles:"border:0 none;height:100%;width:100%;position:absolute;bottom:0;"}),m=e=>Object(o.css)(e.isPhone?(e=>Object(o.css)(`\n  .spr-chat__box.${h}-enter {\n    opacity: 0;\n    transform: translateZ(${Object(s.e)("frame.translateZ")(e)}px) translateY(20px) ;\n  }\n\n  .spr-chat__box.${h}-enter.${h}-enter-active {\n    opacity: 1;\n    transform: translateZ(${Object(s.e)("frame.translateZ")(e)}px) translateY(0px) ;\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n\n  .spr-chat__box.${h}-enter-done {\n    transform: translateZ(${Object(s.e)("frame.translateZ")(e)}px) ;\n  }\n\n  .spr-chat__box.${h}-exit {\n    opacity: 1;\n    transform: translateZ(${Object(s.e)("frame.translateZ")(e)}px) translateY(0);\n  }\n  .spr-chat__box.${h}-exit.${h}-exit-active {\n    opacity: 0;\n    transform: translateZ(${Object(s.e)("frame.translateZ")(e)}px) translateY(20px);\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n`,""))(e):(e=>`\n.spr-chat__box.${h}-enter {\n  opacity: 0;\n  transform: scale(0) translateZ(${Object(s.e)("frame.translateZ")(e)}px) translateY(20px);\n}\n.spr-chat__box.${h}-enter.${h}-enter-active {\n  opacity: 1;\n  transform: scale(1) translateZ(${Object(s.e)("frame.translateZ")(e)}px);\n  transition: opacity 0.16s ease-out 0s, transform  0.2s cubic-bezier(0.4, 0.5, 0.7, 0.7);\n}\n.spr-chat__box.${h}-enter-done {\n  transform: scale(1) translateZ(${Object(s.e)("frame.translateZ")(e)}px);\n}\n.spr-chat__box.${h}-exit {\n  opacity: 1;\n  transform: scale(1) translateZ(${Object(s.e)("frame.translateZ")(e)}px);\n}\n.spr-chat__box.${h}-exit.${h}-exit-active {\n  opacity: 0;\n  transform: scale(0) translateZ(${Object(s.e)("frame.translateZ")(e)}px);\n  transition: opacity 0.16s ease-out 0s, transform  0.2s cubic-bezier(0.2, 0.2, 0.8, 0.8);\n}\n`)(e),""),I={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"}},787:function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return E}));var a=n(49),o=n.n(a),i=n(1236),r=n.n(i),c=n(5),s=n.n(c),l=n(31),d=n.n(l),u=n(319),b=n.n(u),f=n(262),p=n(1),y=n(290),O=n(235);const v="x-chat-token",g=e=>{let{data:t,url:n}=e,a="";return d()(t)||o()(t,(function(e,t){t!==v&&(a+=`${encodeURIComponent(t)}=${encodeURIComponent(s()(e)?JSON.stringify(e):e)}&`)})),a?`${n}?${a.slice(0,-1)}`:n};const h=e=>{var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)};async function j(e){const{webview:t}=Object(p.a)();if(t){const{url:t,data:n={}}=e,a=g({url:t,data:{...n,generateUrl:!0}}),{data:{fileName:o,url:i}}=await f.a.post(a),r=document.createElement("a");r.setAttribute("href",`livechat-app:url=${Object(y.a)(i,[{key:"fileName",value:o}])}`),r.style.display="none",document.body.appendChild(r),r.click(),setTimeout((()=>h(r)),3e4)}else{const t=function(e){let{url:t,data:n,method:a=O.a.POST,contentType:o}=e;const i=b()(),c=document.createElement("form"),{body:s}=document,l=g({data:n,url:t});return c.setAttribute("id",`spr-chat-download-form-${i}`),c.setAttribute("target","_top"),c.setAttribute("action",l),c.setAttribute("method",a),c.style.display="none",o&&(c.enctype=o),null!==n&&void 0!==n&&n[v]&&(c.innerHTML=`<input type="hidden" id="x-chat-token" name="x-chat-token" value="${r()(n[v])}">`),s.appendChild(c),c}(e);t.submit(),setTimeout((()=>h(t)),3e4)}}var m=n(294),I=n(287),C=n(50);async function T(e){const t=await Object(m.a)(I.a.getAppId(Object(p.a)()));j({url:"https://www.samsung.com/chat/api/livechat/conversation/downloadChatTranscript",data:{timeZone:Object(C.g)(),"x-chat-token":t,conversationId:e}})}async function E(e){const t=await Object(m.a)(I.a.getAppId(Object(p.a)()));j({url:"https://www.samsung.com/chat/api/livechat/conversation/downloadAttachment",data:{timeZone:Object(C.g)(),"x-chat-token":t,...e}})}},792:function(e,t,n){"use strict";var a=n(200),o=n(191),i=n.n(o),r=n(204),c=n.n(r),s=n(198),l=n(193),d=n(192),u=n(196);const b=Object(l.a)("button",{target:"e1nedcse0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",u.o,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),f={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"},p=i.a.forwardRef(((e,t)=>{const{iconName:n,iconCss:i,Icon:r,onLoad:l,...u}=e,p=Object(o.useMemo)((()=>i?[f,i]:[f]),[i]);return Object(d.jsx)(b,Object(a.a)({},u,{ref:t,className:c()("center-x-y",e.className)}),Object(d.jsx)(s.b,{alt:r,name:n,css:p,onLoad:l,"aria-hidden":!0,focusable:!1}),e.children)}));t.a=p},836:function(e,t,n){"use strict";var a=n(31),o=n.n(a);t.a=new class{constructor(){var e=this;this.queue=void 0,this.buffer=void 0,this._isFlushingInProgress=void 0,this._isReFlushPending=void 0,this.getQueue=()=>this.queue,this.getBufferQueue=()=>this.buffer,this.isFlushingInProgress=()=>this._isFlushingInProgress,this.setIsFlushingInProgress=e=>{this._isFlushingInProgress=e},this.isReFlushPending=()=>this._isReFlushPending,this.setIsReFlushPending=e=>{this._isReFlushPending=e},this.addCmdToQueue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o()(n)||e.push(...n)},this.move=(e,t)=>{e.forEach((()=>{this.addCmdToQueue(t,this.popNextCmd(e))}))},this.isEmpty=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return o()(t)},this.popNextCmd=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return t.shift()},this.queue=[],this.buffer=[],this._isFlushingInProgress=!1,this._isReFlushPending=!1}}},837:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="@user/UPDATE_USER_SETTINGS"},838:function(e,t,n){var a=n(1166),o=n(123);e.exports=function(e,t){return null!=e&&o(e,t,a)}},839:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1560),o=n(1452),i=n(1561);const r=Object(a.a)("isSSOAuthorized"),c=Object(a.a)("authToken"),s=Object(a.a)("oneTimeToken");class l{}l.isSSOAuthorized=Object(o.a)(r),l.getAuthToken=Object(o.a)(c),l.hasIsSSOAuthorized=e=>e&&Object(i.a)("isSSOAuthorized",e),l.getOneTimeToken=Object(o.a)(s)},841:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(519),o=n.n(a),i=n(8),r=n.n(i),c=n(1),s=n(199);function l(e){const t=Object(s.a)();t&&t.setUser&&t.setUser({id:e.userId,username:o()(`${e.firstName||""} ${e.lastName||""}`),email:e.email||""})}const d=(e,t)=>{const{appId:n}=Object(c.a)(),{chatUser:a}=e;if(r()(t,"otherConfigs.settings.enableSentry")&&!Object(s.a)()){const e=window.document.createElement("script");e.src="https://live-chat-static.sprinklr.com/sentry/sentry.min.js",e.crossOrigin="anonymous",e.onload=()=>{Object(s.a)().onLoad((()=>{Object(s.a)().init({tunnel:"https://www.samsung.com/chat/sentry",ignoreErrors:["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","Network Error"],denyUrls:[/extension:\/\//i]}),Object(s.a)().setTag("appId",n),Object(s.a)().setTag("appVersion","bkkhRhuaU"),l(a)}))},window.document.body.appendChild(e)}}},842:function(e,t,n){var a=n(516);e.exports=function(e,t){for(var n=e.length;n--&&a(t,e[n],0)>-1;);return n}},866:function(e,t,n){"use strict";var a=n(191),o=n.n(a),i=n(216),r=n.n(i);const c=o.a.createContext([null,r.a]);t.a=c},869:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(210);const o=Object(a.a)((()=>Promise.all([n.e(0),n.e(1),n.e(30)]).then(n.bind(null,1448))))},872:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(193),o=n(337),i=n(196);const r=Object(a.a)(o.a,{target:"e1yw42fw0"})("position:absolute;top:40px;height:20px;width:20px;",(e=>{let{isPhone:t}=e;return t&&"\n    height: 14px;\n    width: 14px;\n    top: 20px;\n   "}),";padding:0;",Object(i.e)(i.j,i.h),";")},874:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(191),o=n.n(a),i=n(216),r=n.n(i),c=n(692),s=n(192);const l={debug:r.a,info:r.a,error:r.a,warning:r.a,cleanup:r.a},d=o.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:a,children:o}=e;const i=Object(c.a)({videoConversationId:t,conversationId:n,isAudioCall:a});return Object(s.jsx)(d.Provider,{value:i},o)}},875:function(e,t,n){"use strict";var a=n(191),o=n(197),i=n(223),r=n(301),c=n(207),s=n(234),l=n(235),d=n(597);const u=(new i.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build();t.a=e=>{let{videoConversationId:t,conversationId:n}=e;const[i]=Object(r.a)(u,{ignoreResults:!0}),l=Object(o.d)(c.h),b=Object(s.d)(l),f=Object(a.useCallback)((e=>{const{eventType:n,activityAdditionalDetails:a}=e;return{videoConversationId:t,loggerSnUserId:b,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:a}}),[n,t,b]);return Object(a.useMemo)((()=>new d.a(i,{adapter:f,skip:!t})),[i,f,t])}},876:function(e,t,n){"use strict";var a=n(210);const o=()=>n.e(19).then(n.bind(null,1450)),i=e=>n(1225)(`./${e.toLowerCase()}/pages`),r=Object(a.a)(o);r.preload=e=>Promise.all([i(e),o()]),t.a=r},877:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(193),o=n(244),i=n(410);const r=Object(a.a)("div",{target:"e1kwqiqk0"})("width:100%;position:relative;height:",(e=>Object(o.a)(Object(i.c)(e))),";")},878:function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function r(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,c=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==c){var s=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",(function(){return r})),a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},879:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var a;(a=n(242))&&a.__esModule;t.timeoutsShape=null;t.classNamesShape=null},880:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(191),o=n.n(a),i=n(192);const r=o.a.createContext("MOBILE");t.b=e=>Object(i.jsx)(r.Provider,{value:e.device},e.children)},881:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(191),o=n.n(a),i=n(192);const r=o.a.createContext("ltr");t.b=e=>Object(i.jsx)(r.Provider,{value:e.direction},e.children)},882:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="trigger-close-icon-container"},883:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(191),o=n(283),i=n.n(o),r=n(481);const c=Object(r.c)(),s=e=>{const t=Object(a.useRef)(!1),n=Object(a.useRef)(0);return{onTouchStart:Object(a.useCallback)((()=>{t.current=!0}),[]),onTouchMove:Object(a.useCallback)(i()((()=>{t.current=!1}),100),[]),onTouchEnd:Object(a.useCallback)((n=>{t.current&&e(),t.current=!1,n.stopPropagation(),n.preventDefault()}),[e]),onTouchCancel:Object(a.useCallback)((()=>{t.current=!1}),[]),onDragStart:Object(a.useCallback)((e=>{n.current=e.timeStamp}),[]),onDragStop:Object(a.useCallback)((a=>{c&&!t.current&&a.timeStamp-n.current<=100&&(t.current=!1,e()),n.current=0}),[e])}}},885:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));var a=n(191),o=n(275),i=n.n(o),r=n(31),c=n.n(r),s=n(678),l=n(613),d=n(246),u=n(192);const b={byIds:{}},f=Object(a.createContext)(b),p=(e,t)=>{if(t.type===d.s){const{id:n,details:a}=t.payload;return c()(e.byIds[n])?i()(e,{byIds:{$merge:{[n]:a}}}):i()(e,{byIds:{[n]:{$merge:a}}})}return e},y=e=>{let{children:t}=e;const[n,o]=Object(a.useReducer)(p,b),i=Object(l.a)(),r=Object(a.useCallback)((e=>{const{type:t,payload:n}=e,a=null===i||void 0===i?void 0:i.find((e=>{var t,a;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(a=t.details)||void 0===a?void 0:a.id)===n.id}));a&&o({type:t,payload:{...n,id:a.id}})}),[i]);return Object(s.a)(d.s,r),Object(u.jsx)(f.Provider,{value:n},t)}},886:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0)},887:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},888:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>n.e(70).then(n.bind(null,1410))},889:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(466),o=n(703),i=n(704),r=n(489),c=n(220);const s={[c.c.CONTACT_DETAILS_FORM]:{NAME:e=>{let{user:t}=e;return Object(r.a)(t)},FIRST_NAME:e=>{let{user:t}=e;return t.firstName},LAST_NAME:e=>{let{user:t}=e;return t.lastName},EMAIL:e=>{let{user:t}=e;return t.email},PHONE_NO:e=>{let{user:t}=e;return t.phoneNo}}},l={[c.c.CONTACT_DETAILS_FORM]:(e,t)=>{const n=o.a.getFields(i.a.getForm(e)),a=s[c.c.CONTACT_DETAILS_FORM];return n.reduce(((e,n)=>{const{id:o}=n,i=a[o];return i&&(e[o]=i(t)),e}),{})}},d=(e,t)=>{const n=l[a.a.getType(e)];return n?n(e,t):{}}},890:function(e,t,n){var a=n(1235);e.exports=f,e.exports.parse=i,e.exports.compile=function(e,t){return c(i(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=b;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,a=[],i=0,r=0,c="",d=t&&t.delimiter||"/";null!=(n=o.exec(e));){var u=n[0],b=n[1],f=n.index;if(c+=e.slice(r,f),r=f+u.length,b)c+=b[1];else{var p=e[r],y=n[2],O=n[3],v=n[4],g=n[5],h=n[6],j=n[7];c&&(a.push(c),c="");var m=null!=y&&null!=p&&p!==y,I="+"===h||"*"===h,C="?"===h||"*"===h,T=n[2]||d,E=v||g;a.push({name:O||i++,prefix:y||"",delimiter:T,optional:C,repeat:I,partial:m,asterisk:!!j,pattern:E?l(E):j?".*":"[^"+s(T)+"]+?"})}}return r<e.length&&(c+=e.substr(r)),c&&a.push(c),a}function r(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",u(t)));return function(t,o){for(var i="",c=t||{},s=(o||{}).pretty?r:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!==typeof d){var u,b=c[d.name];if(null==b){if(d.optional){d.partial&&(i+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(a(b)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(b)+"`");if(0===b.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var f=0;f<b.length;f++){if(u=s(b[f]),!n[l].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===f?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(b).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(b),!n[l].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');i+=d.prefix+u}}else i+=d}return i}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function b(e,t,n){a(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,r="",c=0;c<e.length;c++){var l=e[c];if("string"===typeof l)r+=s(l);else{var b=s(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+b+f+")*"),r+=f=l.optional?l.partial?b+"("+f+")?":"(?:"+b+"("+f+"))?":b+"("+f+")"}}var p=s(n.delimiter||"/"),y=r.slice(-p.length)===p;return o||(r=(y?r.slice(0,-p.length):r)+"(?:"+p+"(?=$))?"),r+=i?"$":o&&y?"":"(?="+p+"|$)",d(new RegExp("^"+r,u(n)),t)}function f(e,t,n){return a(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var a=0;a<n.length;a++)t.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):a(e)?function(e,t,n){for(var a=[],o=0;o<e.length;o++)a.push(f(e[o],t,n).source);return d(new RegExp("(?:"+a.join("|")+")",u(n)),t)}(e,t,n):function(e,t,n){return b(i(e,n),t,n)}(e,t,n)}},891:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=new(n(586).a)},892:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},893:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="@chatPrompt/PROMPT_ACTION_TRIGGER"},894:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const a={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},o={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},895:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262);const o=async()=>a.a.post("/livechat/conversation/refresh-token")}}]);